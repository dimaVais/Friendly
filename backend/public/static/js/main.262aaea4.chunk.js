(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{136:function(e,t,a){e.exports=a(235)},141:function(e,t,a){},147:function(e,t,a){var n={"./cat.png":148,"./dog.png":149,"./farm.png":150,"./other.png":151};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=147},148:function(e,t,a){e.exports=a.p+"static/media/cat.269e723b.png"},149:function(e,t,a){e.exports=a.p+"static/media/dog.1afb1629.png"},150:function(e,t,a){e.exports=a.p+"static/media/farm.976d3f34.png"},151:function(e,t,a){e.exports=a.p+"static/media/other.6672fc57.png"},182:function(e,t,a){e.exports=a.p+"static/media/about1.679fdfa6.png"},183:function(e,t,a){e.exports=a.p+"static/media/about2.18fa0a8f.png"},184:function(e,t,a){e.exports=a.p+"static/media/about3.3f0198c1.png"},213:function(e,t){},231:function(e,t,a){e.exports=a.p+"static/media/logo.9b0c6cc2.png"},232:function(e,t,a){e.exports=a.p+"static/media/logo-with-title.85dfceb8.png"},233:function(e,t,a){e.exports=a.p+"static/media/insta.e77ccb90.png"},235:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),o=(a(141),a(10)),i=a(11),l=a(13),u=a(12),p=a(24),m=a(14),d=a(1),h=a.n(d),f=a(25),v=a(3),g=a(4),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={dog:!1,cat:!1,farm:!1,other:!1},e.imgClicked=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={dog:!1,cat:!1,farm:!1,other:!1},!e.state[a]){t.next=7;break}return t.next=4,e.setState(Object(v.a)({},n));case 4:a="",t.next=9;break;case 7:return t.next=9,e.setState(Object(v.a)(Object(v.a)({},n),{},Object(f.a)({},a,!e.state.type)));case 9:e.props.onCategoryChange({type:a});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(n,[{key:"displayTypesBtn",value:function(e){var t=this,n=this.state[e]?"pressed":"";return r.a.createElement("img",{key:e,src:a(147)("./".concat(e,".png")),className:n,alt:"Category",onClick:function(){return t.imgClicked(e)}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"category-list anchor"},Object.keys(this.state).map((function(t){return e.displayTypesBtn(t)})))}}]),n}(n.Component),E=a(22),y=a(276),O=a(277),w=a(265),x=a(275),j=a(266),N=a(268),C=a(19),S=a(15),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={gender:{txt:"",male:!1,female:!1},distance:{range:0}},e.onGenderChange=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={male:!1,female:!1},n=Object(v.a)(Object(v.a)({},n),{},Object(f.a)({},a,!e.state.gender[a])),console.log(n),t.next=5,e.setState(Object(v.a)(Object(v.a)({},e.state),{},{gender:Object(v.a)({},n)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDistanceChange=function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,console.log(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onShow=function(){e.state.gender.male,e.gender.female,console.log(e.state),e.props.onToggleFilterModal()},e.onClear=function(){},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"displayTags",value:function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("label",{htmlFor:""},e),r.a.createElement(y.a,{type:"checkbox",name:"",value:e}))}},{key:"displayGenderBtns",value:function(){var e=this,t=this.state.gender;return r.a.createElement("section",{className:"gender"},r.a.createElement(O.a,{htmlFor:""},"Gender"),r.a.createElement("div",{className:t.male?"pet-gender pressed":"pet-gender",onClick:function(){return e.onGenderChange("male")}},r.a.createElement(C.a,{className:" pet-gender-male-icon",icon:S.h})),r.a.createElement("div",{className:t.female?"pet-gender pressed":"pet-gender",onClick:function(){return e.onGenderChange("female")}},r.a.createElement(C.a,{className:" pet-gender-female-icon",icon:S.o})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"tags-modal"},r.a.createElement("div",{className:"container"},r.a.createElement(w.a,null,this.displayGenderBtns(),r.a.createElement("section",null,r.a.createElement(O.a,{htmlFor:"age"},"Age"),r.a.createElement(x.a,{native:!0,onChange:this.props.handleChange,inputProps:{name:"age",id:"age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:1},"Puppy"),r.a.createElement("option",{value:7},"Grown up"),r.a.createElement("option",{value:15},"Old"))),r.a.createElement("section",null,r.a.createElement(O.a,{htmlFor:"size"},"Size"),r.a.createElement(x.a,{native:!0,onChange:this.props.handleChange,inputProps:{name:"size",id:"age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"small"},"Small"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"big"},"Big"))),r.a.createElement("section",null,r.a.createElement(O.a,{htmlFor:""},"Distance(km)"),r.a.createElement(j.a,{type:"number",name:"",min:"1",id:"",onChange:this.onDistanceChange})),r.a.createElement("section",{className:"btns-container"}),r.a.createElement(N.a,{variant:"contained",onClick:this.onShow},"Show"),r.a.createElement(N.a,{variant:"contained",onClick:this.onClear},"Clear"))))}}]),a}(n.Component),_=a(124),I=a.n(_).a.create({withCredentials:!0}),D=function(e,t){return R(e,"GET",t)},U=function(e,t){return R(e,"POST",t)},T=function(e,t){return R(e,"PUT",t)},A=function(e,t){return R(e,"DELETE",t)};function R(e){return P.apply(this,arguments)}function P(){return(P=Object(g.a)(h.a.mark((function e(t){var a,n,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"get",n=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,I({url:"".concat("/api").concat(t),method:a,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var L={query:function(e){return B.apply(this,arguments)},getPetById:function(e){return F.apply(this,arguments)},save:function(e){return M.apply(this,arguments)},remove:function(e){return H.apply(this,arguments)}};function B(){return(B=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.next=3,D("".concat("/pet").concat(""),{params:t});case 3:return a=e.sent,n=G(a,t),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("".concat("/pet","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=7;break}return e.next=3,T("".concat("/pet","/").concat(t._id),t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.next=9,U("".concat("/pet"),t);case 9:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("".concat("/pet","/").concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){if(!t)return e;var n=e;if(t.txt){t.txt=t.txt.trim(" "),t.txt=t.txt.trim(",");var r=t.txt.split(" ");(r.length=1)&&(r=t.txt.split(",")),r.forEach((function(e){n=n.filter((function(t){if(t.name.toLowerCase().includes(e)||t.type.toLowerCase().includes(e)||t.gender.toLowerCase().includes(e)||t.size.toLowerCase().includes(e)||t.summary.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.shop.fullName.toLowerCase().includes(e))return t}))}))}if(n=n.filter((function(e){return e.type.toLowerCase().includes(t.type)})),t.distance.range){a(103)({key:"AIzaSyDGql0MyVMEQeH89LQj0TtpM66SoLpkAhw"}).computeDistanceBetween();n=n.filter((function(e){return e}))}return n}function z(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.query(e);case 2:n=t.sent,a({type:"LOAD_PETS",pets:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function q(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.save(e);case 2:n=t.sent,e._id?a({type:"EDIT_PET",petToSave:n}):a({type:"ADD_PET",petToSave:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function V(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.remove(e);case 2:a({type:"REMOVE_PET",petId:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function W(e){return function(t){t({type:"SET_FILTER",filterBy:e})}}var Y=a(57),J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={txt:"",isClearShown:!1},e.onInputChange=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a.target.value),n=a.target.value,e.setState({isClearShown:""!==n}),t.next=5,e.setState({txt:n});case 5:if(n||"hero"===e.state.parent){t.next=8;break}return t.next=8,e.onSearch();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.keyPress=function(t){13==t.keyCode&&e.onSearch()},e.onClear=Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({txt:""}),e.props.setFilter({txt:""},(function(){return e.props.loadPets()})),e.setState({isClearShown:!1});case 3:case"end":return t.stop()}}),t)}))),e.onSearch=Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setFilter({txt:e.state.txt},(function(){return e.props.loadPets()}));case 2:console.log(e.props),"hero"===e.state.parent&&e.props.history.push("/pet");case 4:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({txt:this.props.filterBy.txt});case 2:return e.next=4,this.setState({parent:this.props.parent});case 4:this.setState({isClearShown:""!==this.state.txt}),this.props&&console.log(this.props);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.setState({txt:this.props.filterBy.txt}),this.setState({isClearShown:""!==this.state.txt}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"search-container flex"},r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{className:"search",type:"text",name:"search",value:this.state.txt,autoComplete:"off",placeholder:"Find a friend (i.e. small, cat, puppy)",onChange:function(t){return e.onInputChange(t)},onKeyDown:this.keyPress}),r.a.createElement(C.a,{className:"search-icon",icon:S.k}),r.a.createElement(C.a,{className:this.state.isClearShown?"clear-icon":"clear-icon hidden",onClick:this.onClear,icon:S.n})),r.a.createElement("div",{className:"btn-search",onClick:this.onSearch},"Search"))}}]),a}(n.Component),Q={setFilter:W,loadPets:z},K=Object(p.f)(Object(m.b)((function(e){return{filterBy:e.petReducer.filterBy}}),Q)(J)),X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={parent:"",filterBy:{type:"",gender:"",breed:"",size:"",txt:"",distance:{lat:0,lon:0,range:0}},isModalShown:!1,tags:[]},e.onFilterChange=function(t){e.updateFilterAndLoad(t)},e.handleChange=function(e){console.log(e)},e.onToggleFilterModal=function(){e.setState({isModalShown:!e.state.isModalShown})},e.onApplyFilter=function(){e.onToggleFilterModal()},e.resetFilter=Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(v.a)(Object(v.a)({},e.state.filterBy),{},{type:"",gender:"",breed:"",size:"",txt:""}));case 2:e.props.setFilter(e.state.filterBy,(function(){return e.props.loadPets()}));case 3:case"end":return t.stop()}}),t)}))),e.onToggleTag=function(t){console.log("toggled:",t.target.value);var a=t.target.value,n=Object(E.a)(e.state.tags);n.includes(a)?n.splice(n.indexOf(a),1):n.push(a),e.setState({tags:n}),console.log(e.state.tags)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){return e}),(function(e){console.error("Error Code = "+e.code+" - "+e.message)}));case 2:t=e.sent,console.log(t),this.setState(Object(v.a)(Object(v.a)({},this.state),{},{filterBy:this.props.filterBy}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){console.log(this.props.pets)}},{key:"updateFilterAndLoad",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.setFilter(Object(v.a)(Object(v.a)({},this.props.filterBy),t),(function(){return a.loadPets()}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isModalShown;e.parent;return r.a.createElement("div",{className:"filter-container flex column align-center"},r.a.createElement("section",{className:"categoty-container"},r.a.createElement(b,{onCategoryChange:this.onFilterChange})),r.a.createElement("section",{className:"search-container flex space-around"},r.a.createElement(K,{parent:"main",onInputChange:this.onInputChange})),t&&r.a.createElement(k,{filterBy:this.props.filterBy,onToggleTag:this.onToggleTag,onFilterChange:this.onFilterChange,onToggleFilterModal:this.onToggleFilterModal}),r.a.createElement("br",null))}}]),a}(n.Component),Z={setFilter:W,loadPets:z},$=Object(m.b)((function(e){return{filterBy:e.petReducer.filterBy}}),Z)(X),ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-container full"},r.a.createElement("div",{className:"hero-content"},r.a.createElement("h1",{className:"hero-heading-up"},r.a.createElement("span",{className:"span"},"Friendly.")," Adopt a ",r.a.createElement("span",{className:"span"},"pet")," "),r.a.createElement("h1",{className:"hero-heading"},"Discover your next best friend"),r.a.createElement(K,{parent:"hero"}),r.a.createElement("section",{className:"category-container"})))}}]),a}(n.Component),te=a(20),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pet:{},isLiked:!1},e.onUpdateReaction=function(){var t=Object(g.a)(h.a.mark((function t(a,n){var r,c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=e.state.pet,c=r.reacts.map((function(t){return t.type===n&&(t.count+=e.state.isLiked?-1:1,e.setState(Object(v.a)(Object(v.a)({},e.state),{},{isLiked:!e.state.isLiked}))),t})),t.next=5,e.setState(Object(v.a)(Object(v.a)({},r),{},{reacts:Object(E.a)(c)}));case 5:return t.next=7,JSON.parse(JSON.stringify(e.state.pet));case 7:return s=t.sent,t.next=10,e.props.savePet(s);case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({pet:Object(v.a)({},this.props.pet)});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t==this.props){e.next=3;break}return e.next=3,this.setState({pet:Object(v.a)({},this.props.pet)});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=(0===Object.keys(this.state.pet).length?this.props:this.state).pet;return t&&t.reacts?r.a.createElement(te.c,{to:"/details/".concat(t._id)},r.a.createElement("div",{className:"pet-preview"},t.isAdopted&&r.a.createElement("div",{class:"ribbon ribbon-top-right"},r.a.createElement("span",null,"Adopted")),r.a.createElement("img",{src:t.imgUrls?t.imgUrls[0]:"",alt:"pet"}),r.a.createElement("div",{className:"card-description"},r.a.createElement("div",{className:"card-description-header"},r.a.createElement("h2",{className:"pet-name"},t.name),"Male"===t.gender&&r.a.createElement(C.a,{className:"pet-gender-male-icon",icon:S.h}),"Male"!==t.gender&&r.a.createElement(C.a,{className:"pet-gender-female-icon",icon:S.o})),r.a.createElement("h4",null,t.summary)),r.a.createElement("div",{className:"shop-container"},t.shop&&r.a.createElement(te.b,{to:"/shop/".concat(t.shop._id)},t.shop.fullName),r.a.createElement("div",{onClick:function(t){e.onUpdateReaction(t,"love")},className:"pet-rate-box"},r.a.createElement("span",null,t.reacts&&"love"===t.reacts[0].type?r.a.createElement(C.a,{className:"love-icon",icon:S.g}):""," "),t.reacts&&"love"===t.reacts[0].type?r.a.createElement("span",{className:"love-count"},t.reacts[0].count):"")))):r.a.createElement("h1",null,"loading...")}}]),a}(n.Component),ne={savePet:q,loadPets:z},re=Object(m.b)((function(e){return{}}),ne)(ae);function ce(e){var t=e.pets,a=e.onRemove,n=e.onEdit;return r.a.createElement("div",{className:"pet-list-container"},r.a.createElement("ul",{className:"pet-list"},t.map((function(e){return r.a.createElement(re,{pet:e,onRemove:a,onEdit:n})}))))}var se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pets:[],filterBy:{type:""},sortBy:null,isReady:!1},e.resetFitler=Object(g.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setFilter({type:"",gender:"",breed:"",size:"",txt:""},(function(){return e.loadPets()}));case 2:case"end":return t.stop()}}),t)}))),e.loadPets=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadPets(e.props.filterBy);case 2:return n=e.props.pets,t.next=5,e.setState(Object(v.a)(Object(v.a)({},e.state),{},{pets:n}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemove=function(t){e.props.removePet(t)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadPets();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.props&&this.setState({isReady:!0}),t.filterBy===this.props.filterBy){e.next=4;break}return e.next=4,this.loadPets();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resetFitler();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return this.state.pets?r.a.createElement("div",{className:"pets-container"},r.a.createElement($,null),r.a.createElement("div",{id:"center"}),r.a.createElement(ce,{pets:this.state.pets,onRemove:this.onRemove,user:e})):r.a.createElement("h1",null,"Loading...")}}]),a}(n.Component),oe={loadPets:z,removePet:V,setFilter:W},ie=Object(m.b)((function(e){return{pets:e.petReducer.pets,filterBy:e.petReducer.filterBy}}),oe)(se),le=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"about-main-container full"},r.a.createElement("div",{className:"about-left"},r.a.createElement("div",{className:"about-headings"},r.a.createElement("h1",null,"Friendly connects adoption centers to potential adopters")),r.a.createElement("div",{className:"call-to-action"},r.a.createElement(te.b,{to:"/pet"},r.a.createElement("button",{className:"go-to-gallery-btn"},"Let's See Some Animals")))),r.a.createElement("div",{className:"about-right"},r.a.createElement("div",{className:"adoption-reasons-box"},r.a.createElement("h3",{className:"adoption-reasons-header"},"Why Should I Adopt?"),r.a.createElement("p",null,"Decrease blood pressure."),r.a.createElement("p",null,"Decrease feelings of loneliness."),r.a.createElement("p",null,"Increase opportunities for exercise and outdoor activities."),r.a.createElement("p",{className:"adoption-reason-last"},"Increase opportunities for socialization.")),r.a.createElement("div",{className:"images-box"},r.a.createElement("img",{className:"img-1",src:a(182),alt:""}),r.a.createElement("img",{className:"img-2",src:a(183),alt:""}),r.a.createElement("img",{className:"img-3",src:a(184),alt:""}))))}}]),n}(n.Component),ue=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pets:[]},e.loadPets=function(){e.props.loadPets()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.loadPets()}},{key:"render",value:function(){this.props.user;return r.a.createElement("div",{className:"main-container"},r.a.createElement(ee,null),r.a.createElement(le,null))}}]),a}(n.Component),pe={loadPets:z},me=Object(m.b)((function(e){return{pets:e.petReducer.pets,user:e.userReducer.loggedInUser}}),pe)(ue),de=a(280),he=a(278),fe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={lat:0,lng:0},e.setLocToFind=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,console.log("find:",n),t.next=4,e.findLocation(n,e.getLatLng);case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.findLocation=function(){var e=Object(g.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a(103),r({key:"AIzaSyDGql0MyVMEQeH89LQj0TtpM66SoLpkAhw"}).find(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.getLatLng=function(){var t=Object(g.a)(h.a.mark((function t(a,n){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:if(!((r=t.sent)&&r.length>0)){t.next=8;break}return t.next=6,e.setState({lat:r[0].location.lat,lng:r[0].location.lng});case 6:c={lat:e.state.lat,lng:e.state.lng},e.props.getGeolocation(c);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return this.state?r.a.createElement("div",{className:"flex column align-center"},r.a.createElement(de.a,{type:"text",name:"locName",placeholder:"Your Shop Location",onChange:function(t){e.setLocToFind(t),e.props.signupHandleChange(t)}})):r.a.createElement("h1",null,"LOADING...")}}]),n}(r.a.Component),ve={login:function(e){return ge.apply(this,arguments)},logout:function(){return Ee.apply(this,arguments)},signup:function(e){return be.apply(this,arguments)},getUsers:function(){return D("user")},getById:function(e){return D("".concat("/user","/").concat(e))},remove:function(e){return A("".concat("/user","/").concat(e))},update:function(e){return console.log("This is user",e),T("user/".concat(e._id),e)}};function ge(){return(ge=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("".concat("/auth","/login"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("user",t);case 2:return a=e.sent,e.abrupt("return",a[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.getUsers();case 3:a=e.sent,t({type:"SET_USERS",users:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function Oe(){return(Oe=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.getById(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.update(e);case 2:n=t.sent,a({type:"UPDATE_USER",userToSave:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function xe(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.login(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function je(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.signup(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ne(){return function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Ce={query:function(){return Se.apply(this,arguments)},getById:function(e){return ke.apply(this,arguments)},getByUserId:function(e){return _e.apply(this,arguments)},save:function(e){return Ie.apply(this,arguments)},remove:function(e){return De.apply(this,arguments)}};function Se(){return(Se=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("".concat("/shop"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("".concat("/shop","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("".concat("/shop","/owner/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){return(Ie=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=8;break}return t.updatedAt=new Date(Date.now()).toLocaleString(),e.next=4,T("".concat("/shop","/").concat(t._id),t);case 4:return a=e.sent,e.abrupt("return",a);case 8:t.createdAt=new Date(Date.now()).toLocaleString();case 9:return t.pets=[],t.reviews=[],e.next=13,U("".concat("/shop"),t);case 13:return n=e.sent,e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("".concat("/shop","/").concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.query();case 2:a=e.sent,t({type:"LOAD_SHOPS",shops:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Te(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce.save(e);case 2:n=t.sent,e._id?a({type:"EDIT_SHOP",shopToSave:n}):a({type:"ADD_SHOP",shopToSave:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userAdopt:!1,userShop:!1,signupCred:""},e.setUserAdopt=function(){e.setState({userAdopt:!0,userShop:!1})},e.setUserShop=function(){e.setState({userShop:!0,userAdopt:!1})},e.signupHandleChange=function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target,r=n.name,c=n.value,t.next=3,e.setState((function(e){return{signupCred:Object(v.a)(Object(v.a)({},e.signupCred),{},Object(f.a)({},r,c))}}));case 3:console.log("This State:",e.state);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r,c,s,o,i,l,u,p,m,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,n.userAdopt,r=n.userShop,c=e.state.signupCred,s=c.fullName,o=c.username,i=c.password,l=c.address,u=c.email,p=c.phone,s&&o&&i&&l){t.next=5;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 5:return m={fullName:s,username:o,password:i,imgUrl:"https://ui-avatars.com/api/?name=".concat(s.substring(0,1),"+").concat(s.substring(s.indexOf(" ")+1,s.indexOf(" ")+2)),address:l,email:u,phone:p,isOwner:r,isGuest:!1},t.next=8,e.props.signup(m);case 8:return t.next=10,e.props.loadUsers();case 10:d=e.props.users[e.props.users.length-1],console.log("userNow:",d),e.setState({signupCred:{fullName:"",username:"",password:"",address:"",email:"",phone:""}}),r&&e.signUpShop(d),e.props.history.push("/");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.signUpShop=function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r,c,s,o,i,l,u,p,m,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.signupCred,r=n.name,c=n.type,s=n.title,o=n.desc,i=n.locName,l=n.lat,u=n.lng,r&&c&&s&&o&&i){t.next=3;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 3:return p={_id:a._id,fullName:a.fullName,imgUrl:a.imgUrl},m={name:i,lat:parseFloat(l),lng:parseFloat(u)},d={name:r,type:c,owner:p,title:s,desc:o,location:m},e.props.saveShop(d),a.isOwner=!0,t.next=10,e.props.updateUser(a);case 10:e.setState({signupCred:{name:"",type:"",owner:"",title:"",description:"",location:""}});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getGeolocation=function(t){e.setState({signupCred:Object(v.a)(Object(v.a)({},e.state.signupCred),{},{lat:t.lat,lng:t.lng})})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.userAdopt,n=t.userShop;this.props.loggedInUser;return console.log("this.state.signupCred",this.state.signupCred),r.a.createElement("div",{className:"form-container flex column align-center"},r.a.createElement("h1",null,"We are happy you decided to join us!"),r.a.createElement("p",null,"Do you want to adopt or to find adopters for your animals?"),r.a.createElement("div",{className:"btn-menu flex"},r.a.createElement("button",{onClick:function(){e.setUserAdopt()}},"Adopt"),r.a.createElement("button",{onClick:function(){e.setUserShop()}},"Find Adopters")),r.a.createElement("div",{className:"fields-container flex column align-center"},a?r.a.createElement("h3",null,"New Adopter"):r.a.createElement("h3",null,"Please filled out this form so we will be able to get to know you and your animals"),r.a.createElement("form",{className:"flex column align-center",onSubmit:this.doSignup},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex column align-center"},r.a.createElement("br",null),r.a.createElement(de.a,{type:"text",name:"fullName",placeholder:"Full Name",onChange:this.signupHandleChange,value:this.state.signupCred.fullName}),r.a.createElement(de.a,{type:"text",name:"username",placeholder:"User Name",onChange:this.signupHandleChange,value:this.state.signupCred.username}),r.a.createElement(de.a,{type:"password",name:"password",placeholder:"Password",onChange:this.signupHandleChange,value:this.state.signupCred.password}),r.a.createElement(de.a,{type:"text",name:"address",placeholder:"Personal Address",onChange:this.signupHandleChange,value:this.state.signupCred.address}),r.a.createElement(de.a,{type:"text",name:"email",placeholder:"Email",onChange:this.signupHandleChange,value:this.state.signupCred.email}),r.a.createElement(de.a,{type:"text",name:"phone",placeholder:"Phone",onChange:this.signupHandleChange,value:this.state.signupCred.phone})),n&&r.a.createElement("div",{className:"flex column align-center"},r.a.createElement(de.a,{type:"text",name:"name",placeholder:"Your Shop Name",onChange:this.signupHandleChange}),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"type"},"Shop Type:"),r.a.createElement(x.a,{native:!0,onChange:this.signupHandleChange,inputProps:{name:"type"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"shelter"},"Shelter"),r.a.createElement("option",{value:"volunteer"},"Volunteer"),r.a.createElement("option",{value:"private"},"Private"))),r.a.createElement(de.a,{type:"text",name:"title",placeholder:"Your shop title/catchFrase",onChange:this.signupHandleChange}),r.a.createElement(de.a,{id:"standard-textarea",label:"Shop Description:",placeholder:"Your shop short description",multiline:!0,name:"desc",onChange:this.signupHandleChange}),r.a.createElement(fe,{getGeolocation:this.getGeolocation,signupHandleChange:this.signupHandleChange}),r.a.createElement("br",null))),r.a.createElement("button",null,"Signup"))))}}]),a}(n.Component),Re={signup:je,login:xe,loadUsers:ye,saveShop:Te,loadShops:Ue,getUserById:function(e){return Oe.apply(this,arguments)},updateUser:we},Pe=Object(m.b)((function(e){return{users:e.userReducer.users,loggedInUser:e.userReducer.loggedInUser,shops:e.shopReducer.shops}}),Re)(Ae),Le=a(279),Be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pet:{}},e.handleInput=function(t){var a=t.target,n=a.name;if("number"===a.type)var r=+a.value;else r="checkbox"===a.type?a.checked:a.value;e.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},{pet:Object(v.a)(Object(v.a)({},e.pet),{},Object(f.a)({},n,r))})}))},e.onSubmitForm=function(t){t.preventDefault(),e.props.savePet(e.state.pet),e.props.history.push("/")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadPets();case 2:(t=this.props.match.params.id)&&(a=this.props.pets.find((function(e){return e._id===t})),this.setState({pet:Object(v.a)({},a)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(v.a)({},this.state.pet);return 0===Object.keys(t).length?r.a.createElement("h1",null,"LOADING..."):r.a.createElement("form",{className:"form-container fields-container flex column align-center below-nav",onSubmit:function(t){e.onSubmitForm(t)}},t._id?r.a.createElement("h1",null,"Edit Pet Details"):r.a.createElement("h1",null,"Add Your Pet"),r.a.createElement(j.a,{type:"text",name:"name",placeholder:"Pet Name:",value:t.name,onChange:this.handleInput}),r.a.createElement(j.a,{type:"text",name:"type",placeholder:"Pet Type:",value:t.type,onChange:this.handleInput}),r.a.createElement(Le.a,{name:"adoptedAt",label:"Pet Adoption Date",type:"date",defaultValue:new Date(t.adoptedAt).toISOString().substr(0,10),onChange:this.handleInput,InputLabelProps:{shrink:!0}}),r.a.createElement(Le.a,{name:"bDate",label:"Pet Birth Date",type:"date",defaultValue:new Date(t.bDate).toISOString().substr(0,10),onChange:this.handleInput,InputLabelProps:{shrink:!0}}),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"type"},"Pet Gender:"),r.a.createElement(x.a,{native:!0,value:t.gender,onChange:this.handleInput,inputProps:{name:"gender"}},r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"))),r.a.createElement(j.a,{type:"text",name:"breed",placeholder:"Pet Breed:",value:t.breed,onChange:this.handleInput}),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"type"},"Pet Size:"),r.a.createElement(x.a,{native:!0,value:t.size,onChange:this.handleInput,inputProps:{name:"size"}},r.a.createElement("option",{value:"small"},"Small"),r.a.createElement("option",{value:"medium"},"medium"),r.a.createElement("option",{value:"large"},"Large"),r.a.createElement("option",{value:"giant"},"Giant"))),r.a.createElement(he.a,{className:"flex align-center"},r.a.createElement("lable",{htmlFor:"type"}," Is In Risk:",r.a.createElement("input",{type:"checkbox",checked:t.isInRisk?"checked":""})),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Le.a,{id:"standard-textarea",label:"Pet description:",placeholder:"Your pet short description",multiline:!0,name:"description",value:t.description,onChange:this.handleInput}),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"kids"},"Select pet behavior with kids:"),r.a.createElement(x.a,{native:!0,onChange:this.handleInput,inputProps:{name:"kids"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"friendly"},"Friendly"),r.a.createElement("option",{value:"selective"},"Selective"),r.a.createElement("option",{value:"agressive"},"Agressive"))),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"dogs"},"Select pet behavior with dogs:"),r.a.createElement(x.a,{native:!0,onChange:this.handleInput,inputProps:{name:"dogs"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"friendly"},"Friendly"),r.a.createElement("option",{value:"selective"},"Selective"),r.a.createElement("option",{value:"agressive"},"Agressive"))),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"cats"},"Select pet behavior with cats:"),r.a.createElement(x.a,{native:!0,onChange:this.handleInput,inputProps:{name:"cats"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"friendly"},"Friendly"),r.a.createElement("option",{value:"selective"},"Selective"),r.a.createElement("option",{value:"agressive"},"Agressive"))),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"energy"},"Select pet energy level:"),r.a.createElement(x.a,{native:!0,onChange:this.handleInput,inputProps:{name:"energy"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"low"},"Low"),r.a.createElement("option",{value:"moderate"},"Moderate"),r.a.createElement("option",{value:"high"},"High"))),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"health"},"Select pet health condition:"),r.a.createElement(x.a,{native:!0,onChange:this.handleInput,inputProps:{name:"health"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"helathy"},"Healthy"),r.a.createElement("option",{value:"notHealthy"},"Not Healthy"))),r.a.createElement("button",null,"SAVE"))}}]),a}(n.Component),Fe={savePet:q,loadPets:z},Me=Object(m.b)((function(e){return{pets:e.petReducer.pets}}),Fe)(Be),He={query:function(){return Ge.apply(this,arguments)},getById:function(e){return ze.apply(this,arguments)},save:function(e){return qe.apply(this,arguments)},remove:function(e){return Ve.apply(this,arguments)}};function Ge(){return(Ge=Object(g.a)(h.a.mark((function e(){var t,a,n,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},a=c.length>1?c[1]:void 0,!t){e.next=8;break}return n=t?"?".concat(a,"=").concat(t):"",e.next=6,D("".concat("/order").concat(n),{params:t});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return(ze=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("".concat("/order","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=8;break}return t.updatedAt=new Date(Date.now()).toLocaleString(),e.next=4,T("".concat("/order","/").concat(t._id),t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return t.createdAt=new Date(Date.now()).toLocaleString(),e.next=11,U("".concat("/order"),t);case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return(Ve=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("".concat("/order","/").concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,He.query(e,t);case 2:r=a.sent,n({type:"LOAD_ORDERS",orders:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function Ye(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.save(e);case 2:n=t.sent,e._id?a({type:"EDIT_ORDER",orderToSave:n}):a({type:"ADD_ORDER",orderToSave:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Je=a(125),Qe=a.n(Je),Ke=function(){var e;return{setup:function(){e=Qe()("")},on:function(t,a){e.on(t,a)},off:function(t,a){e.off(t,a)},emit:function(t,a){console.log("socketservice:",t,"Data",a),e.emit(t,a)},terminate:function(){e=null}}}();window.socketService=Ke;var Xe=Ke;var Ze={query:function(){return $e.apply(this,arguments)},getById:function(e){return et.apply(this,arguments)},save:function(e){return tt.apply(this,arguments)},remove:function(e){return at.apply(this,arguments)}};function $e(){return($e=Object(g.a)(h.a.mark((function e(){var t,a,n,r,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},a=c.length>1?c[1]:void 0,!t){e.next=8;break}return n=t?"?".concat(a,"=").concat(t):"",e.next=6,D("".concat("/chat").concat(n),{params:t});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(){return(et=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("".concat("/chat","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(){return(tt=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=8;break}return t.updatedAt=new Date(Date.now()).toLocaleString(),e.next=4,T("".concat("/chat","/").concat(t._id),t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return t.createdAt=new Date(Date.now()).toLocaleString(),e.next=11,U("".concat("/chat"),t);case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){return(at=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("".concat("/chat","/").concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return console.log("chatId",e),function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ze.getById(e);case 3:n=t.sent,a({type:"GET_CHAT",chat:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in loadUsers",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var rt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={chat:{topic:"",initiate:{_id:"",fullName:""},target:{_id:"",fullName:""},msgs:[]},msg:{senderId:"",from:"",createdAt:"",txt:""},target:""},e.setChat=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,a.chats&&a.chats.length>0&&(console.log("userchats",a.chats,"of user",a),n=Object(E.a)(a.chats).find((function(t){return console.log("IN USER CHAT",t),t.topic==="".concat(e.props.loggedInUser._id,"__").concat(e.props.targetId)||t.topic==="".concat(e.props.targetId,"__").concat(e.props.loggedInUser._id)}))),console.log("userChat",n),!n){t.next=10;break}return t.next=6,e.props.getChatById(n._id);case 6:return t.next=8,e.setState({chat:Object(v.a)({},e.props.currChat)});case 8:t.next=12;break;case 10:return t.next=12,e.createChat(e.props.loggedInUser,e.state.target);case 12:Xe.setup(),Xe.emit("chat topic",e.state.chat.topic),Xe.on("chat addMsg",e.addMsg);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createChat=function(){var t=Object(g.a)(h.a.mark((function t(a,n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={topic:"".concat(a._id,"__").concat(n._id),initiate:{_id:a._id,fullName:a.fullName},target:{_id:n._id,fullName:n.fullName},msgs:[]},t.next=3,e.props.saveChat(r);case 3:[a,n].forEach(function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.chats||(a.chats=[]),e.props.currChat._id&&(n={_id:e.props.currChat._id,topic:e.props.currChat.topic,role:a._id===e.props.loggedInUser?"initiate":"target"},a.chats.push(n)),t.next=4,e.props.updateUser(a);case 4:return t.next=6,e.setState({chat:Object(v.a)({},e.props.currChat)});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.addMsg=function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({chat:Object(v.a)(Object(v.a)({},e.state.chat),{},{msgs:[].concat(Object(E.a)(e.state.chat.msgs),[a])})});case 2:e.props.saveChat(e.state.chat),e.props.updateUser(e.props.loggedInUser);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sendMsg=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={senderId:e.props.loggedInUser._id,from:e.props.loggedInUser.fullName,createdAt:new Date,txt:e.state.msg.txt},t.next=4,e.setState({msg:Object(v.a)({},n)});case 4:e.addMsg(e.state.msg),Xe.emit("chat addMsg",e.state.msg),e.setState({msg:{senderId:"",from:"",createdAt:"",txt:""}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.msgHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{msg:Object(v.a)(Object(v.a)({},e.msg),{},Object(f.a)({},n,r))}}))},e.onClose=function(){e.props.onClose()},e.displayMsg=function(t,a){console.log(t);var n="message-row ",c=new Date(t.createdAt),s=t.senderId===e.props.loggedInUser._id;return n+=s?"sender":"recipient",r.a.createElement("div",{className:n,key:a},!s&&r.a.createElement("img",{src:e.state.recipient.imgUrl,alt:""}),r.a.createElement("div",{className:"message-content"},r.a.createElement("div",{className:"txt"},t.txt),r.a.createElement("div",{className:"date"},c.getHours()+":"+c.getMinutes())))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.loggedInUser,console.log("logedIn",t),e.next=4,ve.getById(this.props.targetId);case 4:a=e.sent,this.setState({target:a}),this.setChat(this.props.loggedInUser);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Xe.off("chat addMsg",this.addMsg),Xe.terminate()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chat-container"},r.a.createElement("section",{className:"chat-title flex space-evenly"},r.a.createElement("span",null,this.state.recipient.fullName),r.a.createElement("button",{className:"btn-close btn",onClick:this.onClose},r.a.createElement(C.a,{className:"close-icon",icon:S.m}))),r.a.createElement("section",{className:"msgs-container"},this.state.chat.msgs&&this.state.chat.msgs.slice(0).reverse().map((function(t,a){return e.displayMsg(t,a)}))),r.a.createElement("form",{onSubmit:this.sendMsg},r.a.createElement("section",{className:"input-container flex space-around"},r.a.createElement("input",{type:"text",value:this.state.msg.txt,onChange:this.msgHandleChange,name:"txt",autoComplete:"off",placeholder:"Type Message Here"}),r.a.createElement("button",{className:"btn-send"},r.a.createElement(C.a,{className:"send-icon",icon:S.j})))))}}]),a}(n.Component),ct={loadPets:z,loadChats:function(e,t){return function(){var a=Object(g.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ze.query(e,t);case 2:r=a.sent,n({type:"LOAD_CHATS",chats:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},saveChat:function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze.save(e);case 2:n=t.sent,e._id?a({type:"EDIT_CHAT",chatToSave:n}):a({type:"ADD_CHAT",chatToSave:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getChatById:nt,updateUser:we},st=Object(m.b)((function(e){return{chats:e.chatReducer.chats,currChat:e.chatReducer.currChat,pets:e.petReducer.pets,loggedInUser:e.userReducer.loggedInUser}}),ct)(rt),ot=a(269),it=a(270),lt=a(271),ut=a(272),pt=a(273),mt=a(274),dt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pet:{},isChatOn:!1,isOwnerOfPet:!1,adoptButton:"Adopt",currComment:""},e.getCurrPet=Object(g.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadPets();case 2:a=e.props.match.params.id,n=e.props.pets.find((function(e){return e._id===a})),e.setState({pet:Object(v.a)({},n)});case 5:case"end":return t.stop()}}),t)}))),e.isOwnerOfPet=Object(g.a)(h.a.mark((function t(){var a,n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.loggedInUser,n=e.state.pet,!a||!n.shop){t.next=8;break}return r=n.shop._id,t.next=6,Ce.getById(r);case 6:c=t.sent,e.setState({isOwnerOfPet:a._id===c.owner._id});case 8:case"end":return t.stop()}}),t)}))),e.onAdopt=Object(g.a)(h.a.mark((function t(){var a,n,r,c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.props.loggedInUser).isGuest){t.next=3;break}return t.abrupt("return");case 3:return n=e.state.pet,r=n.shop._id,t.next=7,Ce.getById(r);case 7:c=t.sent,s={msg:"Hi, I saw your lovely pet and really wish to adopt it!",buyer:{_id:a._id,fullName:a.fullName,imgUrl:a.imgUrl},shop:{_id:c._id,name:c.name,type:c.type,imgUrl:c.imgUrl},pet:{_id:n._id,name:n.name},status:"Pending"},e.props.saveOrder(s),e.setState({adoptButton:"Request Sent"});case 11:case"end":return t.stop()}}),t)}))),e.onRemovePet=function(e){console.log("petId",e)},e.onToggleChat=function(){e.setState({isChatOn:!e.state.isChatOn})},e.onUpdateReaction=function(t){var a=e.state.pet;a.reacts.map((function(e){return e.type===t&&e.count++,e})),e.props.savePet(a),e.getCurrPet()},e.handleCommentInput=function(t){var a=t.target.value;e.setState({currComment:a})},e.onComment=Object(g.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.pet,n=e.props.loggedInUser,r={id:"c".concat(100+a.comments.length+1),txt:e.state.currComment,by:{id:n._id,fullName:n.fullName,imgUrl:n.imgUrl}},a.comments.unshift(r),t.next=6,e.props.savePet(a);case 6:e.getComponentData(),e.setState({cuurComment:""});case 8:case"end":return t.stop()}}),t)}))),e.getTimeToString=function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return e=a+"/"+t+"/"+n},e.getUserId=function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.state.pet),t.next=3,Ce.getById(e.state.pet.shop._id);case 3:return n=t.sent,t.next=6,n.owner._id;case 6:r=t.sent,e.setState({ownerId:r});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getComponentData(),Y.animateScroll.scrollToTop();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getComponentData",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrPet();case 2:return e.next=4,this.getUserId();case 4:return e.next=6,this.isOwnerOfPet();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.pet;this.props.loggedInUser;return t?r.a.createElement("section",{className:"pet-details-main-container"},r.a.createElement("div",{className:"pet-details-box"},r.a.createElement("div",{className:"pet-details-header"},r.a.createElement("h2",{className:"pet-details-heading"},t.name),r.a.createElement("div",{className:"share-box"},r.a.createElement(ot.a,{url:"http://www.camperstribe.com",quote:"See this cute pet I saw on Friendly",hashtag:"#Friendly"},r.a.createElement(it.a,{size:30})),r.a.createElement(lt.a,{url:"http://www.camperstribe.com",quote:"See this cute pet I saw on Friendly"},r.a.createElement(ut.a,{size:30})),r.a.createElement(pt.a,{url:"http://www.camperstribe.com",quote:"See this cute pet I saw on Friendly"},r.a.createElement(mt.a,{size:30})))),r.a.createElement("div",{className:"pet-details-img-box"},t.imgUrls?t.imgUrls.map((function(e,t){return r.a.createElement("img",{className:"pet-details-img-".concat(t),src:e})})):""),r.a.createElement("div",null,r.a.createElement("ul",{className:"reactions-list"},t.reacts?t.reacts.map((function(t){if("love"===t.type)return r.a.createElement("li",{className:"react-count"},r.a.createElement(C.a,{onClick:function(){e.onUpdateReaction("love")},className:"heart-icon",icon:S.g})," ","".concat(t.count))})):"")),r.a.createElement("div",{className:"shop-and-pet-info"},r.a.createElement("div",{className:"pet-info"},r.a.createElement("div",{className:"pet-info-up"},r.a.createElement("div",{className:"age info-box"},r.a.createElement(C.a,{className:"age-icon info-icon",icon:S.c}),r.a.createElement("p",null,r.a.createElement("span",null,"Age: "),"".concat(parseFloat((Date.now()-new Date(t.bDate))/31104e6).toFixed(1)))),r.a.createElement("div",{className:"size info-box"},r.a.createElement(C.a,{className:"size-icon info-icon",icon:S.e}),r.a.createElement("p",null,r.a.createElement("span",null,"Size:")," ",t.size))),r.a.createElement("div",{className:"pet-info-down "},r.a.createElement(C.a,{className:"gender-icon info-icon",icon:S.p}),r.a.createElement("div",{className:"gender info-box"},r.a.createElement("p",null,r.a.createElement("span",null,"Gender:")," ",t.gender)),r.a.createElement("div",{className:"breed info-box"},r.a.createElement(C.a,{className:"breed-icon info-icon",icon:S.a}),r.a.createElement("p",null,r.a.createElement("span",null,"Breed:")," ",t.breed)))),r.a.createElement("div",{className:"shop-details"},r.a.createElement("div",{className:"shop-details-up"},t.shop&&r.a.createElement("img",{className:"shop-img",src:"".concat(t.shop.imgUrl),alt:""}),t.shop&&r.a.createElement(te.b,{to:"/shop/".concat(t.shop._id)},r.a.createElement("p",null,t.shop.fullName))),r.a.createElement("div",{className:"shop-details-bottom"},r.a.createElement("div",{className:"shop-rate-box"},r.a.createElement(C.a,{className:"star-icon",icon:S.l}),t.shop&&r.a.createElement("p",{className:"shop-rate-rating"},t.shop.rate.rating,"  "),t.shop&&r.a.createElement("p",{className:"shop-rate-count"},"(",t.shop.rate.count,")  ")),t.shop&&r.a.createElement("button",{onClick:this.onToggleChat},"Message ",t.shop.fullName)))),r.a.createElement("div",{className:"tags-and-adopt-btn-box"},r.a.createElement("div",{className:"tags-list-box"},r.a.createElement("ul",{className:"tags-list"},t.tags?t.tags.map((function(e){return r.a.createElement("li",null," ",e," ")})):"")),r.a.createElement("button",{onClick:this.onAdopt,className:"adoption-btn"},"Adopt")),r.a.createElement("hr",null),r.a.createElement("div",{className:"description-box"},r.a.createElement("p",null,t.description)),r.a.createElement("hr",null),r.a.createElement("div",{className:"comments-box"},r.a.createElement("div",{className:"comment-input-box"},r.a.createElement(Le.a,{name:"txt",fullWidth:"true",value:this.state.currComment,placeholder:"Add Comment Here",onChange:this.handleCommentInput}),r.a.createElement("button",{className:"add-comment-btn",onClick:this.onComment},"Add")),r.a.createElement("ul",{className:"comment-list"},t.comments?t.comments.map((function(e){return r.a.createElement("li",{className:"single-comment-box"},r.a.createElement("div",{className:"flex comment-box"},e.by.imgUrl?r.a.createElement("img",{src:e.by.imgUrl,alt:""}):"","guest"===e.by.id?r.a.createElement("img",{src:"https://images.macrumors.com/t/x_zUFqghBUNBxVUZN_dYoKF3D9g=/1600x0/article-new/2019/04/guest-user-250x250.jpg",alt:""}):"",r.a.createElement("p",null,r.a.createElement("span",null,e.by.fullName,":")," "),r.a.createElement("p",null,r.a.createElement("span",null,e.createdAt)," "),r.a.createElement("p",null,e.txt," ")))})):""))),this.state.isChatOn&&r.a.createElement(st,{targetId:this.state.ownerId,onClose:this.onToggleChat})):r.a.createElement("h1",null,"Loading...")}}]),a}(n.Component),ht={loadPets:z,savePet:q,saveOrder:Ye,removePet:V},ft=Object(m.b)((function(e){return{pets:e.petReducer.pets,loggedInUser:e.userReducer.loggedInUser}}),ht)(dt);function vt(e){var t=e.order,a=e.onSave,n=e.onRemove,c=e.isShop;return t?r.a.createElement("div",{className:"order-preview ".concat("accepted"===t.status?"accepted":"denied"===t.status?"denied":"pending")},c&&r.a.createElement("div",{className:"order-preview-details"},r.a.createElement(te.b,{to:"/profile/".concat(t.buyer._id)},"  ",r.a.createElement("p",null,t.buyer.fullName," ",r.a.createElement("span",null,"Wants to Adopt")," ",t.pet.name," "))),!c&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("span",null,"To:")," ",t.shop.name," "),r.a.createElement("p",null," ",t.shop.type," "),r.a.createElement("p",null,r.a.createElement("span",null,"Who am I adopting?")," ",t.pet.name," ")),r.a.createElement("div",{className:"order-actions-btns-box"},c&&r.a.createElement("button",{className:"accept-order-btn order-btn",onClick:function(){a(t,"accepted")}},"Accept"),c&&r.a.createElement("button",{className:"pending-order-btn order-btn",onClick:function(){a(t,"pending")}},"Pending"),c&&r.a.createElement("button",{className:"reject-order-btn order-btn",onClick:function(){a(t,"denied")}},"Reject"),r.a.createElement("button",{className:"remove-order-btn order-btn",onClick:function(){n(t._id)}},"Remove"))):r.a.createElement("h3",{style:{display:"none"}},"loading...")}var gt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={msgDivClass:"hidden"},e.changePetAdoptionStatus=function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.props.pets.find((function(e){return e._id===a.pet._id}))).isAdopted=!0,e.props.savePet(n),console.log("pet",n),e.props.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSave=function(){var t=Object(g.a)(h.a.mark((function t(a,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.orders.find((function(e){return"accepted"===e.status&&e.pet._id===a.pet._id}))||"accepted"!==n){t.next=6;break}e.setState({msgDivClass:""}),setTimeout((function(){e.setState({msgDivClass:"hidden"})}),1500),t.next=11;break;case 6:return a.status=n,t.next=9,e.props.saveOrder(a);case 9:e.props.loadOrders(e.props.filterById,e.props.orderFilterName),"accepted"===n&&e.changePetAdoptionStatus(a);case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.onRemove=function(t){e.props.removeOrder(t)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.loadOrders(this.props.filterById,this.props.orderFilterName)}},{key:"render",value:function(){var e=this,t=this.props.orders;return t?r.a.createElement("div",{className:"order-list"},r.a.createElement("div",{className:"doubleAccept ".concat(this.state.msgDivClass)},"Only one approval please."),t.map((function(t){return r.a.createElement(vt,{isShop:e.props.isShop,order:t,onRemove:e.onRemove,onSave:e.onSave})}))):r.a.createElement("h1",null,"LOADING...")}}]),a}(n.Component),bt={loadOrders:We,saveOrder:Ye,removeOrder:function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.remove(e);case 2:a({type:"REMOVE_ORDER",orderId:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setFilter:function(e){return function(t){t({type:"SET_FILTER",filterBy:e})}},savePet:q},Et=Object(p.f)(Object(m.b)((function(e){return{pets:e.petReducer.pets,orders:e.orderReducer.orders}}),bt)(gt)),yt=a(60),Ot=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={lat:32.0853,lng:34.7818,zoom:16,loc:"Info Window"},e.onMarkerClick=function(e,t,a){},e.onMapClicked=function(t,a,n){e.setState({lat:n.latLng.lat(),lng:n.latLng.lng()})},e.onMapPassLoc=function(){e.state({lat:e.props.lat,lng:e.props.lng})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({lat:this.props.lat,lng:this.props.lng,zoom:14,loc:this.props.name})}},{key:"render",value:function(){return r.a.createElement(yt.Map,Object(f.a)({className:"map",initialCenter:this.state,center:this.state,onClick:this.onMapClicked,google:this.props.google,zoom:this.state.zoom},"className","map"),r.a.createElement(yt.Marker,{position:this.state,name:"Current location"}),r.a.createElement(yt.InfoWindow,{position:this.state,visible:!0},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.loc))))}}]),a}(r.a.Component),wt=Object(yt.GoogleApiWrapper)({apiKey:"AIzaSyA7wFxeGayDFtxLfft53sDr7sMu9cj7Vio"})(Ot),xt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={shop:{},shopPets:[],shopOwner:"",isOpenReviews:!1,currReview:{txt:"",rate:""}},e.loadShopData=Object(g.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.id,t.next=3,e.props.loadPets();case 3:return t.next=5,e.props.getShopById(a);case 5:return e.setState({shop:Object(v.a)({},e.props.currShop)}),t.next=8,ve.getById(e.props.currShop.owner._id);case 8:return n=t.sent,console.log("owner from DB",n),t.next=12,e.setState({shopOwner:Object(v.a)({},n)});case 12:return r=e.props.pets.filter((function(t){if(t.shop)return t.shop._id===e.state.shop._id})),t.next=15,e.setState({shopPets:Object(E.a)(r)});case 15:case"end":return t.stop()}}),t)}))),e.onRemove=function(t){e.props.removePet(t)},e.onEdit=function(){console.log("edit")},e.handleInput=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},{currReview:Object(v.a)(Object(v.a)({},e.currReview),{},Object(f.a)({},n,r))})}))},e.onAddReview=function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=Object(v.a)({},e.state.shop),(r=Object(v.a)({},e.state.currReview)).id="r".concat(100+n.reviews.length+1),c=e.props.loggedInUser,r.by={_id:c._id,fullName:c.fullName,imgUrl:c.imgUrl},console.log("review",r),n.reviews.push(r),t.next=10,e.props.saveShop(n);case 10:e.loadShopData();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onToggleReviewModal=function(){e.setState(Object(v.a)(Object(v.a)({},e.state),{},{isOpenReviews:!e.state.isOpenReviews}))},e.drawStars=function(e){for(var t="",a=0;a<e;a++)t+="\u2b50";return t},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadShopData();case 2:Y.animateScroll.scrollToTop();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.shop;Object.keys(this.state.shop).length>0&&(this.props.loggedInUser._id,this.props.currShop.owner._id);return r.a.createElement("section",null,t.owner&&t.location&&t.reviews?r.a.createElement("div",{className:"shop-details-main-box"},r.a.createElement("div",{className:"shop-details-header"},r.a.createElement("h2",{className:"shop-details-heading"},t.name),r.a.createElement("div",{className:"shop-rate-box"},r.a.createElement(C.a,{className:"star-icon",icon:S.l}),t&&r.a.createElement("p",{className:"shop-rate-rating"},t.rate.rating,"  "),t&&r.a.createElement("p",{className:"shop-rate-count"},"(",t.rate.count,")  "))),r.a.createElement("div",{className:"shop-details-img-box"},t.imgUrls?t.imgUrls.map((function(e,t){return r.a.createElement("img",{className:"shop-details-img-".concat(t),src:e})})):""),r.a.createElement("div",{className:"top-screen-box"},r.a.createElement("div",{className:"shop-details-section"},r.a.createElement("img",{className:"shop-owner-img",src:t.owner.imgUrl}),r.a.createElement("div",{className:"contact-box"},r.a.createElement(C.a,{className:"contact-icon",icon:S.f}),r.a.createElement("p",null,t.owner.fullName)),r.a.createElement("div",{className:"contact-box"},r.a.createElement(C.a,{className:"contact-icon",icon:S.i}),r.a.createElement("p",null,t.owner.contact.phone)),r.a.createElement("div",{className:"contact-box"},r.a.createElement(C.a,{className:"contact-icon",icon:S.d}),r.a.createElement("p",null,t.owner.contact.email)),r.a.createElement("div",{className:"shop-description"},r.a.createElement("p",null,t.desc))),r.a.createElement("div",{className:"order-list-box"},this.state.shop.owner._id===this.props.loggedInUser._id&&r.a.createElement(Et,{isShop:!0,orderFilterName:"shop._id",filterById:this.state.shop._id})),r.a.createElement("div",{className:"shop-location-box"},r.a.createElement("div",{className:"map-container"},r.a.createElement(wt,{lat:t.location.lat,lng:t.location.lng,name:t.location.name})),r.a.createElement(C.a,{className:"arrow-icon",icon:S.b}),r.a.createElement("div",{className:"shop-location-name"},r.a.createElement("h2",null,"We are located at ",t.location.name)))),r.a.createElement("div",{className:"bottom-screen-box"},r.a.createElement("div",{className:"reviews-box"},r.a.createElement("h3",null,"What they say about us"),r.a.createElement("button",{className:"open-reviews-btn",onClick:this.onToggleReviewModal},this.state.isOpenReviews?"Close review form":"Tell Us What You Think"),r.a.createElement("div",{className:this.state.isOpenReviews?"review-modal":"hidden"},r.a.createElement("form",{className:"review-form"},r.a.createElement("div",{className:"flex column"},r.a.createElement(Le.a,{id:"standard-textarea",label:"Shelter/Owner Review:",placeholder:"write your review:",multiline:!0,name:"txt",onChange:this.handleInput}),r.a.createElement(he.a,null,r.a.createElement(O.a,{htmlFor:"rate"},"Please add your rate:"),r.a.createElement(x.a,{native:!0,onChange:this.handleInput,inputProps:{name:"rate"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"1"},"1")))),r.a.createElement("button",{className:"add-review-btn",onClick:this.onAddReview},"Publish"))),t.reviews?r.a.createElement("ul",{className:"reviews-list"},t.reviews.map((function(t){return r.a.createElement("li",{className:"review"},r.a.createElement("p",{className:"review-text"},t.txt),r.a.createElement("p",null,r.a.createElement("span",null,"Rate: "),e.drawStars(t.rate)),r.a.createElement("p",null,r.a.createElement("span",null,"From: "),t.by.fullName))}))):r.a.createElement("h1",null,"Loading Reviews...")),r.a.createElement("div",{className:"pets-box"},r.a.createElement(ce,{pets:this.state.shopPets,onRemove:this.onRemove})))):r.a.createElement("h1",null,"LOADING Shop...."))}}]),a}(n.Component),jt={getShopById:function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce.getById(e);case 2:n=t.sent,a({type:"GET_SHOP",shop:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveShop:Te,loadPets:z,savePet:q},Nt=Object(m.b)((function(e){return{currShop:e.shopReducer.currShop,pets:e.petReducer.pets,loggedInUser:e.userReducer.loggedInUser,currChat:e.chatReducer.currChat}}),jt)(xt),Ct=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={msg:"",loginCred:{userName:"",password:""},showModal:!1},e.loginHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{loginCred:Object(v.a)(Object(v.a)({},e.loginCred),{},Object(f.a)({},n,r))}}))},e.closeModal=function(){e.props.onNavBarClick()},e.doLogin=function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r,c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.loginCred,r=n.userName,c=n.password,r&&c){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:s={userName:r,password:c},e.props.login(s),e.setState({loginCred:{userName:"",password:""}}),e.props.onNavBarClick();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){var e;return r.a.createElement("div",null,r.a.createElement("div",{className:"login-modal"},r.a.createElement("form",{onSubmit:this.doLogin},r.a.createElement(Le.a,{autoFocus:!0,required:!0,type:"text",name:"userName",value:this.state.loginCred.userName,onChange:this.loginHandleChange,placeholder:"User Name"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Le.a,{required:!0,type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(N.a,(e={onClick:this.doLogin,variant:"text"},Object(f.a)(e,"variant","outlined"),Object(f.a)(e,"color","primary"),e),"Login"))))}}]),a}(n.Component),St={login:xe,logout:Ne,signup:je,removeUser:function(e){return function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.remove(e);case 3:a({type:"USER_REMOVE",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:ye},kt=Object(m.b)((function(e){return{users:e.userReducer.users}}),St)(Ct),_t=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={chats:[]},e.displayChatDetails=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement("div",{onClick:r.a.createElement(st,{chatId:e._id})},e.target.fullName))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.loggedInUser.chats){e.next=5;break}return this.props.loggedInUser.chats.forEach(function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze.getById(t._id);case 2:a=e.sent,(void 0).push(JSON.parse(JSON.stringify(a)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(void 0),e.next=5,this.setState({chats:void 0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chat-list-container"},this.state.chats&&this.state.chats.map((function(t){return e.displayChatDetails(t)}))||r.a.createElement("div",null,"No chats to load"))}}]),a}(n.Component),It={getChatById:nt},Dt=Object(m.b)((function(e){return{chats:e.chatReducer.chats,currChat:e.chatReducer.currChat,loggedInUser:e.userReducer.loggedInUser}}),It)(_t),Ut=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showLoginModal:!1,showChatsList:!1,shop:"",shopId:"",pathName:""},e.componentDidUpdate=function(){var t=Object(g.a)(h.a.mark((function t(a){var n,r,c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.user||a.user._id===e.props.user._id){t.next=5;break}return t.next=3,e.props.loadShops();case 3:n=e.props.shops,e.props.user&&(r=e.props.user,c=r._id,(s=n.find((function(e){return e.owner._id===c})))&&e.setState({shopId:s._id,shop:s}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onNavBarClick=function(){e.setState({showLoginModal:!e.state.showLoginModal})},e.onLogOut=function(){e.props.logout()},e.onToggleChatsList=function(){e.setState({showChatsList:!e.state.showChatsList})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({pathName:this.props.history.location.pathname})}},{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"/"===this.props.history.location.pathname?"main-nav":"main-nav-not-home"},r.a.createElement("div",{className:"left-nav"},r.a.createElement(te.c,{to:"/"},r.a.createElement("img",{className:"logo-up",src:a(231),alt:"Home"})),r.a.createElement(te.c,{className:"nav-btn",to:"/pet"},"Gallery"),r.a.createElement(te.c,{className:"nav-btn",to:"/about"},"About Us")),r.a.createElement("div",{className:"right-nav"},t&&t.isOwner&&this.state.shopId&&r.a.createElement(te.c,{className:"nav-btn",to:"/shop/".concat(this.state.shopId)}," ",r.a.createElement("img",{className:"shop-img",src:this.state.shop.imgUrls[0],alt:""})," ",this.state.shop.name),t&&!t.isOwner&&!t.isGuest&&r.a.createElement(te.c,{className:"nav-btn",to:"/profile/".concat(t._id)},t.fullName),t&&!t.isGuest&&r.a.createElement("button",{className:"chats-btn nav - btn",onClick:this.onToggleChatsList},"Chat"),t&&t.isGuest&&r.a.createElement("button",{className:"login-btn nav-btn",onClick:function(){e.onNavBarClick()}},"Login"),t&&!t.isGuest&&r.a.createElement("button",{className:"logout-btn nav - btn",onClick:function(){e.onLogOut()}},"Logout"),this.state.showLoginModal&&r.a.createElement(kt,{onNavBarClick:this.onNavBarClick}),t&&t.isGuest&&r.a.createElement(te.c,{className:"nav-btn",to:"/signup"},"Sign Up"))),this.state.showChatsList&&r.a.createElement(Dt,null))}}]),n}(n.Component),Tt={loadShops:Ue,logout:Ne},At=Object(p.f)(Object(m.b)((function(e){return{user:e.userReducer.loggedInUser,shops:e.shopReducer.shops}}),Tt)(Ut)),Rt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e.getUserOrders=function(){e.props.loadOrders(e.state.user._id,"buyer._id")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,ve.getById(t);case 3:a=e.sent,this.setState({user:Object(v.a)({},a)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user;return e?r.a.createElement("div",{className:"user-profile-box"},r.a.createElement("div",{className:"user-profile-details"},r.a.createElement("h1",null,e.fullName),r.a.createElement("img",{src:e.imgUrl,alt:""})),r.a.createElement("div",{className:"user-profile-adoptions"},r.a.createElement("h3",null,"My Adoption Requests"),r.a.createElement(Et,{isShop:!1,orderFilterName:"buyer._id",filterById:e._id}))):r.a.createElement("h3",null,"Loading...")}}]),a}(n.Component),Pt={loadOrders:We},Lt=Object(m.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),Pt)(Rt),Bt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer full"},r.a.createElement(te.c,{to:"/"},r.a.createElement("img",{className:"logo-footer",src:a(232),alt:"Home"})),r.a.createElement("p",null,"Powered By ADA Systems."),r.a.createElement("div",{className:"social"},r.a.createElement("a",{href:"https://www.facebook.com/iHeartDogscom",target:"_blank"},r.a.createElement(it.a,{size:30})),r.a.createElement("a",{href:"https://twitter.com/AdoptCatsDogs",target:"_blank"},r.a.createElement(mt.a,{size:30})),r.a.createElement("a",{href:"https://www.instagram.com/charlie_retriever/?hl=en",target:"_blank"},r.a.createElement("img",{className:"insta-logo",src:a(233),alt:""}))))}}]),n}(n.Component),Ft=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.title="Friendly"}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(At,{onToggleChatsList:this.onToggleChatsList})),r.a.createElement("main",null,r.a.createElement(p.c,null,r.a.createElement(p.a,{component:Nt,path:"/shop/:id"}),r.a.createElement(p.a,{component:ft,path:"/details/:id?"}),r.a.createElement(p.a,{component:Me,path:"/edit/:id?"}),r.a.createElement(p.a,{component:Pe,path:"/signup/:type?"}),r.a.createElement(p.a,{component:Lt,path:"/profile/:id"}),r.a.createElement(p.a,{component:ie,path:"/pet/:filterType?"}),r.a.createElement(p.a,{component:me,path:"/"}))),r.a.createElement("footer",null,r.a.createElement(Bt,null)))}}]),a}(n.Component),Mt=Object(m.b)((function(e){return{}}))(Ft);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ht=a(48),Gt=a(127),zt={pets:[],filterBy:{type:"",gender:"",breed:"",size:"",txt:"",distance:{lat:0,lon:0,range:0}}};var qt={shops:[],currShop:{}};var Vt={loggedInUser:{_id:"guest",fullName:"guest",isGuest:!0},users:[]};var Wt={orders:[],filterBy:{shop:""}};var Yt={chats:[],currChat:"",filterBy:{}};var Jt=Object(Ht.c)({petReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_PETS":return Object(v.a)(Object(v.a)({},e),{},{pets:Object(E.a)(t.pets)});case"ADD_PET":return Object(v.a)(Object(v.a)({},e),{},{pets:[].concat(Object(E.a)(e.pets),[t.petToSave])});case"EDIT_PET":return console.log(t.petToSave),Object(v.a)(Object(v.a)({},e),{},{pets:e.pets.map((function(e){return e._id===t.petToSave._id?t.petToSave:e}))});case"REMOVE_PET":return Object(v.a)(Object(v.a)({},e),{},{pets:e.pets.filter((function(e){return e._id!==t.petId}))});case"SET_FILTER":return console.log(t.filterBy),Object(v.a)(Object(v.a)({},e),{},{filterBy:Object(v.a)(Object(v.a)({},e.filterBy),t.filterBy)});default:return e}},shopReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_SHOPS":return Object(v.a)(Object(v.a)({},e),{},{shops:Object(E.a)(t.shops)});case"GET_SHOP":return Object(v.a)(Object(v.a)({},e),{},{currShop:JSON.parse(JSON.stringify(t.shop))});case"ADD_SHOP":return Object(v.a)(Object(v.a)({},e),{},{shops:[].concat(Object(E.a)(e.shops),[t.shopToSave])});case"EDIT_SHOP":return Object(v.a)(Object(v.a)({},e),{},{shops:e.shops.map((function(e){return e._id===t.shopToSave._id?t.shopToSave:e}))});case"REMOVE_SHOP":return Object(v.a)(Object(v.a)({},e),{},{shops:e.shops.filter((function(e){return e._id!==t.shopId}))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(v.a)(Object(v.a)({},e),{},{loggedInUser:t.user});case"UPDATE_USER":return Object(v.a)(Object(v.a)({},e),{},{users:e.users.map((function(e){return e._id===t.userToSave._id?t.userToSave:e}))});case"USER_REMOVE":return Object(v.a)(Object(v.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(v.a)(Object(v.a)({},e),{},{users:t.users});default:return e}},orderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDERS":return Object(v.a)(Object(v.a)({},e),{},{orders:Object(E.a)(t.orders)});case"ADD_ORDER":return Object(v.a)(Object(v.a)({},e),{},{orders:[].concat(Object(E.a)(e.orders),[t.orderToSave])});case"EDIT_ORDER":return Object(v.a)(Object(v.a)({},e),{},{orders:e.orders.map((function(e){return e._id===t.orderToSave._id?t.orderToSave:e}))});case"REMOVE_ORDER":return Object(v.a)(Object(v.a)({},e),{},{orders:e.orders.filter((function(e){return e._id!==t.orderId}))});case"SET_FILTER":return Object(v.a)(Object(v.a)({},e),{},{filterBy:Object(v.a)(Object(v.a)({},e.filterBy),t.filterBy)});default:return e}},chatReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CHATS":return Object(v.a)(Object(v.a)({},e),{},{chats:Object(E.a)(t.chats)});case"GET_CHAT":return Object(v.a)(Object(v.a)({},e),{},{currChat:Object(v.a)({},t.chat)});case"ADD_CHAT":return console.log("IN REDUCER",t.chatToSave),Object(v.a)(Object(v.a)({},e),{},{chats:[].concat(Object(E.a)(e.chats),[t.chatToSave]),currChat:Object(v.a)({},t.chatToSave)});case"EDIT_CHAT":return Object(v.a)(Object(v.a)({},e),{},{chats:e.chats.map((function(e){return e._id===t.chatToSave._id?t.chatToSave:e})),currChat:Object(v.a)({},t.chatToSave)});case"REMOVE_CHAT":return Object(v.a)(Object(v.a)({},e),{},{chats:e.chats.filter((function(e){return e._id!==t.chatId}))});case"SET_FILTER":return Object(v.a)(Object(v.a)({},e),{},{filterBy:Object(v.a)(Object(v.a)({},e.filterBy),t.filterBy)});default:return e}}}),Qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ht.d,Kt=Object(Ht.e)(Jt,Qt(Object(Ht.a)(Gt.a)));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:Kt},r.a.createElement(te.a,null,r.a.createElement(Mt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[136,1,2]]]);
//# sourceMappingURL=main.262aaea4.chunk.js.map