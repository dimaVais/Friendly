{"version":3,"sources":["assets/img/category sync /^/.*/.png$","assets/img/category/cat.png","assets/img/category/dog.png","assets/img/category/farm.png","assets/img/category/other.png","assets/img/logo.png","cmps/CategoryList.jsx","cmps/TagsFilter.jsx","services/httpService.js","services/petService.js","store/actions/petActions.js","cmps/FilterSearch.jsx","cmps/PetFilter.jsx","cmps/Hero.jsx","cmps/PetPreview.jsx","cmps/PetList.jsx","pages/PetApp.jsx","cmps/About.jsx","pages/Home.jsx","cmps/Geolocation.jsx","services/userService.js","store/actions/userActions.js","services/shopService.js","store/actions/shopActions.js","pages/SignUp.jsx","pages/PetEdit.jsx","services/orderService.js","store/actions/orderActions.js","services/socketService.js","services/chatService.js","store/actions/chatActions.js","cmps/Chat.jsx","pages/PetDetails.jsx","cmps/OrderPreview.jsx","cmps/OrderList.jsx","cmps/GoogleMap.jsx","pages/ShopDetails.jsx","cmps/LoginModal.jsx","cmps/NavBar.jsx","pages/userProfile.jsx","App.jsx","cmps/Footer.jsx","serviceWorker.js","store/reducers/petReducer.js","store/reducers/shopReducer.js","store/reducers/userReducer.js","store/reducers/orderReducer.js","store/reducers/chatReducer.js","store/store.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","CategoryList","state","dog","cat","farm","other","imgClicked","type","a","setState","props","onCategoryChange","classStr","this","key","src","require","className","alt","onClick","displayTypesBtn","Component","TagsFilter","gender","txt","male","female","distance","range","onGenderChange","genderDefault","console","log","onDistanceChange","ev","target","value","onShow","onToggleFilterModal","onClear","tag","index","htmlFor","Switch","name","InputLabel","icon","faMars","faVenus","FormGroup","displayGenderBtns","Select","native","onChange","handleChange","inputProps","aria-label","Input","min","Button","variant","axios","Axios","create","withCredentials","endpoint","data","ajax","method","url","res","dir","response","status","window","location","assign","petService","query","getPetById","save","remove","filterBy","httpService","params","filtered","filterPets","pet","_id","petId","pets","filteredPets","trim","words","split","length","forEach","word","filter","toLowerCase","includes","size","summary","description","shop","fullName","geocoder","computeDistanceBetween","loadPets","dispatch","savePet","petToSave","removePet","setFilter","_FilterSearch","isClearShown","onInputChange","onSearch","keyPress","keyCode","parent","history","push","prevProps","autoComplete","placeholder","onKeyDown","faSearch","faTimesCircle","mapDispatchToProps","FilterSearch","withRouter","connect","petReducer","_PetFilter","breed","lat","lon","isModalShown","tags","onFilterChange","obj","updateFilterAndLoad","onApplyFilter","resetFilter","onToggleTag","splice","indexOf","navigator","geolocation","getCurrentPosition","position","error","message","PetFilter","Hero","_PetPreview","isLiked","onUpdateReaction","reaction","preventDefault","updatedReacts","reacts","react","count","JSON","parse","stringify","to","isAdopted","class","imgUrls","faHeart","PetPreview","PetList","onRemove","onEdit","_PetApp","sortBy","isReady","resetFitler","_","user","PetApp","About","_Home","categories","Home","userReducer","loggedInUser","Geolocation","lng","setLocToFind","loc","findLocation","getLatLng","cb","find","err","latLang","getGeolocation","OutlinedInput","event","signupHandleChange","React","login","logout","signup","getUsers","getById","userId","update","userCred","sessionStorage","clear","loadUsers","userService","users","updateUser","userToSave","userCreds","_user","shopService","getByUserId","updatedAt","Date","now","toLocaleString","createdAt","reviews","shopId","loadShops","shops","saveShop","shopToSave","_SignUp","userAdopt","userShop","signupCred","setUserAdopt","setUserShop","prevState","doSignup","username","password","address","email","phone","msg","imgUrl","substring","isOwner","isGuest","lastSignUpUser","signUpShop","currUser","title","desc","locName","owner","parseFloat","signupCreds","latLng","onSubmit","FormControl","label","multiline","getUserById","SignUp","shopReducer","_PetEdit","handleInput","field","checked","onSubmitForm","match","petToEdit","TextField","defaultValue","adoptedAt","toISOString","substr","InputLabelProps","shrink","bDate","isInRisk","PetEdit","orderService","filterName","queryStr","order","orderId","loadOrders","orders","saveOrder","orderToSave","socketService","socket","setup","io","on","eventName","off","emit","terminate","createSocketService","chatService","chat","chatId","getChatById","_Chat","topic","initiate","msgs","senderId","from","setChat","userChat","chats","targetId","currChat","createChat","addMsg","saveChat","chatToAdd","role","newMsg","sendMsg","msgHandleChange","onClose","displayMsg","idx","classTxt","recipientName","faTimes","faPaperPlane","loadChats","chatToSave","Chat","chatReducer","_PetDetails","isChatOn","isOwnerOfPet","adoptButton","currComment","getCurrPet","petToShow","onAdopt","buyer","onRemovePet","onToggleChat","handleCommentInput","onComment","comment","comments","by","unshift","getComponentData","cuurComment","getTimeToString","time","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","getUserId","ownerId","scroll","scrollToTop","FacebookShareButton","quote","hashtag","FacebookIcon","WhatsappShareButton","WhatsappIcon","TwitterShareButton","TwitterIcon","faCalendarAlt","toFixed","faExpandArrowsAlt","faVenusMars","faAlignLeft","faStar","rate","rating","fullWidth","PetDetails","OrderPreview","onSave","isShop","style","display","_OrderList","msgDivClass","changePetAdoptionStatus","orderCheck","setTimeout","filterById","orderFilterName","removeOrder","OrderList","orderReducer","_GoogleMap","zoom","onMarkerClick","marker","onMapClicked","mapProps","onMapPassLoc","initialCenter","center","google","visible","GoogleMap","GoogleApiWrapper","apiKey","_ShopDetails","shopPets","shopOwner","isOpenReviews","currReview","chatIdOn","chatImgs","loadShopData","getShopById","currShop","getChatImgs","userImg","img","onAddReview","review","onToggleReviewModal","getChatUserImg","imgForChat","drawStars","stars","i","isUserOwner","faFemale","faMobileAlt","contact","faEnvelope","faAngleDoubleUp","ShopDetails","_LoginModal","loginCred","userName","showModal","loginHandleChange","closeModal","onNavBarClick","doLogin","autoFocus","required","removeUser","LoginModal","_NavBar","pathName","onLogOut","componentDidUpdate","pathname","NavBar","_userProfile","getUserOrders","userProfile","_App","document","component","path","App","Boolean","hostname","initialState","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.0b0ff29a.chunk.js","sourcesContent":["var map = {\n\t\"./cat.png\": 147,\n\t\"./dog.png\": 148,\n\t\"./farm.png\": 149,\n\t\"./other.png\": 150\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 146;","module.exports = __webpack_public_path__ + \"static/media/cat.269e723b.png\";","module.exports = __webpack_public_path__ + \"static/media/dog.1afb1629.png\";","module.exports = __webpack_public_path__ + \"static/media/farm.976d3f34.png\";","module.exports = __webpack_public_path__ + \"static/media/other.6672fc57.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.9b0c6cc2.png\";","import React, { Component } from 'react'\r\n\r\n\r\nexport class CategoryList extends Component {\r\n    \r\n    state={\r\n        dog:false,\r\n        cat:false,\r\n        farm:false,\r\n        other:false\r\n    }\r\n    \r\n\r\n\r\n    displayTypesBtn(type){\r\n        const classStr=this.state[type]?'pressed':'';\r\n        return(\r\n             <img key={type} src={require(`../assets/img/category/${type}.png`)} className={classStr} alt=\"Category\" onClick={()=>this.imgClicked(type)}/>\r\n        )\r\n    }\r\n     imgClicked=async (type)=>{\r\n         const state= {\r\n            dog:false,\r\n            cat:false,\r\n            farm:false,\r\n            other:false\r\n         }\r\n        if(this.state[type]) {\r\n            await this.setState({...state})\r\n            type='';\r\n        }else await this.setState({...state,[type]:!this.state.type})\r\n        this.props.onCategoryChange({'type':type})\r\n        \r\n    }\r\n    render(){\r\n        \r\n        return (\r\n            <div className=\"category-list anchor\">\r\n                {\r\n                    Object.keys(this.state).map(type=>this.displayTypesBtn(type) )\r\n                }\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport { Input,Button,Switch,FormGroup,InputLabel,Select } from '@material-ui/core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faVenus } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nexport class TagsFilter extends Component {\r\n    \r\n    state={\r\n        gender:{\r\n            txt:'',\r\n            male:false,\r\n            female:false\r\n        },\r\n        distance:{\r\n            range:0\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        // this.setState({...this.state)\r\n        console.log(this.props);\r\n    }\r\n\r\n    \r\n    onGenderChange=async (gender)=>{\r\n        let genderDefault={\r\n            male:false,\r\n            female:false\r\n        }\r\n        genderDefault = {...genderDefault,[gender]:!this.state.gender[gender]}\r\n        console.log(genderDefault);\r\n        await this.setState({...this.state,gender:{...genderDefault}})\r\n    }\r\n    onDistanceChange=async (ev)=>{\r\n        const distance=ev.target.value\r\n        console.log(distance);\r\n    }\r\n    \r\n    \r\n    \r\n    onShow=()=>{\r\n        if(this.state.gender.male!==this.gender.female) {\r\n            \r\n        }\r\n        // this.props.onFilterChange({'gender':gender})\r\n        console.log(this.state);\r\n        this.props.onToggleFilterModal();\r\n    }\r\n    onClear=()=>{\r\n\r\n    }\r\n    displayTags(tag,index){\r\n        return (\r\n            <div  key={index}>\r\n                <label htmlFor=\"\">{tag}</label>\r\n                <Switch type=\"checkbox\" name=\"\" value={tag} />\r\n            </div>\r\n        )\r\n    }\r\n    displayGenderBtns(){\r\n        const {gender}=this.state\r\n        return(\r\n            <section className=\"gender\">                    \r\n                <InputLabel htmlFor=\"\">Gender</InputLabel>\r\n                <div className={gender.male?'pet-gender pressed':'pet-gender'} onClick={()=>this.onGenderChange('male')}><FontAwesomeIcon  className=\" pet-gender-male-icon\"  icon={faMars} /></div>\r\n                <div className={gender.female?'pet-gender pressed':'pet-gender'} onClick={()=>this.onGenderChange('female')}><FontAwesomeIcon  className=\" pet-gender-female-icon\"  icon={faVenus} /></div>\r\n            </section>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        const tags = [\"Kids friendly\",\"Healthy\",\"Energetic\",\"Sterilized\"]\r\n\r\n        return (\r\n            <div className=\"tags-modal\">\r\n                <div className=\"container\">\r\n                <FormGroup>\r\n                    {this.displayGenderBtns()}\r\n                    <section>\r\n\r\n                        <InputLabel htmlFor=\"age\">Age</InputLabel>\r\n                            <Select\r\n                                \r\n                                native\r\n                                onChange={this.props.handleChange}\r\n                                inputProps={{\r\n                                    name: 'age',\r\n                                    id: 'age-native-simple',\r\n                                }}\r\n                                >\r\n                                    <option aria-label=\"None\" value=\"\" />\r\n                                    <option value={1}>Puppy</option>\r\n                                    <option value={7}>Grown up</option>\r\n                                    <option value={15}>Old</option>\r\n                            </Select>\r\n                    </section>\r\n                    <section>\r\n                    <InputLabel htmlFor=\"size\">Size</InputLabel>\r\n                            <Select\r\n                                native\r\n                                onChange={this.props.handleChange}\r\n                                inputProps={{\r\n                                    name: 'size',\r\n                                    id: 'age-native-simple',\r\n                                }}\r\n                                >\r\n                                <option aria-label=\"None\" value=\"\" />\r\n                                <option value=\"small\">Small</option>\r\n                                <option value=\"medium\">Medium</option>\r\n                                <option value=\"big\">Big</option>\r\n                            </Select>\r\n\r\n                    </section>\r\n                   \r\n                    <section>\r\n                            <InputLabel htmlFor=\"\">{'Distance(km)'}</InputLabel>\r\n                            <Input type=\"number\" name=\"\" min=\"1\" id=\"\" onChange={this.onDistanceChange}/>\r\n                    </section>\r\n                    {/* <section >\r\n                        {tags.map((tag,index) => displayTags(tag,index))}\r\n                    </section> */}\r\n                    <section className=\"btns-container\"></section>\r\n                        <Button variant=\"contained\" onClick={this.onShow}>Show</Button>\r\n                        <Button variant=\"contained\" onClick={this.onClear}>Clear</Button>\r\n                </FormGroup>  \r\n                </div>  \r\n             </div>\r\n        )\r\n    }\r\n}\r\n","import Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api'\r\n    : '//localhost:3002/api'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/');\r\n        }\r\n        throw err;\r\n    }\r\n}","import httpService from './httpService.js'\r\nconst BASE_URL = '/pet'\r\n\r\nexport const petService = {\r\n    query,\r\n    getPetById,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query(filterBy) {\r\n    let queryStr = '';\r\n    //todo - change after building backend\r\n    // if (filterBy){\r\n    //     filterBy.type = filterBy.type.charAt(0).toUpperCase()+filterBy.type.slice(1);\r\n    //     queryStr = '?' + Object.keys(filterBy).map(key => key + '=' + filterBy[key]).join('&');\r\n\r\n    // }    \r\n    const res = await httpService.get(`${BASE_URL}${queryStr}`, {\r\n        params: filterBy\r\n    });\r\n    const filtered = filterPets(res, filterBy);\r\n    return filtered;\r\n}\r\nasync function getPetById(id) {\r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\nasync function save(pet) {\r\n    if (pet._id) {\r\n        // pet.updatedAt = new Date(date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${pet._id}`, pet)\r\n        return res;\r\n    } else {\r\n        // pet.createdAt = new Date(date.now()).toLocaleString();\r\n        const res = await httpService.post(`${BASE_URL}`, pet)\r\n        return res;\r\n    }\r\n}\r\nasync function remove(petId) {\r\n    await httpService.delete(`${BASE_URL}/${petId}`)\r\n}\r\nfunction filterPets(pets,filterBy){\r\n    if (!filterBy) return pets\r\n\r\n    let filteredPets=pets\r\n    if(filterBy.txt){\r\n        filterBy.txt=filterBy.txt.trim(' ');\r\n        filterBy.txt=filterBy.txt.trim(',');\r\n\r\n        let words = filterBy.txt.split(' ');\r\n        if (words.length=1) words=filterBy.txt.split(',');\r\n\r\n        words.forEach(word=>{\r\n            filteredPets = filteredPets.filter(pet =>{\r\n                if(pet.name.toLowerCase().includes(word) ||\r\n                 pet.type.toLowerCase().includes(word)||\r\n                 pet.gender.toLowerCase().includes(word)||\r\n                 pet.size.toLowerCase().includes(word)||\r\n                 pet.summary.toLowerCase().includes(word)||\r\n                 pet.description.toLowerCase().includes(word)||\r\n                 pet.shop.fullName.toLowerCase().includes(word)) return pet\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    filteredPets = filteredPets.filter(pet => {\r\n        return pet.type.toLowerCase().includes(filterBy.type)\r\n    })\r\n\r\n\r\n    if (filterBy.distance.range){\r\n        const geocoder = require('google-geocoder');\r\n        const geo = geocoder({\r\n            key: 'AIzaSyDGql0MyVMEQeH89LQj0TtpM66SoLpkAhw'\r\n        });\r\n        const distance=geo.computeDistanceBetween()\r\n        filteredPets = filteredPets.filter(pet=>{\r\n            return pet\r\n            })\r\n    }\r\n    return filteredPets\r\n}\r\n\r\n","import { petService } from \"../../services/petService.js\"\r\n\r\nexport function loadPets(filterBy) {\r\n    return async dispatch => {\r\n        const pets = await petService.query(filterBy);\r\n        dispatch({ type: 'LOAD_PETS', pets });\r\n    }\r\n}\r\n\r\nexport function savePet(pet) {\r\n    return async dispatch => {\r\n        const petToSave = await petService.save(pet);\r\n        if (pet._id) dispatch({ type: 'EDIT_PET', petToSave });\r\n        else dispatch({ type: 'ADD_PET', petToSave });\r\n    }\r\n}\r\n\r\nexport function removePet(petId) {\r\n    return async dispatch => {\r\n       await petService.remove(petId);\r\n       dispatch({ type: 'REMOVE_PET', petId })\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy){\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_FILTER', filterBy })\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { setFilter, loadPets } from '../store/actions/petActions.js'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\n\r\n\r\nclass _FilterSearch extends Component {\r\n\r\n    state = {\r\n        txt: '',\r\n        isClearShown: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.setState({ txt: this.props.filterBy.txt });\r\n        await this.setState({ parent: this.props.parent });\r\n        this.setState({ isClearShown: this.state.txt !== '' })\r\n        if (this.props) {\r\n            console.log(this.props);\r\n        }\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps !== this.props) {\r\n            this.setState({ txt: this.props.filterBy.txt });\r\n            this.setState({ isClearShown: this.state.txt !== '' })\r\n        }\r\n    }\r\n\r\n    onInputChange = async (ev) => {\r\n        console.log(ev.target.value);\r\n        const txt = ev.target.value;\r\n        this.setState({ isClearShown: txt !== '' })\r\n        await this.setState({ txt });\r\n        if (!txt) await this.onSearch();\r\n    }\r\n    keyPress = (e) => {\r\n        if (e.keyCode == 13) {\r\n            this.onSearch();\r\n\r\n        }\r\n    }\r\n    onClear = async () => {\r\n        this.setState({ txt: '' })\r\n        this.props.setFilter({ txt: '' }, () => this.props.loadPets())\r\n        this.setState({ isClearShown: false })\r\n    }\r\n\r\n    onSearch = async () => {\r\n        await this.props.setFilter({ txt: this.state.txt }, () => this.props.loadPets())\r\n        console.log(this.props)\r\n\r\n        if (this.state.parent === 'hero') this.props.history.push('/pet')\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"search-container flex\">\r\n                <div className=\"input-container\">\r\n                    <input className=\"search\"\r\n                        type=\"text\"\r\n                        name=\"search\"\r\n                        value={this.state.txt}\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"Find a friend (i.e. small, cat, puppy)\"\r\n                        onChange={(ev) => this.onInputChange(ev)}\r\n                        onKeyDown={this.keyPress} />\r\n                    <FontAwesomeIcon className=\"search-icon\" icon={faSearch} />\r\n                    <FontAwesomeIcon className={this.state.isClearShown ? 'clear-icon' : 'clear-icon hidden'}\r\n                        onClick={this.onClear} icon={faTimesCircle} />\r\n                </div>\r\n                <div className=\"btn-search\" onClick={this.onSearch}>Search</div>\r\n                {/* <div className=\"icons-container\">\r\n                </div> */}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        filterBy: state.petReducer.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    loadPets\r\n}\r\n\r\nexport const FilterSearch = withRouter(connect(mapStateToProps, mapDispatchToProps)(_FilterSearch));\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport {TagsFilter}from './TagsFilter'\r\nimport {setFilter,loadPets} from '../store/actions/petActions.js'\r\nimport { FilterSearch } from './FilterSearch';\r\nimport {CategoryList} from  './CategoryList'\r\n// import SearchIcon from '@material-ui/icons/Search';\r\n\r\n  class _PetFilter extends Component {\r\n\r\n    state={\r\n            parent:'',\r\n            filterBy: {\r\n                type:'',\r\n                gender:'',\r\n                breed:'',\r\n                size:'',\r\n                txt:'',\r\n                distance:{\r\n                    lat:0,\r\n                    lon:0,\r\n                    range:0\r\n                }\r\n            },\r\n            isModalShown:false,\r\n            tags:[]\r\n        \r\n    }\r\n\r\n   async componentDidMount(){\r\n       const position= await navigator.geolocation.getCurrentPosition(\r\n        function(position) {\r\n          return position\r\n          const distance={\r\n            lat:position.coords.latitude,\r\n            lon:position.coords.longitude,\r\n            range:0\r\n        }\r\n        this.setState({...this.state.filterBy,distance:distance});\r\n        \r\n        },\r\n        function(error) {\r\n          console.error(\"Error Code = \" + error.code + \" - \" + error.message);\r\n        }\r\n      );\r\n      console.log(position);\r\n      this.setState({...this.state,filterBy:this.props.filterBy})\r\n\r\n   }\r\n    \r\n   componentDidUpdate(){\r\n       console.log(this.props.pets);\r\n   }\r\n    onFilterChange=(obj)=>{\r\n        this.updateFilterAndLoad(obj)\r\n    }\r\n     \r\n    handleChange = (ev) => {\r\n       console.log(ev);\r\n        \r\n    }\r\n    onToggleFilterModal =()=>{\r\n        this.setState({isModalShown:!this.state.isModalShown})\r\n    }\r\n    onApplyFilter=()=>{\r\n        this.onToggleFilterModal()\r\n    }\r\n   \r\n    resetFilter=async()=>{\r\n        \r\n        await this.setState({...this.state.filterBy,\r\n            type:'',\r\n            gender:'',\r\n            breed:'',\r\n            size:'',\r\n            txt:''\r\n        });\r\n        this.props.setFilter(this.state.filterBy,()=>this.props.loadPets())\r\n    }\r\n\r\n    async updateFilterAndLoad(obj){\r\n        await this.props.setFilter({...this.props.filterBy,...obj},()=>this.loadPets())\r\n    }\r\n    onToggleTag=ev=>{\r\n        console.log('toggled:', ev.target.value);\r\n        const tag = ev.target.value;\r\n        let tags = [...this.state.tags]\r\n        if (tags.includes(tag)){\r\n            tags.splice(tags.indexOf(tag),1);\r\n        }else{\r\n            tags.push(tag)\r\n        }\r\n        this.setState({tags})\r\n        console.log(this.state.tags);\r\n    }\r\n\r\n    render() {\r\n        const {isModalShown, parent} = this.state\r\n        // const btnClass=parent==='hero'?'hero-btn more-btn':'gallery-btn more-btn';\r\n        return (\r\n            <div className=\"filter-container flex column align-center\">\r\n                <section className=\"categoty-container\">\r\n                    <CategoryList onCategoryChange={this.onFilterChange}/>\r\n                </section>\r\n                <section className=\"search-container flex space-around\">\r\n                        <FilterSearch parent=\"main\" onInputChange={this.onInputChange}/>\r\n                        {/* { <button className=\"more-btn\"  onClick={this.onToggleFilterModal}>More</button>} */}\r\n                </section>\r\n                {isModalShown   && <TagsFilter filterBy={this.props.filterBy} onToggleTag={this.onToggleTag} onFilterChange={this.onFilterChange} onToggleFilterModal={this.onToggleFilterModal}/>}\r\n              \r\n            <br/>   \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        filterBy:state.petReducer.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n   setFilter,\r\n   loadPets\r\n}\r\n\r\n\r\nexport const PetFilter = connect(mapStateToProps, mapDispatchToProps)(_PetFilter)\r\n","import React, { Component } from 'react'\r\nimport { PetFilter } from './PetFilter'\r\nimport {FilterSearch} from './FilterSearch'\r\nimport { CategoryList } from './CategoryList'\r\nexport class Hero extends Component {\r\n\r\n   \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"hero-container full\">\r\n                <div className=\"hero-content\">\r\n                    <h1 className=\"hero-heading-up\"><span className=\"span\">Friendly.</span> Adopt a <span className=\"span\">pet</span> </h1>\r\n                    <h1 className=\"hero-heading\">Discover your next best friend</h1>\r\n                    <FilterSearch parent='hero'/>\r\n                    <section className=\"category-container\">\r\n                        <CategoryList/>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { NavLink, Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\r\nimport { faMars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faVenus } from '@fortawesome/free-solid-svg-icons'\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loadPets, savePet } from '../store/actions/petActions';\r\n\r\n\r\nclass _PetPreview extends Component {\r\n\r\n    state = {\r\n        pet: {},\r\n        isLiked: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.setState({ pet: { ...this.props.pet } })\r\n    }\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps != this.props) {\r\n            await this.setState({ pet: { ...this.props.pet } })\r\n        }\r\n    }\r\n\r\n    onUpdateReaction = async (ev, reaction) => {\r\n        ev.preventDefault()\r\n        const pet = this.state.pet;\r\n        const updatedReacts = pet.reacts.map(react => {\r\n            if (react.type === reaction) {\r\n\r\n                react.count += this.state.isLiked ? -1 : +1;\r\n                this.setState({ ...this.state, isLiked: !this.state.isLiked })\r\n            }\r\n            return react\r\n        })\r\n        await this.setState({ ...pet, reacts: [...updatedReacts] })\r\n        const petToSave = await JSON.parse(JSON.stringify(this.state.pet));\r\n        await this.props.savePet(petToSave);\r\n    }\r\n\r\n    render() {\r\n        const { pet } = (Object.keys(this.state.pet).length === 0) ? this.props : this.state;\r\n        if (!pet || !pet.reacts) return <h1>loading...</h1>\r\n        return (\r\n            <NavLink to={`/details/${pet._id}`}>\r\n                \r\n                <div className=\"pet-preview\">\r\n                {pet.isAdopted && <div class=\"ribbon ribbon-top-right\"><span>Adopted</span></div>}\r\n                <img src={(pet.imgUrls) ? pet.imgUrls[0] : ''} alt=\"pet\" />\r\n                <div className=\"card-description\">\r\n                    <div className=\"card-description-header\">\r\n                        <h2 className=\"pet-name\">{pet.name}</h2>\r\n                        {(pet.gender === 'Male') && <FontAwesomeIcon className=\"pet-gender-male-icon\" icon={faMars} />}\r\n                        {(pet.gender !== 'Male') && <FontAwesomeIcon className=\"pet-gender-female-icon\" icon={faVenus} />}\r\n                    </div>\r\n                    <h4>{pet.summary}</h4>\r\n                </div>\r\n                <div className=\"shop-container\">\r\n                    {pet.shop && <Link to={`/shop/${pet.shop._id}`}>{pet.shop.fullName}</Link>}\r\n                    {/* {pet.shop && <h4>{pet.shop.fullName}</h4>} */}\r\n                    <div onClick={(ev) => { this.onUpdateReaction(ev, 'love') }} className=\"pet-rate-box\">\r\n                        <span>{pet.reacts && pet.reacts[0].type === 'love' ? <FontAwesomeIcon className=\"love-icon\" icon={faHeart} /> : ''} </span>\r\n                        {pet.reacts && pet.reacts[0].type === 'love' ? <span className=\"love-count\">{pet.reacts[0].count}</span> : ''}\r\n\r\n\r\n                        {/* <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                            {pet.shop && <p className=\"shop-rate-rating\">{pet.shop.rate.rating}  </p>}\r\n                            {pet.shop && <p className=\"shop-rate-count\">({pet.shop.rate.count})  </p>} */}\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                </div>\r\n            </ NavLink >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    savePet,\r\n    loadPets\r\n\r\n}\r\n\r\n\r\nexport const PetPreview = connect(mapStateToProps, mapDispatchToProps)(_PetPreview)\r\n\r\n","import React from 'react'\r\nimport { PetPreview } from './PetPreview'\r\n\r\n\r\nexport function PetList({ pets, onRemove, onEdit }) {\r\n    \r\n    return (\r\n        <div className=\"pet-list-container\">\r\n\r\n            <ul className=\"pet-list\">\r\n                {\r\n\r\n                    pets.map(pet => <PetPreview pet={pet} onRemove={onRemove} onEdit={onEdit} />)\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { PetFilter } from '../cmps/PetFilter'\r\nimport { PetList } from '../cmps/PetList'\r\nimport { loadPets, removePet,setFilter } from '../store/actions/petActions'\r\n\r\nclass _PetApp extends Component {\r\n\r\n    state = {\r\n        pets: [],\r\n        filterBy:{type:''},\r\n        sortBy: null,\r\n        isReady:false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.loadPets();\r\n    }\r\n\r\n   async  componentDidUpdate(prevProps){\r\n        if (prevProps!==this.props){\r\n            this.setState({isReady:true})\r\n           }\r\n        if(prevProps.filterBy!==this.props.filterBy){\r\n            await this.loadPets();\r\n        }\r\n\r\n    }\r\n    async componentWillUnmount(){\r\n       await this.resetFitler();\r\n    }\r\n\r\n     resetFitler=async()=>{\r\n        await this.props.setFilter({\r\n            type:'',\r\n            gender:'',\r\n            breed:'',\r\n            size:'',\r\n            txt:''\r\n        },()=>this.loadPets())\r\n    }\r\n\r\n    loadPets = async _ => {\r\n        //loading from props with filter and setting the local state\r\n        await this.props.loadPets(this.props.filterBy);\r\n        const pets=this.props.pets;\r\n        await this.setState({...this.state,pets})\r\n    }\r\n\r\n    onRemove = (id) => {\r\n        this.props.removePet(id)\r\n    }\r\n    \r\n    render() {\r\n        const {  user } = this.props;\r\n        if (!this.state.pets) return <h1>Loading...</h1>\r\n        return (\r\n            <div className=\"pets-container\"> \r\n                <PetFilter/>\r\n                <div id=\"center\"></div>\r\n                <PetList pets={this.state.pets} onRemove={this.onRemove} user={user} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        filterBy:state.petReducer.filterBy \r\n      }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadPets,\r\n    removePet,\r\n    setFilter\r\n}\r\n\r\nexport const PetApp = connect(mapStateToProps, mapDispatchToProps)(_PetApp)\r\n\r\n","import React, { Component } from 'react'\r\n\r\nexport class About extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"about-main-container full\">\r\n                <div className=\"about-headings\">\r\n                <h1>Friendly connects Rescue and Adoption centers to potential adopters.</h1>\r\n                <h2>We want to make the world a better place</h2>\r\n                </div>\r\n                <div className=\"images-box\">\r\n                </div>\r\n                \r\n                <div className=\"call-to-action\">\r\n                <h3>Explore</h3>\r\n                <h3>Reach Out</h3>\r\n                <h3>Adopt!</h3>\r\n                <button className=\"go-to-gallery-btn\">Let's See Some Animals</button>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { CategoryList } from '../cmps/CategoryList'\r\nimport { Hero } from '../cmps/Hero'\r\nimport { PetList } from '../cmps/PetList'\r\nimport { loadPets } from '../store/actions/petActions.js'\r\nimport { PetApp } from './PetApp'\r\nimport {PetFilter} from '../cmps/PetFilter'\r\nimport { About } from '../cmps/About'\r\n\r\nclass _Home extends Component {\r\n\r\n    state = {\r\n        pets: [],\r\n        categories: ['Dogs', 'Cats', 'Farm', 'Other']\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadPets()       \r\n    }\r\n    \r\n\r\n    loadPets = () => {\r\n        this.props.loadPets()\r\n    }\r\n\r\n    render() {\r\n        const {user} = this.props\r\n        return (\r\n            <div className=\"main-container\">\r\n                <Hero />\r\n                <About />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        user: state.userReducer.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadPets\r\n}\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)","import React from 'react'\r\nimport { OutlinedInput } from '@material-ui/core';\r\n\r\nexport class Geolocation extends React.Component {\r\n\r\n    state = {\r\n        lat: 0,\r\n        lng: 0\r\n    }\r\n\r\n    setLocToFind = async (ev) => {\r\n        const loc = ev.target.value;\r\n        console.log('find:', loc);\r\n        const res = await this.findLocation(loc, this.getLatLng);\r\n    }\r\n\r\n    findLocation = async (loc, cb) => {\r\n        const geocoder = require('google-geocoder');\r\n        const geo = geocoder({\r\n            key: 'AIzaSyDGql0MyVMEQeH89LQj0TtpM66SoLpkAhw'\r\n        });\r\n        geo.find(loc, cb);\r\n    }\r\n\r\n    getLatLng = async (err, res) => {\r\n        const data = await res;\r\n        if (data && data.length > 0) {\r\n            await this.setState({\r\n                lat: data[0].location.lat,\r\n                lng: data[0].location.lng\r\n            })\r\n           const latLang = {\r\n                lat:this.state.lat,\r\n                lng:this.state.lng\r\n            }\r\n            this.props.getGeolocation(latLang);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const latLng = this.state;\r\n        if (!latLng) return <h1>LOADING...</h1>\r\n        return (\r\n            <div className=\"flex column align-center\">\r\n                <OutlinedInput type=\"text\" name=\"locName\" placeholder=\"Your Shop Location\"\r\n                    onChange={(event) => {\r\n                        this.setLocToFind(event);\r\n                        this.props.signupHandleChange(event)\r\n                    }}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import httpService from './httpService'\r\nconst BASE_URL_AUTH = '/auth'\r\nconst BASE_URL_USER = '/user'\r\n\r\nexport default {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update\r\n}\r\n\r\nfunction getUsers() {\r\n    return httpService.get('user')\r\n}\r\n\r\nfunction getById(userId) {\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    return httpService.delete(`${BASE_URL_USER}/${userId}`)\r\n}\r\n\r\nfunction update(user) {\r\n    console.log('This is user',user);\r\n    return httpService.put(`user/${user._id}`, user)\r\n}\r\n\r\nasync function login(userCred) {\r\n    const res = await httpService.post(`${BASE_URL_AUTH}/login`, userCred);\r\n    return res;                              \r\n}\r\n\r\nasync function signup(user) {\r\n    const res = await httpService.post(`user`, user);\r\n    return res[0] \r\n}\r\n\r\nasync function logout() {\r\n    await httpService.post('auth/logout');\r\n    sessionStorage.clear();\r\n}\r\nfunction _handleLogin(user) {\r\n    sessionStorage.setItem('user', JSON.stringify(user))\r\n    return user;\r\n}\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}","import {\r\n    faFan\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport userService from \"../../services/userService\";\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            const users = await userService.getUsers();\r\n            dispatch({\r\n                type: 'SET_USERS',\r\n                users\r\n            });\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport async function getUserById(id) {\r\n    const user = await userService.getById(id);\r\n    return user;\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId);\r\n            dispatch({\r\n                type: 'USER_REMOVE',\r\n                userId\r\n            });\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err);\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateUser(user){\r\n    return async dispatch => {\r\n        const userToSave = await userService.update(user);\r\n        dispatch({\r\n            type: 'UPDATE_USER',\r\n            userToSave\r\n        });\r\n    };\r\n}\r\n\r\nexport function login(userCreds) {\r\n    return async dispatch => {\r\n        const user = await userService.login(userCreds);\r\n        dispatch({\r\n            type: 'SET_USER',\r\n            user\r\n        });\r\n    };\r\n}\r\nexport function signup(_user) {\r\n    return async dispatch => {\r\n        const user = await userService.signup(_user);\r\n        dispatch({\r\n            type: 'SET_USER',\r\n            user\r\n        });\r\n    };\r\n}\r\nexport function logout() {\r\n    return async dispatch => {\r\n        await userService.logout();\r\n        dispatch({\r\n            type: 'SET_USER',\r\n            user: null\r\n        });\r\n    };\r\n}","import httpService from './httpService.js'\r\nconst BASE_URL = '/shop'\r\n\r\n\r\nexport const shopService = {\r\n    query,\r\n    getById,\r\n    getByUserId,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query() {\r\n    const res = await httpService.get(`${BASE_URL}`);\r\n    return res;\r\n}\r\n\r\nasync function getById(id) {\r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\n\r\nasync function getByUserId(id) {\r\n    const res = await httpService.get(`${BASE_URL}/owner/${id}`);\r\n    return res;\r\n}\r\n\r\nasync function save(shop) {\r\n    if (shop._id) {\r\n        shop.updatedAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${shop._id}`, shop)\r\n        return res;\r\n\r\n    } else {\r\n        shop.createdAt = new Date(Date.now()).toLocaleString();\r\n    }\r\n    shop.pets = [];\r\n    shop.reviews = [];\r\n    const res = await httpService.post(`${BASE_URL}`, shop)\r\n    return res;\r\n}\r\n\r\n\r\nasync function remove(shopId) {\r\n    await httpService.delete(`${BASE_URL}/${shopId}`)\r\n}\r\n\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}","import { shopService } from \"../../services/shopService.js\"\r\n\r\nexport function loadShops() {\r\n    return async dispatch => {\r\n        const shops = await shopService.query();\r\n        dispatch({ type: 'LOAD_SHOPS', shops });\r\n    }\r\n}\r\n\r\nexport function getShopById(shopId) {\r\n    return async dispatch => {\r\n        const shop = await shopService.getById(shopId);\r\n        dispatch({ type: 'GET_SHOP', shop });\r\n    }\r\n}\r\n\r\nexport function saveShop(shop) {\r\n    return async dispatch => {\r\n        const shopToSave = await shopService.save(shop);\r\n        if (shop._id) dispatch({ type: 'EDIT_SHOP', shopToSave });\r\n        else dispatch({ type: 'ADD_SHOP', shopToSave });\r\n    }\r\n}\r\n\r\nexport function removeShop(shopId) {\r\n    return async dispatch => {\r\n       await shopService.remove(shopId);\r\n       dispatch({ type: 'REMOVE_SHOP', shopId })\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { OutlinedInput } from '@material-ui/core';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Geolocation } from '../cmps/Geolocation';\r\n\r\nimport { signup, getUserById, updateUser, login, loadUsers } from '../store/actions/userActions'\r\nimport { saveShop, loadShops } from '../store/actions/shopActions'\r\n\r\n\r\nexport class _SignUp extends Component {\r\n\r\n    state = {\r\n        userAdopt: false,\r\n        userShop: false,\r\n        signupCred: ''\r\n    }\r\n\r\n    setUserAdopt = () => {\r\n        this.setState({ userAdopt: true, userShop: false })\r\n    }\r\n    setUserShop = () => {\r\n        this.setState({ userShop: true, userAdopt: false })\r\n    }\r\n\r\n    signupHandleChange = async ev => {\r\n        const { name, value } = ev.target;\r\n        await this.setState(prevState => ({\r\n            signupCred: {\r\n                ...prevState.signupCred,\r\n                [name]: value\r\n            }\r\n        }));\r\n        console.log('This State:', this.state);\r\n    };\r\n\r\n    doSignup = async ev => {\r\n        ev.preventDefault();\r\n        const { userAdopt, userShop } = this.state;\r\n        const { fullName, username, password, address, email, phone } = this.state.signupCred;\r\n        if (!fullName || !username || !password || !address) {\r\n            return this.setState({ msg: 'All inputs are required!' });\r\n        }\r\n        const user = {\r\n            fullName: fullName,\r\n            username: username,\r\n            password: password,\r\n            imgUrl: `https://ui-avatars.com/api/?name=${fullName.substring(0, 1)}+${fullName.substring(fullName.indexOf(' ') + 1, fullName.indexOf(' ') + 2)}`,\r\n            address: address,\r\n            email: email,\r\n            phone: phone,\r\n            isOwner: userShop,\r\n            isGuest: false\r\n        };\r\n        await this.props.signup(user);\r\n        await this.props.loadUsers();\r\n        const lastSignUpUser = this.props.users[this.props.users.length - 1]\r\n        console.log('userNow:',lastSignUpUser);\r\n        this.setState({ signupCred: { fullName: '', username: '', password: '', address: '', email: '', phone: '' } });\r\n        if (userShop) {\r\n            this.signUpShop(lastSignUpUser);\r\n        } \r\n        this.props.history.push(`/`);\r\n    }\r\n\r\n    signUpShop = async (currUser) => {\r\n        const { name, type, title, desc, locName, lat, lng } = this.state.signupCred;\r\n        if (!name || !type || !title || !desc || !locName) {\r\n            return this.setState({ msg: 'All inputs are required!' });\r\n        }\r\n\r\n        const owner = {\r\n            _id: currUser._id,\r\n            fullName: currUser.fullName,\r\n            imgUrl: currUser.imgUrl\r\n        }\r\n        const location = {\r\n            name: locName,\r\n            lat: parseFloat(lat),\r\n            lng: parseFloat(lng)\r\n        }\r\n        const signupCreds = { name, type, owner, title, desc, location };\r\n        this.props.saveShop(signupCreds);\r\n        currUser.isOwner = true;\r\n        await this.props.updateUser(currUser)\r\n        this.setState({\r\n            signupCred: {\r\n                name: '', type: '', owner: '', title: '', description: '', location: ''\r\n            }\r\n        });\r\n        // await this.props.loadShops();\r\n        // const shopId = this.props.shops.find(shop => { return shop.owner._id === currUser._id })._id;\r\n        // this.props.history.push(`/shop/${shopId}`)\r\n    }\r\n\r\n    getGeolocation = (latLng) => {\r\n        this.setState({\r\n            signupCred: {\r\n                ...this.state.signupCred,\r\n                lat: latLng.lat,\r\n                lng: latLng.lng\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { userAdopt, userShop } = this.state\r\n        const { loggedInUser } = this.props\r\n        console.log('this.state.signupCred', this.state.signupCred);\r\n        return (\r\n            <div className=\"form-container flex column align-center\">\r\n                <h1>We are happy you decided to join us!</h1>\r\n                <p>Do you want to adopt or to find adopters for your animals?</p>\r\n                <div className=\"btn-menu flex\">\r\n                    <button onClick={() => { this.setUserAdopt() }}>Adopt</button>\r\n                    <button onClick={() => { this.setUserShop() }}>Find Adopters</button>\r\n                </div>\r\n                <div className=\"fields-container flex column align-center\">\r\n                    {(userAdopt) ? <h3>New Adopter</h3> :\r\n                        <h3>Please filled out this form so we will be able to get to know you and your animals</h3>}\r\n                    <form className=\"flex column align-center\" onSubmit={this.doSignup}>\r\n                        <div className=\"flex\">\r\n                            <div className=\"flex column align-center\">\r\n                                <br />\r\n                                <OutlinedInput type=\"text\" name=\"fullName\" placeholder=\"Full Name\" onChange={this.signupHandleChange} value={this.state.signupCred.fullName}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"username\" placeholder=\"User Name\" onChange={this.signupHandleChange} value={this.state.signupCred.username}></OutlinedInput>\r\n                                <OutlinedInput type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.signupHandleChange} value={this.state.signupCred.password}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"address\" placeholder=\"Personal Address\" onChange={this.signupHandleChange} value={this.state.signupCred.address}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"email\" placeholder=\"Email\" onChange={this.signupHandleChange} value={this.state.signupCred.email}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"phone\" placeholder=\"Phone\" onChange={this.signupHandleChange} value={this.state.signupCred.phone}></OutlinedInput>\r\n                            </div>\r\n                            {userShop &&\r\n                                <div className=\"flex column align-center\">\r\n                                    <OutlinedInput type=\"text\" name=\"name\" placeholder=\"Your Shop Name\"\r\n                                        onChange={this.signupHandleChange}></OutlinedInput>\r\n                                    <FormControl>\r\n                                        <InputLabel htmlFor=\"type\">Shop Type:</InputLabel>\r\n                                        <Select\r\n                                            native\r\n                                            onChange={this.signupHandleChange}\r\n                                            inputProps={{\r\n                                                name: \"type\",\r\n                                            }}>\r\n                                            <option aria-label=\"None\" value=\"\" />\r\n                                            <option value={\"shelter\"}>Shelter</option>\r\n                                            <option value={\"volunteer\"}>Volunteer</option>\r\n                                            <option value={\"private\"}>Private</option>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    <OutlinedInput type=\"text\" name=\"title\" placeholder=\"Your shop title/catchFrase\"\r\n                                        onChange={this.signupHandleChange}></OutlinedInput>\r\n                                    <OutlinedInput\r\n                                        id=\"standard-textarea\"\r\n                                        label=\"Shop Description:\"\r\n                                        placeholder=\"Your shop short description\"\r\n                                        multiline\r\n                                        name=\"desc\"\r\n                                        onChange={this.signupHandleChange}\r\n                                    />\r\n                                    <Geolocation getGeolocation={this.getGeolocation}\r\n                                        signupHandleChange={this.signupHandleChange} />\r\n                                    <br />\r\n                                </div>}\r\n                        </div>\r\n                        <button>Signup</button>\r\n                    </form>\r\n                </div >\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.userReducer.users,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n        shops: state.shopReducer.shops\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    signup,\r\n    login,\r\n    loadUsers,\r\n    saveShop,\r\n    loadShops,\r\n    getUserById,\r\n    updateUser\r\n};\r\n\r\nexport const SignUp = connect(mapStateToProps, mapDispatchToProps)(_SignUp);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { savePet, loadPets } from '../store/actions/petActions.js'\r\nimport { Input } from '@material-ui/core';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\n\r\nexport class _PetEdit extends Component {\r\n\r\n    state = {\r\n        pet: {}\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadPets();\r\n        const petId = this.props.match.params.id\r\n        if (petId) {\r\n            const petToEdit = this.props.pets.find(pet => pet._id === petId)\r\n            this.setState({ pet: { ...petToEdit } })\r\n        }\r\n    }\r\n\r\n    handleInput = ({ target }) => {\r\n        const field = target.name;\r\n        if (target.type === 'number') var value = +target.value;\r\n        else if (target.type === 'checkbox') value = (target.checked);\r\n        else value = target.value;\r\n\r\n        this.setState(prevState => {\r\n            return {\r\n                ...prevState,\r\n                pet: {\r\n                    ...prevState.pet,\r\n                    [field]: value\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    onSubmitForm = (ev) => {\r\n        ev.preventDefault();\r\n        this.props.savePet(this.state.pet);\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        const pet = { ...this.state.pet }\r\n        if (Object.keys(pet).length === 0) return (<h1>LOADING...</h1>)\r\n        return (\r\n            <form className={\"form-container fields-container flex column align-center below-nav\"}\r\n                onSubmit={(event) => { this.onSubmitForm(event) }}>\r\n                {(!pet._id) ? <h1>Add Your Pet</h1> : <h1>Edit Pet Details</h1>}\r\n                <Input type=\"text\" name=\"name\" placeholder=\"Pet Name:\"\r\n                    value={pet.name} onChange={this.handleInput}></Input>\r\n                <Input type=\"text\" name=\"type\" placeholder=\"Pet Type:\"\r\n                    value={pet.type} onChange={this.handleInput}></Input>\r\n                <TextField name=\"adoptedAt\" label=\"Pet Adoption Date\" type=\"date\"\r\n                    defaultValue={new Date(pet.adoptedAt).toISOString().substr(0, 10)}\r\n                    onChange={this.handleInput}\r\n                    InputLabelProps={{ shrink: true }}\r\n                />\r\n                <TextField name=\"bDate\" label=\"Pet Birth Date\" type=\"date\"\r\n                    defaultValue={new Date(pet.bDate).toISOString().substr(0, 10)}\r\n                    onChange={this.handleInput}\r\n                    InputLabelProps={{ shrink: true }}\r\n                />\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"type\">Pet Gender:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        value={pet.gender}\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"gender\",\r\n                        }}>\r\n                        <option value={\"male\"}>Male</option>\r\n                        <option value={\"female\"}>Female</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <Input type=\"text\" name=\"breed\" placeholder=\"Pet Breed:\"\r\n                    value={pet.breed} onChange={this.handleInput}></Input>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"type\">Pet Size:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        value={pet.size}\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"size\",\r\n                        }}>\r\n                        <option value=\"small\">Small</option>\r\n                        <option value=\"medium\">medium</option>\r\n                        <option value=\"large\">Large</option>\r\n                        <option value=\"giant\">Giant</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl className=\"flex align-center\">\r\n                    <lable htmlFor=\"type\"> Is In Risk:\r\n                    <input type=\"checkbox\" checked={(pet.isInRisk) ? \"checked\" : \"\"} />\r\n                    </lable>\r\n                    <br /><br />\r\n                </FormControl>\r\n                <TextField\r\n                    id=\"standard-textarea\"\r\n                    label=\"Pet description:\"\r\n                    placeholder=\"Your pet short description\"\r\n                    multiline\r\n                    name=\"description\"\r\n                    value={pet.description}\r\n                    onChange={this.handleInput}\r\n                />\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"kids\">Select pet behavior with kids:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"kids\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"friendly\">Friendly</option>\r\n                        <option value=\"selective\">Selective</option>\r\n                        <option value=\"agressive\">Agressive</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"dogs\">Select pet behavior with dogs:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"dogs\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"friendly\">Friendly</option>\r\n                        <option value=\"selective\">Selective</option>\r\n                        <option value=\"agressive\">Agressive</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"cats\">Select pet behavior with cats:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"cats\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"friendly\">Friendly</option>\r\n                        <option value=\"selective\">Selective</option>\r\n                        <option value=\"agressive\">Agressive</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"energy\">Select pet energy level:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"energy\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"low\">Low</option>\r\n                        <option value=\"moderate\">Moderate</option>\r\n                        <option value=\"high\">High</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"health\">Select pet health condition:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"health\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"helathy\">Healthy</option>\r\n                        <option value=\"notHealthy\">Not Healthy</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <button>SAVE</button>\r\n            </form >\r\n        )\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    savePet,\r\n    loadPets\r\n}\r\n\r\nexport const PetEdit = connect(mapStateToProps, mapDispatchToProps)(_PetEdit)\r\n","import httpService from './httpService.js'\r\nconst BASE_URL = '/order'\r\n\r\n\r\nexport const orderService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query(filterBy={}, filterName) {\r\n    if (filterBy) {\r\n        const queryStr = (filterBy) ? `?${filterName}=${filterBy}` : '';\r\n        const res = await httpService.get(`${BASE_URL}${queryStr}`, {\r\n            params: filterBy\r\n        });\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function getById(id) {\r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\n\r\nasync function save(order) {\r\n    if (order._id) {\r\n        order.updatedAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${order._id}`, order)\r\n        return res;\r\n\r\n    } else {\r\n        order.createdAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.post(`${BASE_URL}`, order)\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function remove(orderId) {\r\n    await httpService.delete(`${BASE_URL}/${orderId}`)\r\n}\r\n\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n","import { orderService } from \"../../services/orderService.js\"\r\n\r\nexport function loadOrders(filterBy, filterName) {\r\n    return async dispatch => {\r\n        const orders = await orderService.query(filterBy, filterName);\r\n        dispatch({ type: 'LOAD_ORDERS', orders });\r\n    }\r\n}\r\n\r\nexport function saveOrder(order) {\r\n    return async dispatch => {\r\n        const orderToSave = await orderService.save(order);\r\n        if (order._id) dispatch({ type: 'EDIT_ORDER', orderToSave });\r\n        else dispatch({ type: 'ADD_ORDER', orderToSave });\r\n    }\r\n}\r\n\r\nexport function removeOrder(orderId) {\r\n    return async dispatch => {\r\n       await orderService.remove(orderId);\r\n       dispatch({ type: 'REMOVE_ORDER', orderId })\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy){\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_FILTER', filterBy })\r\n    }\r\n}\r\n","import io from 'socket.io-client';\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3002/'\r\nconst socketService = createSocketService();\r\n// const socketService = createDummySocketService();\r\n\r\nwindow.socketService = socketService;\r\nexport default socketService;\r\n\r\nfunction createSocketService() {\r\n  var socket;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl);\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb);\r\n    },\r\n    off(eventName, cb) {\r\n      socket.off(eventName, cb);\r\n    },\r\n    emit(eventName, data) {\r\n\r\n      console.log('socketservice:',eventName, 'Data', data);\r\n      socket.emit(eventName, data);\r\n    },\r\n    terminate() {\r\n      socket = null;\r\n    }\r\n  }\r\n  return socketService;\r\n}\r\n\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    setup() {\r\n      listenersMap = {}\r\n      window.listenersMap = listenersMap;\r\n    },\r\n    terminate() {\r\n      listenersMap = {}\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return;\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      });\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService;\r\n}\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) {console.log(x)}\r\n// socketService.on('baba', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n","import httpService from './httpService.js'\r\nconst BASE_URL = '/chat'\r\n\r\n\r\nexport const chatService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query(filterBy={}, filterName) {\r\n    if (filterBy) {\r\n        const queryStr = (filterBy) ? `?${filterName}=${filterBy}` : '';\r\n        const res = await httpService.get(`${BASE_URL}${queryStr}`, {\r\n            params: filterBy\r\n        });\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function getById(id) {\r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\n\r\nasync function save(chat) {\r\n    if (chat._id) {\r\n        chat.updatedAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${chat._id}`, chat)\r\n        return res;\r\n\r\n    } else {\r\n        chat.createdAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.post(`${BASE_URL}`, chat)\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function remove(chatId) {\r\n    await httpService.delete(`${BASE_URL}/${chatId}`)\r\n}\r\n\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n","import { chatService } from \"../../services/chatService.js\"\r\n\r\nexport function loadChats(filterBy, filterName) {\r\n    return async dispatch => {\r\n        const chats = await chatService.query(filterBy, filterName);\r\n        dispatch({ type: 'LOAD_CHATS', chats });\r\n    }\r\n}\r\n\r\nexport function getChatById(chatId) {\r\n    console.log('chatId',chatId);\r\n    return async dispatch => {\r\n        const chat = await chatService.getById(chatId);\r\n        dispatch({ type: 'GET_CHAT', chat });\r\n    }\r\n}\r\n\r\nexport function saveChat(chat) {\r\n    return async dispatch => {\r\n        const chatToSave = await chatService.save(chat);\r\n        if (chat._id) dispatch({ type: 'EDIT_CHAT', chatToSave });\r\n        else dispatch({ type: 'ADD_CHAT', chatToSave });\r\n    }\r\n}\r\n\r\nexport function removeChat(chatId) {\r\n    return async dispatch => {\r\n       await chatService.remove(chatId);\r\n       dispatch({ type: 'REMOVE_CHAT', chatId })\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy){\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_FILTER', filterBy })\r\n    }\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport socketService from '../services/socketService'\r\nimport { connect } from 'react-redux';\r\nimport { loadPets } from '../store/actions/petActions.js';\r\nimport { loadChats, saveChat, getChatById } from '../store/actions/chatActions.js';\r\nimport { updateUser } from '../store/actions/userActions.js';\r\nimport userService from '../services/userService.js'\r\nimport { shopService } from '../services/shopService.js'\r\nimport { chatService } from '../services/chatService.js'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { faTimes, faPaperPlane } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nclass _Chat extends Component {\r\n\r\n    state = {\r\n        chat: {\r\n            topic: '',\r\n            initiate: {\r\n                _id: '',\r\n                fullName: ''\r\n            },\r\n            target: {\r\n                _id: '',\r\n                fullName: ''\r\n            },\r\n            msgs: []\r\n        },\r\n        msg: {\r\n            senderId: '',\r\n            from: '',\r\n            createdAt: '',\r\n            txt: ''\r\n        },\r\n        target: '',\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var initiate = this.props.loggedInUser;\r\n        console.log('logedIn', initiate);\r\n        var target = await userService.getById(this.props.targetId);\r\n        this.setState({ target })\r\n        this.setChat(this.props.loggedInUser);\r\n    }\r\n\r\n    setChat = async (user) => {\r\n        let userChat = null;\r\n        if (user.chats && user.chats.length > 0) {\r\n            console.log('userchats', user.chats, 'of user', user);\r\n            userChat = [...user.chats].find(chat => {\r\n                console.log('IN USER CHAT', chat);\r\n                return chat.topic === `${this.props.loggedInUser._id}__${this.props.targetId}`\r\n                    || chat.topic === `${this.props.targetId}__${this.props.loggedInUser._id}`;\r\n            })\r\n        }\r\n        console.log('userChat', userChat);\r\n        if (userChat) {\r\n            await this.props.getChatById(userChat._id)\r\n            await this.setState({ chat: { ...this.props.currChat } })\r\n        }\r\n        else {\r\n            await this.createChat(this.props.loggedInUser, this.state.target);\r\n        }\r\n\r\n        socketService.setup();\r\n        socketService.emit('chat topic', this.state.chat.topic);\r\n        socketService.on('chat addMsg', this.addMsg);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketService.off('chat addMsg', this.addMsg);\r\n        socketService.terminate();\r\n    }\r\n\r\n    createChat = async (initiate, target) => {\r\n        const chat = {\r\n            topic: `${initiate._id}__${target._id}`,\r\n            initiate: {\r\n                _id: initiate._id,\r\n                fullName: initiate.fullName\r\n            },\r\n            target: {\r\n                _id: target._id,\r\n                fullName: target.fullName\r\n            }, msgs: []\r\n        }\r\n        await this.props.saveChat(chat);\r\n\r\n        const users = [initiate, target];\r\n        users.forEach(async user => {\r\n            if (!user.chats) {\r\n                user.chats = [];\r\n            }\r\n\r\n            if (this.props.currChat._id) {\r\n                const chatToAdd = {\r\n                    _id: this.props.currChat._id,\r\n                    topic: this.props.currChat.topic,\r\n                    role: (user._id === this.props.loggedInUser) ? 'initiate' : 'target'\r\n                };\r\n                user.chats.push(chatToAdd);\r\n            }\r\n            await this.props.updateUser(user);\r\n            await this.setState({ chat: { ...this.props.currChat } });\r\n        })\r\n    }\r\n\r\n    addMsg = async newMsg => {\r\n        await this.setState({\r\n            chat: {\r\n                ...this.state.chat,\r\n                msgs: [...this.state.chat.msgs, newMsg]\r\n            }\r\n        });\r\n        this.props.saveChat(this.state.chat);\r\n        this.props.updateUser(this.props.loggedInUser);\r\n    }\r\n\r\n    sendMsg = async (ev) => {\r\n        ev.preventDefault();\r\n        const msg = {\r\n            senderId: this.props.loggedInUser._id,\r\n            from: this.props.loggedInUser.fullName,\r\n            createdAt: new Date(),\r\n            txt: this.state.msg.txt\r\n        }\r\n        await this.setState({ msg: { ...msg } });\r\n        this.addMsg(this.state.msg);\r\n        socketService.emit('chat addMsg', this.state.msg);\r\n        this.setState({ msg: { senderId: '', from: '', createdAt: '', txt: '' } });\r\n    }\r\n\r\n    msgHandleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState(prevState => {\r\n            return {\r\n                msg: {\r\n                    ...prevState.msg,\r\n                    [name]: value\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    onClose = () => {\r\n        this.props.onClose();\r\n    }\r\n\r\n    displayMsg = (msg, idx) => {\r\n        let classTxt = 'message ';\r\n        classTxt += (msg.senderId === this.props.loggedInUser) ? 'sender' : 'recipient';\r\n        return (<div className={classTxt} key={idx}>{msg.from}:{msg.txt}</div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"chat-container\">\r\n                <section className=\"chat-title flex space-between\">\r\n                    <span>{this.state.recipientName}</span>\r\n                    <button className=\"btn-close btn\" onClick={this.onClose}><FontAwesomeIcon className=\"close-icon\" icon={faTimes} /></button>\r\n                </section>\r\n                <section className=\"msgs-container\">\r\n                    {this.state.chat.msgs && this.state.chat.msgs.map((msg, idx) => (\r\n                        this.displayMsg(msg, idx))\r\n                    )}\r\n\r\n                </section>\r\n                <form onSubmit={this.sendMsg}>\r\n                    <section className=\"input-container flex space-around\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={this.state.msg.txt}\r\n                            onChange={this.msgHandleChange}\r\n                            name=\"txt\"\r\n                            autoComplete=\"off\"\r\n                            placeholder=\"Type Message Here\"\r\n                        />\r\n                        <button className=\"btn-send\"><FontAwesomeIcon className=\"send-icon\" icon={faPaperPlane} /></button>\r\n                    </section>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        chats: state.chatReducer.chats,\r\n        currChat: state.chatReducer.currChat,\r\n        pets: state.petReducer.pets,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadPets,\r\n    loadChats,\r\n    saveChat,\r\n    getChatById,\r\n    updateUser\r\n}\r\n\r\nexport const Chat = connect(mapStateToProps, mapDispatchToProps)(_Chat)","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { shopService } from '../services/shopService.js';\r\nimport { loadPets, savePet, removePet } from '../store/actions/petActions.js';\r\nimport { saveOrder } from '../store/actions/orderActions.js';\r\nimport { Chat } from '../cmps/Chat.jsx'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\r\nimport { Link } from 'react-router-dom';\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { faExpandArrowsAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { faVenusMars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faAlignLeft } from '@fortawesome/free-solid-svg-icons'\r\nimport { TextField } from '@material-ui/core';\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { WhatsappShareButton, WhatsappIcon, FacebookShareButton, FacebookIcon, TwitterShareButton, TwitterIcon } from 'react-share'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass _PetDetails extends Component {\r\n\r\n    state = {\r\n        pet: {},\r\n        isChatOn: false,\r\n        isOwnerOfPet: false,\r\n        adoptButton: 'Adopt',\r\n        currComment: ''\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getComponentData();\r\n        scroll.scrollToTop();\r\n    }\r\n\r\n    async getComponentData() {\r\n        await this.getCurrPet();\r\n        await this.getUserId();\r\n        await this.isOwnerOfPet();\r\n    }\r\n\r\n    getCurrPet = async () => {\r\n        await this.props.loadPets();\r\n        const petId = this.props.match.params.id\r\n        const petToShow = this.props.pets.find(pet => pet._id === petId)\r\n        this.setState({ pet: { ...petToShow } });\r\n    }\r\n\r\n    isOwnerOfPet = async () => {\r\n        const { loggedInUser } = this.props\r\n        const pet = this.state.pet\r\n        if (loggedInUser && pet.shop) {\r\n            const shopId = pet.shop._id\r\n            const shop = await shopService.getById(shopId)\r\n            this.setState({ isOwnerOfPet: loggedInUser._id === shop.owner._id })\r\n        }\r\n    }\r\n\r\n    onAdopt = async () => {\r\n        const { loggedInUser } = this.props\r\n        if (loggedInUser.isGuest) return\r\n\r\n        const pet = this.state.pet\r\n        const shopId = pet.shop._id\r\n        const shop = await shopService.getById(shopId)\r\n        const order = {\r\n            msg: \"Hi, I saw your lovely pet and really wish to adopt it!\",\r\n            buyer: {\r\n                _id: loggedInUser._id,\r\n                fullName: loggedInUser.fullName,\r\n                imgUrl: loggedInUser.imgUrl\r\n            },\r\n            shop: {\r\n                _id: shop._id,\r\n                name: shop.name,\r\n                type: shop.type,\r\n                imgUrl: shop.imgUrl\r\n            },\r\n            pet: {\r\n                _id: pet._id,\r\n                name: pet.name,\r\n            },\r\n            status: \"Pending\",\r\n        }\r\n        this.props.saveOrder(order)\r\n        this.setState({ adoptButton: 'Request Sent' })\r\n    }\r\n\r\n    onRemovePet = (petId) => {\r\n        console.log('petId', petId);\r\n        // this.props.removePet(petId)\r\n    }\r\n\r\n\r\n    onToggleChat = () => {\r\n        this.setState({ isChatOn: !this.state.isChatOn })\r\n    }\r\n\r\n    onUpdateReaction = (reaction) => {\r\n        const pet = this.state.pet;\r\n        pet.reacts.map(react => {\r\n            if (react.type === reaction) react.count++\r\n            return react\r\n        })\r\n        this.props.savePet(pet)\r\n        this.getCurrPet()\r\n    }\r\n\r\n    handleCommentInput = ({ target }) => {\r\n        const value = target.value;\r\n        this.setState({ currComment: value })\r\n    }\r\n\r\n    onComment = async () => {\r\n        const pet = this.state.pet;\r\n        const user = this.props.loggedInUser\r\n        const comment = {\r\n            id: `c${100 + pet.comments.length + 1}`,\r\n            txt: this.state.currComment,\r\n            by: {\r\n                id: user._id,\r\n                fullName: user.fullName,\r\n                imgUrl: user.imgUrl\r\n            },\r\n        }\r\n\r\n        pet.comments.unshift(comment);\r\n        await this.props.savePet(pet);\r\n        this.getComponentData();\r\n        this.setState({ cuurComment: '' })\r\n    }\r\n\r\n    getTimeToString = () => {\r\n        var time = new Date();\r\n        var dd = String(time.getDate()).padStart(2, '0');\r\n        var mm = String(time.getMonth() + 1).padStart(2, '0');\r\n        var yyyy = time.getFullYear();\r\n\r\n        time = mm + '/' + dd + '/' + yyyy;\r\n        return time\r\n    }\r\n\r\n    getUserId = async _ => {\r\n        console.log(this.state.pet);\r\n        const shop = await shopService.getById(this.state.pet.shop._id);\r\n        const ownerId = await shop.owner._id;\r\n        this.setState({ ownerId })\r\n    }\r\n\r\n    render() {\r\n        const pet = this.state.pet;\r\n        const loggedInUser = this.props.loggedInUser\r\n\r\n        if (!pet) return <h1>Loading...</h1>\r\n        return (\r\n            <section className=\"pet-details-main-container\">\r\n                <div className=\"pet-details-box\">\r\n                    <div className=\"pet-details-header\">\r\n                        <h2 className=\"pet-details-heading\">{pet.name}</h2>\r\n                        <div className=\"share-box\">\r\n                            {/* <h4 className=\"share-heading\">Share {pet.name} With Your Friends</h4> */}\r\n                            <FacebookShareButton\r\n                                url={\"http://www.camperstribe.com\"}\r\n                                quote={\"See this cute pet I saw on Friendly\"}\r\n                                hashtag=\"#Friendly\">\r\n                                <FacebookIcon size={30} />\r\n                            </FacebookShareButton>\r\n                            <WhatsappShareButton\r\n                                url={\"http://www.camperstribe.com\"}\r\n                                quote={\"See this cute pet I saw on Friendly\"}>\r\n                                <WhatsappIcon size={30} />\r\n                            </WhatsappShareButton>\r\n                            <TwitterShareButton\r\n                                url={\"http://www.camperstribe.com\"}\r\n                                quote={\"See this cute pet I saw on Friendly\"}>\r\n                                <TwitterIcon size={30} />\r\n                            </TwitterShareButton>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"pet-details-img-box\">\r\n                        {\r\n                            (pet.imgUrls) ?\r\n                                pet.imgUrls.map((imgUrl, index) => {\r\n                                    return <img className={`pet-details-img-${index}`} src={imgUrl} />\r\n                                })\r\n                                : ''\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <ul className=\"reactions-list\">\r\n                            {\r\n                                (pet.reacts) ?\r\n                                    pet.reacts.map(react => {\r\n                                        if (react.type === 'love') {\r\n                                            return <li className=\"react-count\"><FontAwesomeIcon onClick={() => { this.onUpdateReaction('love') }}\r\n                                                className=\"heart-icon\" icon={faHeart} /> {`${react.count}`}</li>\r\n                                        }\r\n                                        // else if ((react.type === 'feed')) return <li><FontAwesomeIcon onClick={() => { this.onUpdateReaction('feed') }}\r\n                                        //     className=\"bone-icon\" icon={faBone} /> ({`${react.count}`})</li>\r\n                                        // else if ((react.type === 'pet')) return <li><FontAwesomeIcon onClick={() => { this.onUpdateReaction('pet') }}\r\n                                        //     className=\"hand-sparkles-icon\" icon={faHandSparkles} /> ({`${react.count}`})</li>\r\n                                    })\r\n                                    : ''\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"shop-and-pet-info\">\r\n\r\n\r\n                        <div className=\"pet-info\">\r\n                            <div className=\"pet-info-up\">\r\n                                <div className=\"age info-box\">\r\n                                    <FontAwesomeIcon className=\"age-icon info-icon\" icon={faCalendarAlt} />\r\n\r\n                                    <p><span>Age: </span>\r\n                                        {`${parseFloat((Date.now() - new Date(pet.bDate)) / (1000 * 60 * 60 * 24 * 30 * 12)).toFixed(1)}`}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"size info-box\">\r\n                                    <FontAwesomeIcon className=\"size-icon info-icon\" icon={faExpandArrowsAlt} />\r\n                                    <p><span>Size:</span> {pet.size}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"pet-info-down \">\r\n                                <FontAwesomeIcon className=\"gender-icon info-icon\" icon={faVenusMars} />\r\n                                <div className=\"gender info-box\">\r\n\r\n                                    <p><span>Gender:</span> {pet.gender}</p>\r\n                                </div>\r\n                                <div className=\"breed info-box\">\r\n                                    <FontAwesomeIcon className=\"breed-icon info-icon\" icon={faAlignLeft} />\r\n                                    <p><span>Breed:</span> {pet.breed}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* <h4> {pet.summary}</h4> */}\r\n                        </div>\r\n\r\n\r\n\r\n                        <div className=\"shop-details\">\r\n                            <div className=\"shop-details-up\">\r\n                                {pet.shop && <img className=\"shop-img\" src={`${pet.shop.imgUrl}`} alt=\"\" />}\r\n                                {pet.shop && <Link to={`/shop/${pet.shop._id}`}><p>{pet.shop.fullName}</p></Link>}\r\n                            </div>\r\n                            <div className=\"shop-details-bottom\">\r\n                                <div className=\"shop-rate-box\">\r\n                                    <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                                    {pet.shop && <p className=\"shop-rate-rating\">{pet.shop.rate.rating}  </p>}\r\n                                    {pet.shop && <p className=\"shop-rate-count\">({pet.shop.rate.count})  </p>}\r\n                                </div>\r\n                                {pet.shop && <button onClick={this.onToggleChat}>Message {pet.shop.fullName}</button>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"adopt-btn-box\">\r\n\r\n                        <div className=\"tags-list-box\">\r\n                            <ul className=\"tags-list\">\r\n                                {\r\n                                    (pet.tags) ?\r\n                                        pet.tags.map(tag => {\r\n                                            return <li> {tag} </li>\r\n                                        })\r\n                                        : ''\r\n                                }\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <button onClick={this.onAdopt} className=\"adoption-btn\">Adopt</button>\r\n\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"description-box\">\r\n                        <p>{pet.description}</p>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"comments-box\">\r\n                        <div className=\"comment-input-box\">\r\n                            <TextField name=\"txt\" fullWidth=\"true\" value={this.state.currComment} placeholder=\"Add Comment Here\" onChange={this.handleCommentInput} />\r\n\r\n                            <button className=\"add-comment-btn\" onClick={this.onComment}>Add</button>\r\n                        </div>\r\n                        <ul className=\"comment-list\">\r\n                            {\r\n                                (pet.comments) ?\r\n                                    pet.comments.map(comment => {\r\n                                        return <li className=\"single-comment-box\">\r\n                                            <div className=\"flex comment-box\">\r\n                                                {(comment.by.imgUrl) ? <img src={comment.by.imgUrl} alt=\"\" /> : \"\"}\r\n\r\n                                                {(comment.by.id === 'guest') ? <img src={\"https://images.macrumors.com/t/x_zUFqghBUNBxVUZN_dYoKF3D9g=/1600x0/article-new/2019/04/guest-user-250x250.jpg\"} alt=\"\" /> : \"\"}\r\n\r\n                                                <p><span>{comment.by.fullName}:</span> </p>\r\n                                                <p><span>{comment.createdAt}</span> </p>\r\n                                                <p>{comment.txt} </p>\r\n                                            </div>\r\n                                        </li>\r\n                                    })\r\n                                    : ''\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"actions-box\">\r\n                    {\r\n                        this.state.isOwnerOfPet ?\r\n                            <div className=\"actions-box-edit\">\r\n                                <Link to={`/edit/${pet._id}`}><button onClick={this.onGoToEdit} className=\"edit-btn\">Edit Pet</button></Link>\r\n                                <button onClick={() => { this.onRemovePet(pet._id) }} className=\"remove-btn\">Delete Pet</button>\r\n                            </div>\r\n                            :\r\n                            <div className=\"actions-box-adopt\">\r\n                                <h3>Reasons To Adopt</h3>\r\n                                <p>You save a life. </p>\r\n                                <p>You adopt a pet, and find a friend.</p>\r\n                                <p>You help stop cruelty in mass breeding facilities.</p>\r\n                                <button onClick={this.onAdopt} className=\"adopt-btn\">{this.state.adoptButton}</button>\r\n                            </div>\r\n\r\n                    }\r\n\r\n\r\n                </div> */}\r\n                {this.state.isChatOn && < Chat  targetId={this.state.ownerId}\r\n                    onClose={this.onToggleChat} />}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadPets,\r\n    savePet,\r\n    saveOrder,\r\n    removePet\r\n\r\n}\r\n\r\n\r\nexport const PetDetails = connect(mapStateToProps, mapDispatchToProps)(_PetDetails)","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport function OrderPreview({ order, onSave, onRemove, isShop }) {\r\n\r\n    function orderClass() {\r\n        let orderClass;\r\n        if (order.status === 'accepted') orderClass = 'accepted';\r\n        else if (order.status === 'denied') orderClass = 'denied';\r\n        else orderClass = 'pending';\r\n        return orderClass;\r\n    }\r\n\r\n\r\n\r\n    if (!order) return <h3 style={{ display: 'none' }}>loading...</h3>\r\n    // <img className=\"order-loading\" src={require('../assets/img/loading.gif')} />\r\n    return (\r\n        <div className={`order-preview ${orderClass()}`}>\r\n            {\r\n                isShop && <div className=\"order-preview-details\">\r\n                    <Link to={`/profile/${order.buyer._id}`}>  <p>{order.buyer.fullName} <span>Wants to Adopt</span> {order.pet.name} </p></Link>\r\n                    {/* <p><span>Wants to Adopt</span> {order.pet.name} </p> */}\r\n                </div>\r\n\r\n            }\r\n\r\n            {!isShop &&\r\n                <div>\r\n                    <p><span>To:</span> {order.shop.name} </p>\r\n                    <p> {order.shop.type} </p>\r\n                    <p><span>Who am I adopting?</span> {order.pet.name} </p>\r\n                    {/* <img src={order.shop.imgUrl} alt=\"shop image\" />\r\n                    <span>{order.shop.rate}</span> */}\r\n                </div>\r\n            }\r\n\r\n\r\n            <div className=\"order-actions-btns-box\">\r\n                {isShop && <button className=\"accept-order-btn order-btn\" onClick={() => { onSave(order, 'accepted') }}>Accept</button>}\r\n                {isShop && <button className=\"pending-order-btn order-btn\" onClick={() => { onSave(order, 'pending') }}>Pending</button>}\r\n                {isShop && <button className=\"reject-order-btn order-btn\" onClick={() => { onSave(order, 'denied') }}>Reject</button>}\r\n                <button className=\"remove-order-btn order-btn\" onClick={() => { onRemove(order._id) }}>Remove</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { OrderPreview } from './OrderPreview'\r\nimport {  withRouter } from 'react-router-dom'\r\nimport {\r\n    loadOrders,\r\n    saveOrder,\r\n    removeOrder,\r\n    setFilter\r\n} from '../store/actions/orderActions';\r\nimport { savePet } from '../store/actions/petActions';\r\n\r\n\r\n\r\nclass _OrderList extends Component {\r\n\r\n    state = {\r\n        msgDivClass: 'hidden'\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadOrders(this.props.filterById, this.props.orderFilterName);\r\n    }\r\n\r\n    changePetAdoptionStatus = async (order) => {\r\n        const pet = this.props.pets.find(pet => pet._id === order.pet._id)\r\n        pet.isAdopted = true\r\n        this.props.savePet(pet)\r\n        console.log('pet', pet);\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    onSave = async (order, status) => {\r\n        const isAcceptedStat = this.props.orders.find(orderCheck => {\r\n            return (orderCheck.status === 'accepted' && orderCheck.pet._id === order.pet._id)\r\n        })\r\n\r\n        if (isAcceptedStat && status === 'accepted') {\r\n            this.setState({ msgDivClass: '' })\r\n            setTimeout(() => { this.setState({ msgDivClass: 'hidden' }) }, 1500);\r\n        } else {\r\n            order.status = status;\r\n            await this.props.saveOrder(order);\r\n            this.props.loadOrders(this.props.filterById, this.props.orderFilterName);\r\n            if (status === 'accepted') {\r\n                this.changePetAdoptionStatus(order)\r\n            }\r\n        }\r\n    }\r\n\r\n    onRemove = (id) => {\r\n        this.props.removeOrder(id);\r\n    }\r\n\r\n    render() {\r\n        const orders = this.props.orders;\r\n        return (!orders) ? <h1>LOADING...</h1> :\r\n            (\r\n                <div className=\"order-list\" >\r\n\r\n                    <div className={`doubleAccept ${this.state.msgDivClass}`}>Only one approval please.</div>\r\n                    {orders.map(order => <OrderPreview isShop={this.props.isShop} order={order} onRemove={this.onRemove} onSave={this.onSave} />)}\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        orders: state.orderReducer.orders\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadOrders,\r\n    saveOrder,\r\n    removeOrder,\r\n    setFilter,\r\n    savePet\r\n}\r\n\r\nexport const OrderList = withRouter(connect(mapStateToProps, mapDispatchToProps)(_OrderList))\r\n// export const NavBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavBar))","import React from 'react'\r\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from 'google-maps-react';\r\n\r\n\r\nclass _GoogleMap extends React.Component {\r\n\r\n    state = {\r\n        lat: 32.0853,\r\n        lng: 34.7818,\r\n        zoom: 16,\r\n        loc: 'Info Window'\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState(\r\n            {\r\n                lat: this.props.lat,\r\n                lng: this.props.lng,\r\n                zoom: 14,\r\n                loc: this.props.name\r\n            }\r\n        )\r\n    }\r\n\r\n    onMarkerClick = (props, marker, event) => {\r\n    }\r\n\r\n    onMapClicked = (mapProps, map, ev) => {\r\n        this.setState({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\r\n    }\r\n\r\n    onMapPassLoc = () => {\r\n        this.state({ lat: this.props.lat, lng: this.props.lng })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Map className=\"map\" initialCenter={this.state} center={this.state} onClick={this.onMapClicked}\r\n                google={this.props.google} zoom={this.state.zoom} className=\"map\" >\r\n\r\n                <Marker position={this.state}\r\n                    name={'Current location'} />\r\n\r\n                <InfoWindow position={this.state} visible={true}  >\r\n                    <div>\r\n                        <h4>{this.state.loc}</h4>\r\n                    </div>\r\n                </InfoWindow>\r\n            </Map>\r\n        );\r\n    }\r\n}\r\n\r\nexport const GoogleMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyA7wFxeGayDFtxLfft53sDr7sMu9cj7Vio')\r\n})(_GoogleMap)","\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { PetList } from '../cmps/PetList';\r\nimport { OrderList } from '../cmps/OrderList';\r\nimport { getShopById, saveShop } from '../store/actions/shopActions.js';\r\nimport { savePet, loadPets } from '../store/actions/petActions.js'\r\nimport { GoogleMap } from '../cmps/GoogleMap';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from '@material-ui/core/Select';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleDoubleUp, faEnvelope, faFemale, faMobileAlt, faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { Chat } from '../cmps/Chat.jsx';\r\nimport { getChatById } from '../store/actions/chatActions.js';\r\nimport userService from '../services/userService.js';\r\n\r\n\r\nclass _ShopDetails extends Component {\r\n\r\n    state = {\r\n        shop: {},\r\n        shopPets: [],\r\n        shopOwner: '',\r\n        isOpenReviews: false,\r\n        currReview: {\r\n            txt: '',\r\n            rate: ''\r\n        },\r\n        chatIdOn: '',\r\n        chatImgs: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.loadShopData();\r\n        scroll.scrollToTop();\r\n    }\r\n\r\n    loadShopData = async () => {\r\n        const shopId = this.props.match.params.id;\r\n        await this.props.loadPets();\r\n        await this.props.getShopById(shopId);\r\n        this.setState({ shop: { ...this.props.currShop } });\r\n        const owner = await userService.getById(this.props.currShop.owner._id);\r\n        await this.setState({ shopOwner: { ...owner } });\r\n        const shopPets = this.props.pets.filter(pet => {\r\n            if (pet.shop) return pet.shop._id === this.state.shop._id\r\n\r\n        })\r\n        await this.setState({\r\n            shopPets: [...shopPets]\r\n        })\r\n        await this.getChatImgs();\r\n    }\r\n\r\n    getChatImgs = async () => {\r\n        console.log('aaaaaaaadddd');\r\n        this.state.shopOwner.chats.forEach(async chat => {\r\n            const id = chat.topic.substring(0, chat.topic.indexOf('_'));\r\n            const user = await userService.getById(id);\r\n            console.log('USER FROM CHAT FOREACH', user);\r\n            const userImg = { id: chat._id, img: user.imgUrl }\r\n            this.setState({ chatImgs: [...this.state.chatImgs, userImg] })\r\n        })\r\n    }\r\n\r\n    onRemove = (id) => {\r\n        this.props.removePet(id)\r\n    }\r\n\r\n    onEdit = () => {\r\n        console.log('edit');\r\n    }\r\n\r\n    handleInput = ({ target }) => {\r\n        const field = target.name;\r\n        const value = target.value;\r\n        this.setState(prevState => {\r\n            return {\r\n                ...prevState,\r\n                currReview: {\r\n                    ...prevState.currReview,\r\n                    [field]: value\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    onAddReview = async (ev) => {\r\n        ev.preventDefault();\r\n        const shop = { ...this.state.shop };\r\n        const review = { ...this.state.currReview };\r\n        review.id = `r${100 + shop.reviews.length + 1}`\r\n        const user = this.props.loggedInUser;\r\n        review.by = {\r\n            _id: user._id,\r\n            fullName: user.fullName,\r\n            imgUrl: user.imgUrl\r\n        }\r\n        console.log('review', review);\r\n        shop.reviews.push(review);\r\n        await this.props.saveShop(shop);\r\n        this.loadShopData();\r\n    }\r\n\r\n    onToggleReviewModal = () => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                isOpenReviews: !this.state.isOpenReviews\r\n            }\r\n        )\r\n    }\r\n\r\n    onToggleChat = async (id) => {\r\n        if (this.state.chatIdOn === id) {\r\n            this.setState({ chatIdOn: '' });\r\n        } else {\r\n            await this.setState({ chatIdOn: id });\r\n\r\n            await this.props.getChatById(id);\r\n        }\r\n    }\r\n\r\n    getChatUserImg = (id) => {\r\n        const images = this.state.chatImgs;\r\n        const imgForChat = images.find(img => {\r\n            return img.id === id;\r\n        })\r\n        if (imgForChat) return imgForChat.img;\r\n        else return imgForChat;\r\n    }\r\n\r\n    drawStars = (rate) => {\r\n        var stars = '';\r\n        for (var i = 0; i < rate; i++) {\r\n            stars = stars + ''\r\n        }\r\n        return stars;\r\n    }\r\n\r\n    render() {\r\n        const shop = this.state.shop;\r\n        const currChat = this.props.currChat;\r\n        const isUserOwner = (Object.keys(this.state.shop).length > 0\r\n            && this.props.loggedInUser._id === this.props.currShop.owner._id)\r\n        // console.log('chats in shop ccc', this.props.loggedInUser.chats);\r\n\r\n        return (\r\n            <section>\r\n                {(!shop.owner || !shop.location || !shop.reviews) ? <h1>LOADING Shop....</h1> :\r\n\r\n\r\n                    <div className=\"shop-details-main-box\">\r\n                        <div className=\"shop-details-header\">\r\n                            <h2 className=\"shop-details-heading\">{shop.name}</h2>\r\n                            <div className=\"shop-rate-box\">\r\n                                <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                                {shop && <p className=\"shop-rate-rating\">{shop.rate.rating}  </p>}\r\n                                {shop && <p className=\"shop-rate-count\">({shop.rate.count})  </p>}\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"shop-details-img-box\">\r\n                            {\r\n                                (shop.imgUrls) ?\r\n                                    shop.imgUrls.map((imgUrl, index) => {\r\n                                        return <img className={`shop-details-img-${index}`} src={imgUrl} />\r\n                                    })\r\n                                    : ''\r\n                            }\r\n                        </div>\r\n                        <div className=\"top-screen-box\">\r\n                            <div className=\"shop-details-section\">\r\n\r\n                                <img className=\"shop-owner-img\" src={shop.owner.imgUrl} />\r\n\r\n                                <div className=\"contact-box\">\r\n                                    <FontAwesomeIcon className=\"contact-icon\" icon={faFemale} />\r\n                                    <p>{shop.owner.fullName}</p>\r\n                                </div>\r\n\r\n                                <div className=\"contact-box\">\r\n                                    <FontAwesomeIcon className=\"contact-icon\" icon={faMobileAlt} />\r\n                                    <p>{shop.owner.contact.phone}</p>\r\n                                </div>\r\n\r\n                                <div className=\"contact-box\">\r\n                                    <FontAwesomeIcon className=\"contact-icon\" icon={faEnvelope} />\r\n                                    <p>{shop.owner.contact.email}</p>\r\n                                </div>\r\n\r\n                                <div className={\"chat-box flex\"}>\r\n                                    {(isUserOwner) ?\r\n                                        this.props.loggedInUser.chats.map(chat => {\r\n                                            // console.log('Chat in shop', chat);\r\n                                            return (\r\n                                                <div>\r\n                                                    <img className=\"chat-user-img\"\r\n                                                        src={this.getChatUserImg(chat._id)}\r\n                                                        alt=\"CHAT\"\r\n                                                        onClick={() => { this.onToggleChat(chat._id) }} />\r\n                                                    {this.state.chatIdOn === chat._id &&\r\n                                                        currChat && <Chat targetId={currChat.initiate._id}\r\n                                                            onClose={() => { this.onToggleChat(chat._id) }} />}\r\n                                                </div>)\r\n                                        }) : \"\"}\r\n                                </div>\r\n                                < div className=\"shop-description\">\r\n                                    <p>{shop.desc}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"order-list-box\">\r\n                                {this.state.shop.owner._id === this.props.loggedInUser._id &&\r\n                                    <OrderList isShop={true} orderFilterName={\"shop._id\"} filterById={this.state.shop._id} />}\r\n                            </div>\r\n                            <div className=\"shop-location-box\">\r\n\r\n                                <div className=\"map-container\">\r\n                                    <GoogleMap lat={shop.location.lat} lng={shop.location.lng} name={shop.location.name} />\r\n                                </div>\r\n                                <FontAwesomeIcon className=\"arrow-icon\" icon={faAngleDoubleUp} />\r\n                                <div className=\"shop-location-name\">\r\n                                    <h2>We are located at {shop.location.name}</h2>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"bottom-screen-box\">\r\n\r\n                            <div className=\"reviews-box\">\r\n                                <h3>What they say about us</h3>\r\n                                <button className=\"open-reviews-btn\" onClick={this.onToggleReviewModal}>\r\n                                    {(!this.state.isOpenReviews) ? 'Tell Us What You Think' : `Close review form`}\r\n                                </button>\r\n                                <div className={(this.state.isOpenReviews) ? `review-modal` : `hidden`}>\r\n                                    <form className=\"review-form\">\r\n                                        <div className=\"flex column\">\r\n                                            <TextField\r\n                                                id=\"standard-textarea\"\r\n                                                label=\"Shelter/Owner Review:\"\r\n                                                placeholder=\"write your review:\"\r\n                                                multiline\r\n                                                name=\"txt\"\r\n                                                onChange={this.handleInput}\r\n                                            />\r\n                                            <FormControl>\r\n                                                <InputLabel htmlFor=\"rate\">Please add your rate:</InputLabel>\r\n                                                <Select\r\n                                                    native\r\n                                                    onChange={this.handleInput}\r\n                                                    inputProps={{\r\n                                                        name: \"rate\",\r\n                                                    }}>\r\n                                                    <option aria-label=\"None\" value=\"\" />\r\n                                                    <option value=\"5\">5</option>\r\n                                                    <option value=\"4\">4</option>\r\n                                                    <option value=\"3\">3</option>\r\n                                                    <option value=\"2\">2</option>\r\n                                                    <option value=\"1\">1</option>\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                        </div>\r\n                                        <button className=\"add-review-btn\" onClick={this.onAddReview}>Publish</button>\r\n                                    </form>\r\n                                </div>\r\n                                {(!shop.reviews) ? <h1>Loading Reviews...</h1> :\r\n                                    <ul className=\"reviews-list\">\r\n                                        {shop.reviews.map(review => {\r\n                                            return <li className=\"review\">\r\n                                                <p className=\"review-text\">{review.txt}</p>\r\n                                                <p><span>Rate: </span>{this.drawStars(review.rate)}</p>\r\n                                                <p><span>From: </span>{review.by.fullName}</p>\r\n                                            </li>\r\n                                        }\r\n\r\n                                        )}\r\n                                    </ul>}\r\n                            </div>\r\n                            <div className=\"pets-box\" >\r\n                                {/* <h2>Our Pets</h2> */}\r\n                                <PetList pets={this.state.shopPets} onRemove={this.onRemove} />\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                }\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        currShop: state.shopReducer.currShop,\r\n        pets: state.petReducer.pets,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n        currChat: state.chatReducer.currChat\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getShopById,\r\n    saveShop,\r\n    loadPets,\r\n    savePet,\r\n    getChatById\r\n}\r\n\r\nexport const ShopDetails = connect(mapStateToProps, mapDispatchToProps)(_ShopDetails);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport {\r\n    loadUsers,\r\n    removeUser,\r\n    login,\r\n    logout,\r\n    signup\r\n} from '../store/actions/userActions';\r\n\r\nclass _LoginModal extends Component {\r\n\r\n    state = {\r\n        msg: '',\r\n        loginCred: {\r\n            userName: '',\r\n            password: ''\r\n        },\r\n        showModal: false\r\n    }\r\n\r\n    loginHandleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState(prevState => ({\r\n            loginCred: {\r\n                ...prevState.loginCred,\r\n                [name]: value\r\n            }\r\n        }));\r\n    };\r\n\r\n    closeModal = () => {\r\n        this.props.onNavBarClick()\r\n    }\r\n\r\n    doLogin = async ev => {\r\n        ev.preventDefault();\r\n        const { userName, password } = this.state.loginCred;\r\n        if (!userName || !password) {\r\n            return this.setState({ msg: 'Please enter user/password' });\r\n        }\r\n        const userCreds = { userName, password };\r\n        this.props.login(userCreds);\r\n        this.setState({ loginCred: { userName: '', password: '' } });\r\n        this.props.onNavBarClick()\r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/* <div onClick={()=>{this.props.onNavBarClick()}} className=\"modal-screen\">heyyyyyyyy</div> */}\r\n                <div className=\"login-modal\">\r\n                    <form onSubmit={this.doLogin}>\r\n                        <TextField\r\n                            autoFocus={true}\r\n                            required={true}\r\n                            type=\"text\"\r\n                            name=\"userName\"\r\n                            value={this.state.loginCred.userName}\r\n                            onChange={this.loginHandleChange}\r\n                            placeholder=\"User Name\"\r\n                        />\r\n                        <br />\r\n                        <br />\r\n\r\n                        <TextField\r\n                            required={true}\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={this.state.loginCred.password}\r\n                            onChange={this.loginHandleChange}\r\n                            placeholder=\"Password\"\r\n                        />\r\n                        <br />\r\n                        <br />\r\n\r\n                        <Button onClick={this.doLogin} variant=\"text\" variant=\"outlined\" color=\"primary\" >Login</Button>\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.userReducer.users,\r\n        // loggedInUser: state.userReducer.loggedInUser,\r\n    };\r\n};\r\nconst mapDispatchToProps = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    removeUser,\r\n    loadUsers\r\n};\r\n\r\n\r\n\r\nexport const LoginModal = connect(mapStateToProps, mapDispatchToProps)(_LoginModal);","import React, { Component } from 'react'\r\nimport { NavLink, Router, withRouter } from 'react-router-dom'\r\nimport { LoginModal } from './LoginModal'\r\nimport { connect } from 'react-redux';\r\nimport { loadShops } from '../store/actions/shopActions'\r\nimport { logout } from '../store/actions/userActions';\r\n\r\n\r\n\r\nclass _NavBar extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        shop: '',\r\n        shopId: '',\r\n        pathName: ''\r\n    }\r\n    componentDidMount() {\r\n        this.setState({pathName: this.props.history.location.pathname})\r\n    }\r\n\r\n    onNavBarClick = () => {\r\n        this.setState({ showModal: !this.state.showModal });\r\n    }\r\n\r\n    onLogOut = () => {\r\n        this.props.logout()\r\n    }\r\n\r\n    componentDidUpdate = async (prevProps) => {\r\n        if (this.props.user && prevProps.user._id !== this.props.user._id) {\r\n            await this.props.loadShops()\r\n            const shops = this.props.shops\r\n            if (this.props.user) {\r\n                const { user } = this.props\r\n                const userId = user._id\r\n                const userShop = shops.find(shop => shop.owner._id === userId)\r\n                if (userShop) this.setState({ shopId: userShop._id, shop: userShop })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <div className={this.props.history.location.pathname === '/' ? 'main-nav' : 'main-nav-not-home'}>\r\n                <div className=\"left-nav\">\r\n                    <NavLink to=\"/\"><img className=\"logo-up\" src={require('../assets/img/logo.png')} alt=\"Home\" /></NavLink>\r\n                    <NavLink className=\"nav-btn\" to=\"/pet\">Gallery</NavLink>\r\n                    <NavLink className=\"nav-btn\" to=\"/about\">About Us</NavLink>\r\n                </div>\r\n                <div className=\"right-nav\">\r\n\r\n                    {user && user.isOwner && this.state.shopId && <NavLink className=\"nav-btn\" to={`/shop/${this.state.shopId}`}> <img className=\"shop-img\" src={this.state.shop.imgUrls[0]} alt=\"\"/> {this.state.shop.name}</NavLink>}\r\n\r\n                    {user && !user.isOwner && !user.isGuest && <NavLink className=\"nav-btn\" to={`/profile/${user._id}`}>{user.fullName}</NavLink>}\r\n\r\n\r\n                    {user && user.isGuest && <button className=\"login-btn nav-btn\" onClick={() => { this.onNavBarClick() }}>Login</button>}\r\n                    {user && !user.isGuest && <button className=\"logout-btn nav - btn\" onClick={() => { this.onLogOut() }}>Logout</button>}\r\n\r\n                    {this.state.showModal && <LoginModal onNavBarClick={this.onNavBarClick} />}\r\n\r\n                    {user && user.isGuest && <NavLink className=\"nav-btn\" to=\"/signup\">Sign Up</NavLink>}\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.userReducer.loggedInUser,\r\n        shops: state.shopReducer.shops\r\n\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadShops,\r\n    logout\r\n}\r\n\r\n\r\nexport const NavBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavBar))\r\n\r\n// export const Header = withRouter(connect(mapStateToProps, mapDispatchToProps)(_Header)","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { OrderList } from '../cmps/OrderList.jsx';\r\nimport userService from '../services/userService.js';\r\nimport { loadOrders } from '../store/actions/orderActions.js'\r\n\r\n\r\nexport class _userProfile extends Component {\r\n\r\n\r\n    state = {\r\n        user: null\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const userId = this.props.match.params.id\r\n        const user = await userService.getById(userId)\r\n        this.setState({ user: { ...user } });\r\n\r\n    }\r\n\r\n    getUserOrders = () => {\r\n\r\n        const orders = this.props.loadOrders(this.state.user._id, 'buyer._id')\r\n    }\r\n\r\n    render() {\r\n\r\n        const { user } = this.state\r\n        if (!user) return <h3>Loading...</h3>\r\n        return (\r\n            <div className=\"user-profile-box\">\r\n                <div className=\"user-profile-details\">\r\n                    <h1>{user.fullName}</h1>\r\n                    <img src={user.imgUrl} alt=\"\" />\r\n                </div>\r\n                <div className=\"user-profile-adoptions\">\r\n                    <h3>My Adoption Requests</h3>\r\n                    <OrderList isShop={false} orderFilterName={\"buyer._id\"} filterById={user._id} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadOrders\r\n\r\n}\r\n\r\n\r\nexport const userProfile = connect(mapStateToProps, mapDispatchToProps)(_userProfile)","import React, { Component } from 'react'\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Home } from './pages/Home';\r\nimport { SignUp } from './pages/SignUp';\r\nimport { About } from './cmps/About';\r\nimport { PetApp } from './pages/PetApp';\r\nimport { PetEdit } from './pages/PetEdit';\r\nimport { PetDetails } from './pages/PetDetails';\r\nimport { ShopDetails } from './pages/ShopDetails';\r\nimport { NavBar } from './cmps/NavBar';\r\nimport { userProfile } from './pages/userProfile';\r\nimport { Footer } from './cmps/Footer';\r\n\r\n class _App extends Component {\r\n\r\n  componentDidMount(){\r\n    document.title = \"Friendly\"\r\n  }\r\n\r\n  render() {\r\n   \r\n    \r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header >\r\n          <NavBar  />\r\n        </header>\r\n        <main>\r\n          <Switch>\r\n            <Route component={ShopDetails} path=\"/shop/:id\" />\r\n            <Route component={PetDetails}  path=\"/details/:id?\" />\r\n            <Route component={PetEdit} path=\"/edit/:id?\" />\r\n            <Route component={SignUp} path=\"/signup/:type?\" />\r\n            {/* <Route component={About} path=\"/about\" /> */}\r\n            <Route component={userProfile} path=\"/profile/:id\" />\r\n            <Route component={PetApp} path=\"/pet/:filterType?\" />\r\n            <Route component={Home} path=\"/\" /> \r\n\r\n          </Switch>\r\n        </main>\r\n        {/* <footer>\r\n          <Footer />\r\n        </footer> */}\r\n      </div >\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  }\r\n}\r\n\r\nexport const App = connect(mapStateToProps)(_App)","import React, { Component } from 'react'\r\nexport class Footer extends Component {\r\n\r\n    \r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <p>Powered By ADA Systems.</p>\r\n                <img src=\"\" alt=\"\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialState = {\r\n    pets: [],\r\n    filterBy: {\r\n        type:'',\r\n        gender:'',\r\n        breed:'',\r\n        size:'',\r\n        txt:'',\r\n        distance:{\r\n            lat:0,\r\n            lon:0,\r\n            range:0\r\n        }\r\n    }\r\n}\r\n\r\nexport function petReducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case 'LOAD_PETS':\r\n            return {\r\n                ...state,\r\n                pets: [...action.pets]\r\n            }\r\n        case 'ADD_PET':\r\n            return {\r\n                ...state,\r\n                pets: [...state.pets, action.petToSave]\r\n            }\r\n        case 'EDIT_PET':\r\n            console.log(action.petToSave);\r\n            return {\r\n                ...state,\r\n                pets: state.pets.map(pet => {\r\n                    if (pet._id === action.petToSave._id)  return action.petToSave\r\n                    return pet\r\n                })\r\n            }\r\n        case 'REMOVE_PET':\r\n            return {\r\n                ...state,\r\n                pets: state.pets.filter(pet => pet._id !== action.petId)\r\n            }\r\n        case 'SET_FILTER':\r\n            console.log(action.filterBy);\r\n            return {\r\n                ...state,\r\n                filterBy: { ...state.filterBy, ...action.filterBy }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","const initialState = {\r\n    shops: [],\r\n    currShop: {}\r\n}\r\n\r\nexport function shopReducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case 'LOAD_SHOPS':\r\n            return {\r\n                ...state,\r\n                shops: [...action.shops]\r\n            }\r\n        case 'GET_SHOP':\r\n            return {\r\n                ...state,\r\n                currShop: JSON.parse(JSON.stringify(action.shop))\r\n            }\r\n        case 'ADD_SHOP':\r\n            return {\r\n                ...state,\r\n                shops: [...state.shops, action.shopToSave]\r\n            }\r\n        case 'EDIT_SHOP':\r\n            return {\r\n                ...state,\r\n                shops: state.shops.map(shop => {\r\n                    if (shop._id === action.shopToSave._id) return action.shopToSave;\r\n                    return shop;\r\n                })\r\n            }\r\n        case 'REMOVE_SHOP':\r\n            return {\r\n                ...state,\r\n                shops: state.shops.filter(shop => shop._id !== action.shopId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","let localLoggedinUser = {_id: 'guest', fullName: 'guest', isGuest: true};\r\n\r\nconst initialState = {\r\n    loggedInUser: localLoggedinUser,\r\n    users: []\r\n};\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            // console.log('action.user', action.user);\r\n            return {\r\n                ...state, loggedInUser: action.user\r\n            };\r\n        case 'UPDATE_USER':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                    if (user._id === action.userToSave._id) return action.userToSave;\r\n                    return user;\r\n                })\r\n            }\r\n        case 'USER_REMOVE':\r\n            return {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            };\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state, users: action.users\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    orders: [],\r\n    filterBy: {\r\n        shop:''\r\n    }\r\n}\r\n\r\nexport function orderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'LOAD_ORDERS':\r\n            return {\r\n                ...state,\r\n                orders: [...action.orders]\r\n            }\r\n        case 'ADD_ORDER':\r\n            return {\r\n                ...state,\r\n                orders: [...state.orders, action.orderToSave]\r\n            }\r\n        case 'EDIT_ORDER':\r\n            return {\r\n                ...state,\r\n                orders: state.orders.map(order => {\r\n                    if (order._id === action.orderToSave._id) return action.orderToSave;\r\n                    return order;\r\n                })\r\n            }\r\n        case 'REMOVE_ORDER':\r\n            return {\r\n                ...state,\r\n                orders: state.orders.filter(order => order._id !== action.orderId)\r\n            }\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: { ...state.filterBy, ...action.filterBy }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","const initialState = {\r\n    chats: [],\r\n    currChat:'',\r\n    filterBy: {}\r\n}\r\n\r\nexport function chatReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'LOAD_CHATS':\r\n            return {\r\n                ...state,\r\n                chats: [...action.chats]\r\n            }\r\n        case 'GET_CHAT':\r\n            console.log('chat in reducer after get',action.chat );\r\n            return {\r\n                ...state,\r\n                currChat: {...action.chat}\r\n            }\r\n        case 'ADD_CHAT':\r\n            console.log('IN REDUCER',action.chatToSave);\r\n            return {\r\n                ...state,\r\n                chats: [...state.chats, action.chatToSave],\r\n                currChat:{...action.chatToSave}\r\n            }\r\n        case 'EDIT_CHAT':\r\n            return {\r\n                ...state,\r\n                chats: state.chats.map(chat => {\r\n                    if (chat._id === action.chatToSave._id) return action.chatToSave;\r\n                    return chat;\r\n                }),\r\n                currChat:{...action.chatToSave}\r\n            }\r\n        case 'REMOVE_CHAT':\r\n            return {\r\n                ...state,\r\n                chats: state.chats.filter(chat => chat._id !== action.chatId)\r\n            }\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: { ...state.filterBy, ...action.filterBy }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, applyMiddleware, compose, combineReducers } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { petReducer } from './reducers/petReducer';\r\nimport { shopReducer } from './reducers/shopReducer';\r\nimport { userReducer } from './reducers/userReducer'\r\nimport { orderReducer } from './reducers/orderReducer'\r\nimport { chatReducer } from './reducers/chatReducer';\r\n// import { reviewReducer } from './reducers/reviewReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    petReducer,\r\n    shopReducer,\r\n    userReducer,\r\n    orderReducer,\r\n    chatReducer\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/scss/global.scss'\r\nimport { App } from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from 'react-redux'\r\nimport {store} from './store/store'\r\nimport {HashRouter as Router} from 'react-router-dom'\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}> \r\n    <Router>\r\n    <App />\r\n    </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}