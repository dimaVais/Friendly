{"version":3,"sources":["assets/img/hero1.jpg","assets/img/about1.png","assets/img/about2.png","assets/img/about3.png","assets/img/category sync /^/.*/.png$","assets/img/category/cat.png","assets/img/category/dog.png","assets/img/category/farm.png","assets/img/category/other.png","assets/img/logo.png","assets/img/logo-with-title.png","assets/img/insta.png","services/httpService.js","services/petService.js","store/actions/petActions.js","cmps/FilterSearch.jsx","cmps/Hero.jsx","cmps/About.jsx","pages/Home.jsx","cmps/Geolocation.jsx","services/userService.js","store/actions/userActions.js","services/shopService.js","store/actions/shopActions.js","pages/SignUp.jsx","cmps/TagsFilter.jsx","cmps/CategoryList.jsx","cmps/PetFilter.jsx","cmps/PetPreview.jsx","cmps/PetList.jsx","pages/PetApp.jsx","pages/PetEdit.jsx","services/chatService.js","store/actions/chatActions.js","services/orderService.js","store/actions/orderActions.js","cmps/AdoptionMsgModal.jsx","pages/PetDetails.jsx","cmps/UserData.jsx","cmps/OrderPreview.jsx","cmps/OrderList.jsx","cmps/OrderListModal.jsx","cmps/GoogleMap.jsx","pages/ShopDetails.jsx","cmps/LoginModal.jsx","cmps/ChatsList.jsx","cmps/NavBar.jsx","pages/userProfile.jsx","cmps/Footer.jsx","services/socketService.js","cmps/Chat.jsx","App.jsx","serviceWorker.js","store/reducers/petReducer.js","store/reducers/shopReducer.js","store/reducers/userReducer.js","store/reducers/orderReducer.js","store/reducers/chatReducer.js","store/store.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","window","location","assign","petService","query","getPetById","save","remove","filterBy","httpService","params","filtered","filterPets","pet","_id","petId","pets","filteredPets","txt","trim","words","split","length","forEach","word","filter","name","toLowerCase","includes","type","gender","size","summary","description","shop","fullName","distance","range","userLoc","lat","lng","lon","petLoc","distanceFromUser","SphericalUtil","computeDistanceBetween","loadPets","dispatch","savePet","petToSave","removePet","setFilter","_FilterSearch","state","isClearShown","onInputChange","ev","target","value","setState","parent","onSearch","keyPress","keyCode","onClear","props","history","push","this","prevProps","className","autoComplete","placeholder","onChange","onKeyDown","icon","faSearch","onClick","faTimesCircle","Component","mapDispatchToProps","FilterSearch","withRouter","connect","petReducer","Hero","bgImage","require","bgImageAlt","strength","About","to","src","alt","_Home","user","Home","userReducer","loggedInUser","Geolocation","setLocToFind","loc","findLocation","getLatLng","cb","geocoder","key","find","err","latLang","getGeolocation","OutlinedInput","event","signupHandleChange","React","login","logout","signup","getUsers","getById","userId","getMiniById","update","userCred","sessionStorage","clear","loadUsers","userService","users","updateUser","userToSave","userCreds","_user","shopService","getMiniByUserId","getByUserId","updatedAt","Date","now","toLocaleString","createdAt","reviews","shopId","loadShops","shops","saveShop","shopToSave","_SignUp","userAdopt","userShop","signupCred","setUserAdopt","setUserShop","prevState","doSignup","preventDefault","username","password","address","email","phone","msg","imgUrl","substring","indexOf","isOwner","isGuest","lastSignUpUser","signUpShop","currUser","title","desc","locName","owner","parseFloat","signupCreds","latLng","onSubmit","FormControl","InputLabel","htmlFor","Select","native","inputProps","aria-label","label","multiline","getUserById","SignUp","shopReducer","TagsFilter","male","female","onGenderChange","genderDefault","onDistanceChange","onShow","onToggleFilterModal","tag","index","Switch","faMars","faVenus","FormGroup","displayGenderBtns","handleChange","Input","min","Button","variant","CategoryList","dog","cat","farm","other","imgClicked","onCategoryChange","classStr","displayTypesBtn","_PetFilter","breed","isModalShown","tags","getUserPosition","position","coords","latitude","longitude","onFilterChange","obj","onSetCategory","_type","handleInput","field","onApplyFilter","resetFilter","onToggleTag","splice","navigator","geolocation","getCurrentPosition","error","message","PetFilter","_PetPreview","isLiked","loveIconClass","onUpdateReaction","reaction","updatedReacts","reacts","react","count","JSON","parse","stringify","isAdopted","class","imgUrls","PetPreview","_PetList","onRemove","onEdit","popPets","notPopPets","isEmptyFilter","PetList","_PetApp","sortBy","isReady","resetFitler","_","scroll","scrollToTop","PetApp","_PetEdit","checked","onSubmitForm","match","petToEdit","TextField","defaultValue","adoptedAt","toISOString","substr","InputLabelProps","shrink","bDate","isInRisk","PetEdit","chatService","filterName","queryStr","chat","chatId","getChatById","toggleChat","chatInfo","orderService","order","orderId","loadOrders","orders","saveOrder","orderToSave","AdoptionMsgModal","_PetDetails","isOwnerOfPet","adoptButton","currComment","AdoptionModalMsg","getCurrPet","petToShow","onAdopt","buyer","setTimeout","onRemovePet","onToggleChat","handleCommentInput","onComment","comment","comments","by","unshift","getComponentData","cuurComment","getTimeToString","time","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","getUserId","ownerId","FacebookShareButton","quote","hashtag","FacebookIcon","WhatsappShareButton","WhatsappIcon","TwitterShareButton","TwitterIcon","faHeart","faCalendarAlt","toFixed","faExpandArrowsAlt","faVenusMars","faAlignLeft","faStar","rate","rating","autocomplete","fullWidth","PetDetails","UserData","display","birthDate","parseInt","familyStatus","numberOfKds","residence","petCondition","currrenPets","prevExperince","_OrderPreview","showUserModal","isUndreadMsg","setUnreadCount","chats","members","msgs","some","isRead","authorId","onToggleModal","orderClass","preProps","onSave","isShop","isModalClass","inModal","btnIcon","faInfoCircle","faComment","style","OrderPreview","chatReducer","_OrderList","msgDivClass","changePetAdoptionStatus","orderCheck","filterById","orderFilterName","removeOrder","OrderList","orderReducer","OrderListModal","isOpen","onToggleOrderModal","_GoogleMap","zoom","onMarkerClick","marker","onMapClicked","mapProps","onMapPassLoc","initialCenter","center","google","visible","GoogleMap","GoogleApiWrapper","apiKey","_ShopDetails","shopPets","shopOwner","isOpenReviews","isOpenOrders","currReview","loadShopData","getShopById","currShop","onAddReview","review","onToggleReviewModal","drawStars","stars","i","isOrderModal","faMale","faFemale","faMobileAlt","contact","faEnvelope","faAngleDoubleUp","ShopDetails","currChat","_LoginModal","loginCred","userName","showModal","loginHandleChange","closeModal","onNavBarClick","doLogin","autoFocus","required","removeUser","getChatsByUserId","LoginModal","_ChatsList","chatsReady","usersInfo","setUsersData","getRecipientId","miniUser","setRecipientsInfo","onChatListClicked","onToggleChatsList","displayChatDetails","userInfo","ChatsList","isChatShown","_NavBar","showLoginModal","showChatsList","pathName","unReadMsgCount","componentDidUpdate","onLogOut","pathname","faComments","NavBar","_userProfile","getUserOrders","userProfile","Footer","href","socketService","socket","setup","io","on","eventName","off","emit","terminate","createSocketService","_Chat","topic","recipient","sender","setRecipientInfo","setSocket","addMsg","creatNewChat","newMsg","saveChat","sendMsg","msgHandleChange","onClose","displayMsg","idx","classTxt","isAuthor","getHours","getMinutes","currChatInfo","getChatIfExists","member","faTimes","slice","reverse","faPaperPlane","chatToSave","Chat","_App","component","path","App","Boolean","hostname","initialState","localLoggedinUser","currChatId","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.4f3b5fe0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hero1.8b5847e5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/about1.679fdfa6.png\";","module.exports = __webpack_public_path__ + \"static/media/about2.18fa0a8f.png\";","module.exports = __webpack_public_path__ + \"static/media/about3.3f0198c1.png\";","var map = {\n\t\"./cat.png\": 189,\n\t\"./dog.png\": 190,\n\t\"./farm.png\": 191,\n\t\"./other.png\": 192\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 188;","module.exports = __webpack_public_path__ + \"static/media/cat.269e723b.png\";","module.exports = __webpack_public_path__ + \"static/media/dog.1afb1629.png\";","module.exports = __webpack_public_path__ + \"static/media/farm.976d3f34.png\";","module.exports = __webpack_public_path__ + \"static/media/other.6672fc57.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.9b0c6cc2.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-with-title.85dfceb8.png\";","module.exports = __webpack_public_path__ + \"static/media/insta.e77ccb90.png\";","import Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api'\r\n    : '//localhost:3002/api'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/');\r\n        }\r\n        throw err;\r\n    }\r\n}","import httpService from './httpService.js'\r\nimport {SphericalUtil} from \"node-geometry-library\";\r\nconst BASE_URL = '/pet'\r\n\r\nexport const petService = {\r\n    query,\r\n    getPetById,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query(filterBy) {\r\n    let queryStr = '';\r\n    //todo - change after building backend\r\n    // if (filterBy){\r\n    //     filterBy.type = filterBy.type.charAt(0).toUpperCase()+filterBy.type.slice(1);\r\n    //     queryStr = '?' + Object.keys(filterBy).map(key => key + '=' + filterBy[key]).join('&');\r\n\r\n    // }    \r\n    const res = await httpService.get(`${BASE_URL}${queryStr}`, {\r\n        params: filterBy\r\n    });\r\n    const filtered = filterPets(res, filterBy);\r\n    return filtered;\r\n}\r\nasync function getPetById(id) {\r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\nasync function save(pet) {\r\n    if (pet._id) {\r\n        // pet.updatedAt = new Date(date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${pet._id}`, pet)\r\n        return res;\r\n    } else {\r\n        // pet.createdAt = new Date(date.now()).toLocaleString();\r\n        const res = await httpService.post(`${BASE_URL}`, pet)\r\n        return res;\r\n    }\r\n}\r\nasync function remove(petId) {\r\n    await httpService.delete(`${BASE_URL}/${petId}`)\r\n}\r\n\r\nfunction filterPets(pets, filterBy) {\r\n    if (!filterBy) return pets\r\n\r\n    let filteredPets = pets\r\n    if (filterBy.txt) {\r\n        filterBy.txt = filterBy.txt.trim(' ');\r\n        filterBy.txt = filterBy.txt.trim(',');\r\n\r\n        let words = filterBy.txt.split(' ');\r\n        if (words.length = 1) words = filterBy.txt.split(',');\r\n\r\n        words.forEach(word => {\r\n            filteredPets = filteredPets.filter(pet => {\r\n                if (pet.name.toLowerCase().includes(word) ||\r\n                    pet.type.toLowerCase().includes(word) ||\r\n                    pet.gender.toLowerCase().includes(word) ||\r\n                    pet.size.toLowerCase().includes(word) ||\r\n                    pet.summary.toLowerCase().includes(word) ||\r\n                    pet.description.toLowerCase().includes(word) ||\r\n                    pet.shop.fullName.toLowerCase().includes(word)) return pet\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    filteredPets = filteredPets.filter(pet => {\r\n        return pet.type.toLowerCase().includes(filterBy.type)\r\n    })\r\n\r\n\r\n    if (filterBy.distance.range) {\r\n        const userLoc = {lat: filterBy.distance.lat, lng: filterBy.distance.lon};\r\n        filteredPets = filteredPets.filter(pet => {\r\n            const petLoc = {lat:pet.location.lat, lng:pet.location.lng };\r\n            const distanceFromUser = SphericalUtil.computeDistanceBetween(userLoc, petLoc)/1000\r\n            console.log('distanceFromUser',distanceFromUser)\r\n            return  distanceFromUser <= filterBy.distance.range\r\n        })\r\n    }\r\n\r\n    return filteredPets\r\n}","import { petService } from \"../../services/petService.js\"\r\n\r\nexport function loadPets(filterBy) {\r\n    return async dispatch => {\r\n        const pets = await petService.query(filterBy);\r\n        dispatch({ type: 'LOAD_PETS', pets });\r\n    }\r\n}\r\n\r\nexport function savePet(pet) {\r\n    return async dispatch => {\r\n        const petToSave = await petService.save(pet);\r\n        if (pet._id) dispatch({ type: 'EDIT_PET', petToSave });\r\n        else dispatch({ type: 'ADD_PET', petToSave });\r\n    }\r\n}\r\n\r\nexport function removePet(petId) {\r\n    return async dispatch => {\r\n       await petService.remove(petId);\r\n       dispatch({ type: 'REMOVE_PET', petId })\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy){\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_FILTER', filterBy })\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { setFilter, loadPets } from '../store/actions/petActions.js'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\n\r\n\r\nclass _FilterSearch extends Component {\r\n\r\n    state = {\r\n        txt: '',\r\n        isClearShown: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.setState({ txt: this.props.filterBy.txt });\r\n        await this.setState({ parent: this.props.parent });\r\n        this.setState({ isClearShown: this.state.txt !== '' })\r\n        if (this.props) {\r\n            console.log(this.props);\r\n        }\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps !== this.props) {\r\n            this.setState({ txt: this.props.filterBy.txt });\r\n            this.setState({ isClearShown: this.state.txt !== '' })\r\n        }\r\n    }\r\n\r\n    onInputChange = async (ev) => {\r\n        console.log(ev.target.value);\r\n        const txt = ev.target.value;\r\n        this.setState({ isClearShown: txt !== '' })\r\n        await this.setState({ txt });\r\n        if (!txt && this.state.parent !== 'hero') await this.onSearch();\r\n    }\r\n    keyPress = (e) => {\r\n        if (e.keyCode == 13) {\r\n            this.onSearch();\r\n\r\n        }\r\n    }\r\n    onClear = async () => {\r\n        this.setState({ txt: '' })\r\n        this.props.setFilter({ txt: '' }, () => this.props.loadPets())\r\n        this.setState({ isClearShown: false })\r\n    }\r\n\r\n    onSearch = async () => {\r\n        await this.props.setFilter({ txt: this.state.txt }, () => this.props.loadPets())\r\n        console.log(this.props)\r\n\r\n        if (this.state.parent === 'hero') this.props.history.push('/pet')\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"search-container flex\">\r\n                <div className=\"input-container\">\r\n                    <input className=\"search\"\r\n                        type=\"text\"\r\n                        name=\"search\"\r\n                        value={this.state.txt}\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"Find a friend (i.e. small, cat, puppy)\"\r\n                        onChange={(ev) => this.onInputChange(ev)}\r\n                        onKeyDown={this.keyPress} />\r\n                    <FontAwesomeIcon className=\"search-icon\" icon={faSearch} />\r\n                    <FontAwesomeIcon className={this.state.isClearShown ? 'clear-icon' : 'clear-icon hidden'}\r\n                        onClick={this.onClear} icon={faTimesCircle} />\r\n                </div>\r\n                <div className=\"btn-search\" onClick={this.onSearch}>Search</div>\r\n                {/* <div className=\"icons-container\">\r\n                </div> */}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        filterBy: state.petReducer.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    loadPets\r\n}\r\n\r\nexport const FilterSearch = withRouter(connect(mapStateToProps, mapDispatchToProps)(_FilterSearch));\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { FilterSearch } from './FilterSearch'\r\nimport { Parallax, Background } from 'react-parallax';\r\nexport class Hero extends Component {\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Parallax\r\n            className = 'hero-container'\r\n            bgImage={require('../assets/img/hero1.jpg')}\r\n            bgImageAlt=\"the cat\"\r\n            strength={800}\r\n            // style={{width:\"100%\"}}\r\n        >\r\n            \r\n            {/* <div style={{ height: '600px' }} /> */}\r\n        \r\n            <div className=\"hero-container full\">\r\n                <div className=\"hero-content\">\r\n                    <h1 className=\"hero-heading-up\"><span className=\"span\">Friendly.</span> Adopt a <span className=\"span\">pet</span> </h1>\r\n                    <h1 className=\"hero-heading\">Discover your next best friend</h1>\r\n                    <FilterSearch parent='hero' />\r\n                    <section className=\"category-container\">\r\n                        {/* <CategoryList/> */}\r\n                    </section>\r\n                </div>\r\n            </div>\r\n            </Parallax>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport class About extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"about-main-container full\">\r\n                <div className=\"about-left\">\r\n                    <div className=\"about-headings\">\r\n                        <h1>Friendly connects adoption centers to potential adopters</h1>\r\n                    </div>\r\n                    <div className=\"call-to-action\">\r\n                       <Link to=\"/pet\"><button className=\"go-to-gallery-btn\">Let's See Some Animals</button></Link> \r\n                    </div>\r\n                </div>\r\n                <div className=\"about-right\">\r\n                    <div className=\"adoption-reasons-box\">\r\n                        <h3 className=\"adoption-reasons-header\">Why Should I Adopt?</h3>\r\n                        <p>Decrease blood pressure.</p>\r\n                        <p>Decrease feelings of loneliness.</p>\r\n                        <p>Increase opportunities for exercise and outdoor activities.</p>\r\n                        <p className=\"adoption-reason-last\">Increase opportunities for socialization.</p>\r\n                    </div>\r\n                    <div className=\"images-box\">\r\n                        <img className=\"img-1\" src={require('../assets/img/about1.png')} alt=\"\" />\r\n                        <img className=\"img-2\" src={require('../assets/img/about2.png')} alt=\"\" />\r\n                        <img className=\"img-3\" src={require('../assets/img/about3.png')} alt=\"\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Hero } from '../cmps/Hero'\r\nimport { loadPets } from '../store/actions/petActions.js'\r\nimport { About } from '../cmps/About'\r\n\r\nclass _Home extends Component {\r\n\r\n    state = {\r\n        pets: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadPets()       \r\n    }\r\n    \r\n\r\n    loadPets = () => {\r\n        this.props.loadPets()\r\n    }\r\n\r\n    render() {\r\n        const {user} = this.props\r\n        return (\r\n            <div>\r\n\r\n                <Hero />\r\n                <About />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        user: state.userReducer.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadPets\r\n}\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)","import React from 'react'\r\nimport { OutlinedInput } from '@material-ui/core';\r\n\r\nexport class Geolocation extends React.Component {\r\n\r\n    state = {\r\n        lat: 0,\r\n        lng: 0\r\n    }\r\n\r\n    setLocToFind = async (ev) => {\r\n        const loc = ev.target.value;\r\n        console.log('find:', loc);\r\n        const res = await this.findLocation(loc, this.getLatLng);\r\n    }\r\n\r\n    findLocation = async (loc, cb) => {\r\n        const geocoder = require('google-geocoder');\r\n        const geo = geocoder({\r\n            key: 'AIzaSyDGql0MyVMEQeH89LQj0TtpM66SoLpkAhw'\r\n        });\r\n        geo.find(loc, cb);\r\n    }\r\n\r\n    getLatLng = async (err, res) => {\r\n        const data = await res;\r\n        if (data && data.length > 0) {\r\n            await this.setState({\r\n                lat: data[0].location.lat,\r\n                lng: data[0].location.lng\r\n            })\r\n           const latLang = {\r\n                lat:this.state.lat,\r\n                lng:this.state.lng\r\n            }\r\n            this.props.getGeolocation(latLang);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const latLng = this.state;\r\n        if (!latLng) return <h1>LOADING...</h1>\r\n        return (\r\n            <div className=\"flex column align-center\">\r\n                <OutlinedInput type=\"text\" name=\"locName\" placeholder=\"Your Shop Location\"\r\n                    onChange={(event) => {\r\n                        this.setLocToFind(event);\r\n                        this.props.signupHandleChange(event)\r\n                    }}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import httpService from './httpService'\r\nconst BASE_URL_AUTH = '/auth'\r\nconst BASE_URL_USER = '/user'\r\n\r\nexport default {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    getMiniById,\r\n    remove,\r\n    update\r\n}\r\n\r\nfunction getUsers() {\r\n    return httpService.get('user')\r\n}\r\n\r\nfunction getById(userId) {\r\n    return httpService.get(`${BASE_URL_USER}/${userId}`)\r\n}\r\n\r\n function getMiniById(userId) {\r\n    return httpService.get(`${BASE_URL_USER}/mini/${userId}`);\r\n}\r\n\r\nfunction remove(userId) {\r\n    return httpService.delete(`${BASE_URL_USER}/${userId}`)\r\n}\r\n\r\nfunction update(user) {\r\n    return httpService.put(`${BASE_URL_USER}/${user._id}`, user)\r\n}\r\n\r\nasync function login(userCred) {\r\n    const res = await httpService.post(`${BASE_URL_AUTH}/login`, userCred);\r\n    return res;                              \r\n}\r\n\r\nasync function signup(user) {\r\n    const res = await httpService.post(`user`, user);\r\n    return res[0] \r\n}\r\n\r\nasync function logout() {\r\n    await httpService.post(`${BASE_URL_AUTH}/logout`);\r\n    sessionStorage.clear();\r\n}\r\nfunction _handleLogin(user) {\r\n    sessionStorage.setItem('user', JSON.stringify(user))\r\n    return user;\r\n}\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}","import userService from \"../../services/userService\";\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            const users = await userService.getUsers();\r\n            dispatch({\r\n                type: 'SET_USERS',\r\n                users\r\n            });\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport async function getUserById(id) {\r\n    const user = await userService.getById(id);\r\n    return user;\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId);\r\n            dispatch({\r\n                type: 'USER_REMOVE',\r\n                userId\r\n            });\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err);\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateUser(user) {\r\n    return async dispatch => {\r\n        const userToSave = await userService.update(user);\r\n        dispatch({\r\n            type: 'UPDATE_USER',\r\n            userToSave\r\n        });\r\n    };\r\n}\r\n\r\nexport function login(userCreds) {\r\n    return async dispatch => {\r\n        const user = await userService.login(userCreds);\r\n        dispatch({\r\n            type: 'SET_USER',\r\n            user\r\n        });\r\n    };\r\n}\r\nexport function signup(_user) {\r\n    return async dispatch => {\r\n        const user = await userService.signup(_user);\r\n        dispatch({\r\n            type: 'SET_USER',\r\n            user\r\n        });\r\n    };\r\n}\r\nexport function logout() {\r\n    return async dispatch => {\r\n        await userService.logout();\r\n        dispatch({\r\n            type: 'LOGOUT'\r\n        });\r\n    };\r\n}","import httpService from './httpService.js'\r\nconst BASE_URL = '/shop'\r\n\r\n\r\nexport const shopService = {\r\n    query,\r\n    getById,\r\n    getMiniByUserId,\r\n    getByUserId,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query() {\r\n    const res = await httpService.get(`${BASE_URL}`);\r\n    return res;\r\n}\r\n\r\nasync function getById(id) {\r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\n\r\nfunction getMiniByUserId(id) {\r\n    return httpService.get(`${BASE_URL}/mini/${id}`);\r\n}\r\n\r\nasync function getByUserId(id) {\r\n    const res = await httpService.get(`${BASE_URL}/owner/${id}`);\r\n    return res;\r\n}\r\n\r\nasync function save(shop) {\r\n    if (shop._id) {\r\n        shop.updatedAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${shop._id}`, shop)\r\n        return res;\r\n\r\n    } else {\r\n        shop.createdAt = new Date(Date.now()).toLocaleString();\r\n    }\r\n    shop.pets = [];\r\n    shop.reviews = [];\r\n    const res = await httpService.post(`${BASE_URL}`, shop)\r\n    return res;\r\n}\r\n\r\n\r\nasync function remove(shopId) {\r\n    await httpService.delete(`${BASE_URL}/${shopId}`)\r\n}\r\n\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}","import { shopService } from \"../../services/shopService.js\"\r\n\r\nexport function loadShops() {\r\n    return async dispatch => {\r\n        const shops = await shopService.query();\r\n        dispatch({ type: 'LOAD_SHOPS', shops });\r\n    }\r\n}\r\n\r\nexport function getShopById(shopId) {\r\n    return async dispatch => {\r\n        const shop = await shopService.getById(shopId);\r\n        dispatch({ type: 'GET_SHOP', shop });\r\n    }\r\n}\r\n\r\nexport function saveShop(shop) {\r\n    return async dispatch => {\r\n        const shopToSave = await shopService.save(shop);\r\n        if (shop._id) dispatch({ type: 'EDIT_SHOP', shopToSave });\r\n        else dispatch({ type: 'ADD_SHOP', shopToSave });\r\n    }\r\n}\r\n\r\nexport function removeShop(shopId) {\r\n    return async dispatch => {\r\n       await shopService.remove(shopId);\r\n       dispatch({ type: 'REMOVE_SHOP', shopId })\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { OutlinedInput } from '@material-ui/core';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Geolocation } from '../cmps/Geolocation';\r\n\r\nimport { signup, getUserById, updateUser, login, loadUsers } from '../store/actions/userActions'\r\nimport { saveShop, loadShops } from '../store/actions/shopActions'\r\n\r\n\r\nexport class _SignUp extends Component {\r\n\r\n    state = {\r\n        userAdopt: false,\r\n        userShop: false,\r\n        signupCred: ''\r\n    }\r\n\r\n    setUserAdopt = () => {\r\n        this.setState({ userAdopt: true, userShop: false })\r\n    }\r\n    setUserShop = () => {\r\n        this.setState({ userShop: true, userAdopt: false })\r\n    }\r\n\r\n    signupHandleChange = async ev => {\r\n        const { name, value } = ev.target;\r\n        await this.setState(prevState => ({\r\n            signupCred: {\r\n                ...prevState.signupCred,\r\n                [name]: value\r\n            }\r\n        }));\r\n        console.log('This State:', this.state);\r\n    };\r\n\r\n    doSignup = async ev => {\r\n        ev.preventDefault();\r\n        const { userAdopt, userShop } = this.state;\r\n        const { fullName, username, password, address, email, phone } = this.state.signupCred;\r\n        if (!fullName || !username || !password || !address) {\r\n            return this.setState({ msg: 'All inputs are required!' });\r\n        }\r\n        const user = {\r\n            fullName: fullName,\r\n            username: username,\r\n            password: password,\r\n            imgUrl: `https://ui-avatars.com/api/?name=${fullName.substring(0, 1)}+${fullName.substring(fullName.indexOf(' ') + 1, fullName.indexOf(' ') + 2)}`,\r\n            address: address,\r\n            email: email,\r\n            phone: phone,\r\n            isOwner: userShop,\r\n            isGuest: false\r\n        };\r\n        await this.props.signup(user);\r\n        await this.props.loadUsers();\r\n        const lastSignUpUser = this.props.users[this.props.users.length - 1]\r\n        console.log('userNow:',lastSignUpUser);\r\n        this.setState({ signupCred: { fullName: '', username: '', password: '', address: '', email: '', phone: '' } });\r\n        if (userShop) {\r\n            this.signUpShop(lastSignUpUser);\r\n        } \r\n        this.props.history.push(`/`);\r\n    }\r\n\r\n    signUpShop = async (currUser) => {\r\n        const { name, type, title, desc, locName, lat, lng } = this.state.signupCred;\r\n        if (!name || !type || !title || !desc || !locName) {\r\n            return this.setState({ msg: 'All inputs are required!' });\r\n        }\r\n\r\n        const owner = {\r\n            _id: currUser._id,\r\n            fullName: currUser.fullName,\r\n            imgUrl: currUser.imgUrl\r\n        }\r\n        const location = {\r\n            name: locName,\r\n            lat: parseFloat(lat),\r\n            lng: parseFloat(lng)\r\n        }\r\n        const signupCreds = { name, type, owner, title, desc, location };\r\n        this.props.saveShop(signupCreds);\r\n        currUser.isOwner = true;\r\n        await this.props.updateUser(currUser)\r\n        this.setState({\r\n            signupCred: {\r\n                name: '', type: '', owner: '', title: '', description: '', location: ''\r\n            }\r\n        });\r\n        // await this.props.loadShops();\r\n        // const shopId = this.props.shops.find(shop => { return shop.owner._id === currUser._id })._id;\r\n        // this.props.history.push(`/shop/${shopId}`)\r\n    }\r\n\r\n    getGeolocation = (latLng) => {\r\n        this.setState({\r\n            signupCred: {\r\n                ...this.state.signupCred,\r\n                lat: latLng.lat,\r\n                lng: latLng.lng\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { userAdopt, userShop } = this.state\r\n        const { loggedInUser } = this.props\r\n        console.log('this.state.signupCred', this.state.signupCred);\r\n        return (\r\n            <div className=\"form-container flex column align-center\">\r\n                <h1>We are happy you decided to join us!</h1>\r\n                <p>Do you want to adopt or to find adopters for your animals?</p>\r\n                <div className=\"btn-menu flex\">\r\n                    <button onClick={() => { this.setUserAdopt() }}>Adopt</button>\r\n                    <button onClick={() => { this.setUserShop() }}>Find Adopters</button>\r\n                </div>\r\n                <div className=\"fields-container flex column align-center\">\r\n                    {(userAdopt) ? <h3>New Adopter</h3> :\r\n                        <h3>Please filled out this form so we will be able to get to know you and your animals</h3>}\r\n                    <form className=\"flex column align-center\" onSubmit={this.doSignup}>\r\n                        <div className=\"flex\">\r\n                            <div className=\"flex column align-center\">\r\n                                <br />\r\n                                <OutlinedInput type=\"text\" name=\"fullName\" placeholder=\"Full Name\" onChange={this.signupHandleChange} value={this.state.signupCred.fullName}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"username\" placeholder=\"User Name\" onChange={this.signupHandleChange} value={this.state.signupCred.username}></OutlinedInput>\r\n                                <OutlinedInput type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.signupHandleChange} value={this.state.signupCred.password}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"address\" placeholder=\"Personal Address\" onChange={this.signupHandleChange} value={this.state.signupCred.address}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"email\" placeholder=\"Email\" onChange={this.signupHandleChange} value={this.state.signupCred.email}></OutlinedInput>\r\n                                <OutlinedInput type=\"text\" name=\"phone\" placeholder=\"Phone\" onChange={this.signupHandleChange} value={this.state.signupCred.phone}></OutlinedInput>\r\n                            </div>\r\n                            {userShop &&\r\n                                <div className=\"flex column align-center\">\r\n                                    <OutlinedInput type=\"text\" name=\"name\" placeholder=\"Your Shop Name\"\r\n                                        onChange={this.signupHandleChange}></OutlinedInput>\r\n                                    <FormControl>\r\n                                        <InputLabel htmlFor=\"type\">Shop Type:</InputLabel>\r\n                                        <Select\r\n                                            native\r\n                                            onChange={this.signupHandleChange}\r\n                                            inputProps={{\r\n                                                name: \"type\",\r\n                                            }}>\r\n                                            <option aria-label=\"None\" value=\"\" />\r\n                                            <option value={\"shelter\"}>Shelter</option>\r\n                                            <option value={\"volunteer\"}>Volunteer</option>\r\n                                            <option value={\"private\"}>Private</option>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    <OutlinedInput type=\"text\" name=\"title\" placeholder=\"Your shop title/catchFrase\"\r\n                                        onChange={this.signupHandleChange}></OutlinedInput>\r\n                                    <OutlinedInput\r\n                                        id=\"standard-textarea\"\r\n                                        label=\"Shop Description:\"\r\n                                        placeholder=\"Your shop short description\"\r\n                                        multiline\r\n                                        name=\"desc\"\r\n                                        onChange={this.signupHandleChange}\r\n                                    />\r\n                                    <Geolocation getGeolocation={this.getGeolocation}\r\n                                        signupHandleChange={this.signupHandleChange} />\r\n                                    <br />\r\n                                </div>}\r\n                        </div>\r\n                        <button>Signup</button>\r\n                    </form>\r\n                </div >\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.userReducer.users,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n        shops: state.shopReducer.shops\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    signup,\r\n    login,\r\n    loadUsers,\r\n    saveShop,\r\n    loadShops,\r\n    getUserById,\r\n    updateUser\r\n};\r\n\r\nexport const SignUp = connect(mapStateToProps, mapDispatchToProps)(_SignUp);","import React, { Component } from 'react';\r\n\r\nimport { Input,Button,Switch,FormGroup,InputLabel,Select } from '@material-ui/core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faVenus } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nexport class TagsFilter extends Component {\r\n    \r\n    state={\r\n        gender:{\r\n            txt:'',\r\n            male:false,\r\n            female:false\r\n        },\r\n        distance:{\r\n            range:0\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        // this.setState({...this.state)\r\n        console.log(this.props);\r\n    }\r\n\r\n    \r\n    onGenderChange=async (gender)=>{\r\n        let genderDefault={\r\n            male:false,\r\n            female:false\r\n        }\r\n        genderDefault = {...genderDefault,[gender]:!this.state.gender[gender]}\r\n        console.log(genderDefault);\r\n        await this.setState({...this.state,gender:{...genderDefault}})\r\n    }\r\n    onDistanceChange=async (ev)=>{\r\n        const distance=ev.target.value\r\n        console.log(distance);\r\n    }\r\n    \r\n    \r\n    \r\n    onShow=()=>{\r\n        if(this.state.gender.male!==this.gender.female) {\r\n            \r\n        }\r\n        // this.props.onFilterChange({'gender':gender})\r\n        console.log(this.state);\r\n        this.props.onToggleFilterModal();\r\n    }\r\n    onClear=()=>{\r\n\r\n    }\r\n    displayTags(tag,index){\r\n        return (\r\n            <div  key={index}>\r\n                <label htmlFor=\"\">{tag}</label>\r\n                <Switch type=\"checkbox\" name=\"\" value={tag} />\r\n            </div>\r\n        )\r\n    }\r\n    displayGenderBtns(){\r\n        const {gender}=this.state\r\n        return(\r\n            <section className=\"gender\">                    \r\n                <InputLabel htmlFor=\"\">Gender</InputLabel>\r\n                <div className={gender.male?'pet-gender pressed':'pet-gender'} onClick={()=>this.onGenderChange('male')}><FontAwesomeIcon  className=\" pet-gender-male-icon\"  icon={faMars} /></div>\r\n                <div className={gender.female?'pet-gender pressed':'pet-gender'} onClick={()=>this.onGenderChange('female')}><FontAwesomeIcon  className=\" pet-gender-female-icon\"  icon={faVenus} /></div>\r\n            </section>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        const tags = [\"Kids friendly\",\"Healthy\",\"Energetic\",\"Sterilized\"]\r\n\r\n        return (\r\n            <div className=\"tags-modal\">\r\n                <div className=\"container\">\r\n                <FormGroup>\r\n                    {this.displayGenderBtns()}\r\n                    <section>\r\n\r\n                        <InputLabel htmlFor=\"age\">Age</InputLabel>\r\n                            <Select\r\n                                \r\n                                native\r\n                                onChange={this.props.handleChange}\r\n                                inputProps={{\r\n                                    name: 'age',\r\n                                    id: 'age-native-simple',\r\n                                }}\r\n                                >\r\n                                    <option aria-label=\"None\" value=\"\" />\r\n                                    <option value={1}>Puppy</option>\r\n                                    <option value={7}>Grown up</option>\r\n                                    <option value={15}>Old</option>\r\n                            </Select>\r\n                    </section>\r\n                    <section>\r\n                    <InputLabel htmlFor=\"size\">Size</InputLabel>\r\n                            <Select\r\n                                native\r\n                                onChange={this.props.handleChange}\r\n                                inputProps={{\r\n                                    name: 'size',\r\n                                    id: 'age-native-simple',\r\n                                }}\r\n                                >\r\n                                <option aria-label=\"None\" value=\"\" />\r\n                                <option value=\"small\">Small</option>\r\n                                <option value=\"medium\">Medium</option>\r\n                                <option value=\"big\">Big</option>\r\n                            </Select>\r\n\r\n                    </section>\r\n                   \r\n                    <section>\r\n                            <InputLabel htmlFor=\"\">{'Distance(km)'}</InputLabel>\r\n                            <Input type=\"number\" name=\"\" min=\"1\" id=\"\" onChange={this.onDistanceChange}/>\r\n                    </section>\r\n                    {/* <section >\r\n                        {tags.map((tag,index) => displayTags(tag,index))}\r\n                    </section> */}\r\n                    <section className=\"btns-container\"></section>\r\n                        <Button variant=\"contained\" onClick={this.onShow}>Show</Button>\r\n                        <Button variant=\"contained\" onClick={this.onClear}>Clear</Button>\r\n                </FormGroup>  \r\n                </div>  \r\n             </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\n\r\nexport class CategoryList extends Component {\r\n    \r\n    state={\r\n        dog:false,\r\n        cat:false,\r\n        farm:false,\r\n        other:false\r\n    }\r\n    \r\n\r\n\r\n    displayTypesBtn(type){\r\n        const classStr=this.state[type]?'pressed':'';\r\n        return(\r\n             <img key={type} src={require(`../assets/img/category/${type}.png`)} className={classStr} alt=\"Category\" onClick={(event)=>this.imgClicked(type)}/>\r\n        )\r\n    }\r\n     imgClicked=async (type)=>{\r\n         const state= {\r\n            dog:false,\r\n            cat:false,\r\n            farm:false,\r\n            other:false\r\n         }\r\n        if(this.state[type]) {\r\n            await this.setState({...state})\r\n            type='';\r\n        }else await this.setState({...state,[type]:!this.state.type})\r\n        this.props.onCategoryChange(type)\r\n    }\r\n    \r\n    render(){\r\n        \r\n        return (\r\n            <div className=\"category-list anchor\">\r\n                {\r\n                    Object.keys(this.state).map(type=>this.displayTypesBtn(type) )\r\n                }\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Input, InputLabel, Select } from '@material-ui/core';\r\n\r\nimport { TagsFilter } from './TagsFilter'\r\nimport { setFilter, loadPets } from '../store/actions/petActions.js'\r\nimport { FilterSearch } from './FilterSearch';\r\nimport { CategoryList } from './CategoryList';\r\n// import SearchIcon from '@material-ui/icons/Search';\r\n\r\nclass _PetFilter extends Component {\r\n\r\n    state = {\r\n        parent: '',\r\n        filterBy: {\r\n            type: '',\r\n            gender: '',\r\n            breed: '',\r\n            size: '',\r\n            txt: '',\r\n            distance: {\r\n                lat: 0,\r\n                lon: 0,\r\n                range: 0\r\n            }\r\n        },\r\n        isModalShown: false,\r\n        tags: []\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await navigator.geolocation.getCurrentPosition(\r\n            this.getUserPosition,\r\n            function (error) {\r\n                console.error(\"Error Code = \" + error.code + \" - \" + error.message);\r\n            }\r\n        );\r\n    }\r\n\r\n    getUserPosition = async (position) => {\r\n        const distance = {\r\n            lat: position.coords.latitude,\r\n            lon: position.coords.longitude,\r\n            range: 0\r\n        }\r\n        await this.setState({ filterBy: { ...this.state.filterBy, distance: distance } });\r\n    }\r\n\r\n    onFilterChange = async (obj) => {\r\n        await this.props.setFilter({ ...this.props.filterBy, ...obj }, () => this.loadPets())\r\n    }\r\n\r\n    onSetCategory = async (_type) => {\r\n        await this.setState({\r\n            filterBy: {\r\n                ...this.state.filterBy,\r\n                type: _type\r\n            }\r\n        })\r\n        this.onFilterChange({ 'type': _type })\r\n    }\r\n\r\n    handleInput = async ({ target }) => {\r\n        const field = target.name;\r\n        if (target.type === 'number') var value = +target.value;\r\n        else value = target.value;\r\n        await this.setState(prevState => {\r\n            if (field === 'range') {\r\n                return {\r\n                    ...prevState,\r\n                    filterBy: {\r\n                        ...prevState.filterBy,\r\n                        distance: {\r\n                            ...prevState.filterBy.distance,\r\n                            [field]: value\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                return {\r\n                    ...prevState,\r\n                    filterBy: {\r\n                        ...prevState.filterBy,\r\n                        [field]: value\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.onFilterChange( this.state.filterBy );\r\n    }\r\n\r\n    onToggleFilterModal = () => {\r\n        this.setState({ isModalShown: !this.state.isModalShown })\r\n    }\r\n    onApplyFilter = () => {\r\n        this.onToggleFilterModal()\r\n    }\r\n\r\n    resetFilter = async () => {\r\n\r\n        await this.setState({\r\n            ...this.state.filterBy,\r\n            type: '',\r\n            gender: '',\r\n            breed: '',\r\n            size: '',\r\n            txt: ''\r\n        });\r\n        this.props.setFilter(this.state.filterBy, () => this.props.loadPets())\r\n    }\r\n\r\n    onToggleTag = ev => {\r\n        const tag = ev.target.value;\r\n        let tags = [...this.state.tags]\r\n        if (tags.includes(tag)) {\r\n            tags.splice(tags.indexOf(tag), 1);\r\n        } else {\r\n            tags.push(tag)\r\n        }\r\n        this.setState({ tags })\r\n        console.log(this.state.tags);\r\n    }\r\n\r\n    render() {\r\n        const { isModalShown } = this.state\r\n        // const btnClass=parent==='hero'?'hero-btn more-btn':'gallery-btn more-btn';\r\n        return (\r\n            <div className=\"filter-container flex column align-center\">\r\n\r\n                <section className=\"search-container flex space-around\">\r\n                    <FilterSearch parent=\"main\" onInputChange={this.onInputChange} />\r\n                    {/* { <button className=\"more-btn\"  onClick={this.onToggleFilterModal}>More</button>} */}\r\n                </section>\r\n                <section className=\"category-container\">\r\n                    <CategoryList onCategoryChange={this.onSetCategory} />\r\n                </section>\r\n                <section>\r\n                    <InputLabel htmlFor='Distance(km)'>Distance(km)</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: 'range',\r\n                            type: \"number\"\r\n                        }}\r\n                    >\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"20\">20km</option>\r\n                        <option value=\"50\">50km</option>\r\n                        <option value=\"100\">100km</option>\r\n                        <option value=\"200\">200km</option>\r\n                    </Select>\r\n                </section>\r\n                \r\n                {isModalShown && <TagsFilter filterBy={this.props.filterBy} onToggleTag={this.onToggleTag} onFilterChange={this.onFilterChange} onToggleFilterModal={this.onToggleFilterModal} />}\r\n\r\n                <br />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        filterBy: state.petReducer.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    loadPets\r\n}\r\n\r\n\r\nexport const PetFilter = connect(mapStateToProps, mapDispatchToProps)(_PetFilter)\r\n","import { NavLink, Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\r\nimport { faMars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faVenus } from '@fortawesome/free-solid-svg-icons'\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loadPets, savePet } from '../store/actions/petActions';\r\n\r\n\r\nclass _PetPreview extends Component {\r\n\r\n    state = {\r\n        pet: {},\r\n        isLiked: false,\r\n        loveIconClass: 'love-icon'\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.setState({ pet: { ...this.props.pet } })\r\n    }\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps != this.props) {\r\n            await this.setState({ pet: { ...this.props.pet } })\r\n        }\r\n    }\r\n\r\n    onUpdateReaction = async (ev, reaction) => {\r\n        ev.preventDefault()\r\n        const pet = this.state.pet;\r\n        const updatedReacts = pet.reacts.map(react => {\r\n            if (react.type === reaction) {\r\n                this.setState({isLiked: !this.state.isLiked})\r\n                // const loveIconClass = (this.state.loveIconClass === 'love-icon') ? 'love-icon-active' : 'love-icon'\r\n                // this.setState({ loveIconClass })\r\n\r\n                react.count += this.state.isLiked ? -1 : +1;\r\n                this.setState({ ...this.state, isLiked: !this.state.isLiked })\r\n            }\r\n            return react\r\n        })\r\n        await this.setState({ ...pet, reacts: [...updatedReacts] })\r\n        const petToSave = await JSON.parse(JSON.stringify(this.state.pet));\r\n        await this.props.savePet(petToSave);\r\n    }\r\n\r\n    render() {\r\n        const { pet } = (Object.keys(this.state.pet).length === 0) ? this.props : this.state;\r\n        const loveIconClass = (this.state.isLiked) ? 'love-icon-active' : 'love-icon'\r\n        if (!pet || !pet.reacts) return <h1>loading...</h1>\r\n        return (\r\n            <NavLink to={`/details/${pet._id}`}>\r\n\r\n                <div className=\"pet-preview\">\r\n                    {pet.isAdopted && <div class=\"ribbon ribbon-top-right\"><span>Adopted</span></div>}\r\n                    <img src={(pet.imgUrls) ? pet.imgUrls[0] : ''} alt=\"pet\" />\r\n                    <div className=\"card-description\">\r\n                        <div className=\"card-description-header\">\r\n                            <h2 className=\"pet-name\">{pet.name}</h2>\r\n                            {(pet.gender === 'Male') && <FontAwesomeIcon className=\"pet-gender-male-icon\" icon={faMars} />}\r\n                            {(pet.gender !== 'Male') && <FontAwesomeIcon className=\"pet-gender-female-icon\" icon={faVenus} />}\r\n                        </div>\r\n                        <h4>{pet.summary}</h4>\r\n                    </div>\r\n                    <div className=\"shop-container\">\r\n                        {pet.shop && <Link to={`/shop/${pet.shop._id}`}>{pet.shop.fullName}</Link>}\r\n                        {/* {pet.shop && <h4>{pet.shop.fullName}</h4>} */}\r\n                        <div onClick={(ev) => { this.onUpdateReaction(ev, 'love') }} className=\"pet-rate-box\">\r\n                            {/* <span>{pet.reacts && pet.reacts[0].type === 'love' ? <FontAwesomeIcon className=\"love-icon\" icon={faHeart} /> : ''} </span> */}\r\n                            <div className=\"content\">\r\n                            <span>{pet.reacts && pet.reacts[0].type === 'love' ? <span className={loveIconClass}></span> : ''} </span>\r\n\r\n                            </div>\r\n                            {pet.reacts && pet.reacts[0].type === 'love' ? <span className=\"love-count\">{pet.reacts[0].count}</span> : ''}\r\n\r\n\r\n                            {/* <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                            {pet.shop && <p className=\"shop-rate-rating\">{pet.shop.rate.rating}  </p>}\r\n                            {pet.shop && <p className=\"shop-rate-count\">({pet.shop.rate.count})  </p>} */}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </ NavLink >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    savePet,\r\n    loadPets\r\n\r\n}\r\n\r\n\r\nexport const PetPreview = connect(mapStateToProps, mapDispatchToProps)(_PetPreview)\r\n\r\n","import { PetPreview } from './PetPreview'\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nclass _PetList extends Component {\r\n\r\n    state = {\r\n        filterBy: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            filterBy: JSON.parse(JSON.stringify(this.props.filterBy))\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { pets, onRemove, onEdit } = this.props\r\n        const popPets = pets.filter((pet) => pet.reacts[0].count > 90)\r\n        const notPopPets = pets.filter((pet) => pet.reacts[0].count <= 90)\r\n        const { filterBy } = this.props\r\n        const isEmptyFilter = !filterBy.type && !filterBy.txt && !filterBy.distance.range\r\n\r\n        return (\r\n            <div className=\"pet-list-container\">\r\n\r\n                {isEmptyFilter && <h4 className=\"popular-pets-header\">Most Popular</h4>}\r\n                {isEmptyFilter && <ul className=\"pet-list\"> {\r\n                    popPets.map((pet, index) => <PetPreview pet={pet} key={index} onRemove={onRemove} onEdit={onEdit} />)\r\n\r\n                }\r\n\r\n                </ul>}\r\n                <hr />\r\n                {isEmptyFilter && <h4 className=\"popular-pets-header\">Very Popular</h4>}\r\n                {isEmptyFilter && <ul className=\"pet-list\"> {\r\n                    notPopPets.map((pet, index) => <PetPreview pet={pet} key={index} onRemove={onRemove} onEdit={onEdit} />)\r\n                }\r\n                </ul>}\r\n                { !isEmptyFilter && <ul className=\"pet-list\"> {pets.map((pet, index) => <PetPreview pet={pet} key={index} onRemove={onRemove} onEdit={onEdit} />)}</ul>}\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        filterBy: state.petReducer.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nexport const PetList = connect(mapStateToProps, mapDispatchToProps)(_PetList);\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { PetFilter } from '../cmps/PetFilter'\r\nimport { PetList } from '../cmps/PetList'\r\nimport { loadPets, removePet, setFilter } from '../store/actions/petActions'\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\n\r\nclass _PetApp extends Component {\r\n\r\n    state = {\r\n        pets: [],\r\n        filterBy: { type: '' },\r\n        sortBy: null,\r\n        isReady: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.loadPets();\r\n        scroll.scrollToTop();\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps !== this.props) {\r\n            this.setState({ isReady: true })\r\n        }\r\n        if (prevProps.filterBy !== this.props.filterBy) {\r\n            await this.loadPets();\r\n        }\r\n\r\n    }\r\n    async componentWillUnmount() {\r\n        await this.resetFitler();\r\n    }\r\n\r\n    resetFitler = async () => {\r\n        await this.props.setFilter({\r\n            type: '',\r\n            gender: '',\r\n            breed: '',\r\n            size: '',\r\n            txt: ''\r\n        }, () => this.loadPets())\r\n    }\r\n\r\n    loadPets = async _ => {\r\n        //loading from props with filter and setting the local state\r\n        await this.props.loadPets(this.props.filterBy);\r\n        const pets = this.props.pets;\r\n        await this.setState({ ...this.state, pets })\r\n    }\r\n\r\n    onRemove = (id) => {\r\n        this.props.removePet(id)\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props;\r\n        if (!this.state.pets) return <h1>Loading...</h1>\r\n        return (\r\n            <div className=\"pets-container\">\r\n                <PetFilter />\r\n                <div id=\"center\"></div>\r\n                <PetList pets={this.state.pets} onRemove={this.onRemove} user={user} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        filterBy: state.petReducer.filterBy\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadPets,\r\n    removePet,\r\n    setFilter\r\n}\r\n\r\nexport const PetApp = connect(mapStateToProps, mapDispatchToProps)(_PetApp)\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { savePet, loadPets } from '../store/actions/petActions.js'\r\nimport { Input } from '@material-ui/core';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\n\r\nexport class _PetEdit extends Component {\r\n\r\n    state = {\r\n        pet: {}\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadPets();\r\n        const petId = this.props.match.params.id\r\n        if (petId) {\r\n            const petToEdit = this.props.pets.find(pet => pet._id === petId)\r\n            this.setState({ pet: { ...petToEdit } })\r\n        }\r\n    }\r\n\r\n    handleInput = ({ target }) => {\r\n        const field = target.name;\r\n        if (target.type === 'number') var value = +target.value;\r\n        else if (target.type === 'checkbox') value = (target.checked);\r\n        else value = target.value;\r\n\r\n        this.setState(prevState => {\r\n            return {\r\n                ...prevState,\r\n                pet: {\r\n                    ...prevState.pet,\r\n                    [field]: value\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    onSubmitForm = (ev) => {\r\n        ev.preventDefault();\r\n        this.props.savePet(this.state.pet);\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        const pet = { ...this.state.pet }\r\n        if (Object.keys(pet).length === 0) return (<h1>LOADING...</h1>)\r\n        return (\r\n            <form className={\"form-container fields-container flex column align-center below-nav\"}\r\n                onSubmit={(event) => { this.onSubmitForm(event) }}>\r\n                {(!pet._id) ? <h1>Add Your Pet</h1> : <h1>Edit Pet Details</h1>}\r\n                <Input type=\"text\" name=\"name\" placeholder=\"Pet Name:\"\r\n                    value={pet.name} onChange={this.handleInput}></Input>\r\n                <Input type=\"text\" name=\"type\" placeholder=\"Pet Type:\"\r\n                    value={pet.type} onChange={this.handleInput}></Input>\r\n                <TextField name=\"adoptedAt\" label=\"Pet Adoption Date\" type=\"date\"\r\n                    defaultValue={new Date(pet.adoptedAt).toISOString().substr(0, 10)}\r\n                    onChange={this.handleInput}\r\n                    InputLabelProps={{ shrink: true }}\r\n                />\r\n                <TextField name=\"bDate\" label=\"Pet Birth Date\" type=\"date\"\r\n                    defaultValue={new Date(pet.bDate).toISOString().substr(0, 10)}\r\n                    onChange={this.handleInput}\r\n                    InputLabelProps={{ shrink: true }}\r\n                />\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"type\">Pet Gender:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        value={pet.gender}\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"gender\",\r\n                        }}>\r\n                        <option value={\"male\"}>Male</option>\r\n                        <option value={\"female\"}>Female</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <Input type=\"text\" name=\"breed\" placeholder=\"Pet Breed:\"\r\n                    value={pet.breed} onChange={this.handleInput}></Input>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"type\">Pet Size:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        value={pet.size}\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"size\",\r\n                        }}>\r\n                        <option value=\"small\">Small</option>\r\n                        <option value=\"medium\">medium</option>\r\n                        <option value=\"large\">Large</option>\r\n                        <option value=\"giant\">Giant</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl className=\"flex align-center\">\r\n                    <lable htmlFor=\"type\"> Is In Risk:\r\n                    <input type=\"checkbox\" checked={(pet.isInRisk) ? \"checked\" : \"\"} />\r\n                    </lable>\r\n                    <br /><br />\r\n                </FormControl>\r\n                <TextField\r\n                    id=\"standard-textarea\"\r\n                    label=\"Pet description:\"\r\n                    placeholder=\"Your pet short description\"\r\n                    multiline\r\n                    name=\"description\"\r\n                    value={pet.description}\r\n                    onChange={this.handleInput}\r\n                />\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"kids\">Select pet behavior with kids:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"kids\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"friendly\">Friendly</option>\r\n                        <option value=\"selective\">Selective</option>\r\n                        <option value=\"agressive\">Agressive</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"dogs\">Select pet behavior with dogs:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"dogs\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"friendly\">Friendly</option>\r\n                        <option value=\"selective\">Selective</option>\r\n                        <option value=\"agressive\">Agressive</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"cats\">Select pet behavior with cats:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"cats\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"friendly\">Friendly</option>\r\n                        <option value=\"selective\">Selective</option>\r\n                        <option value=\"agressive\">Agressive</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"energy\">Select pet energy level:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"energy\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"low\">Low</option>\r\n                        <option value=\"moderate\">Moderate</option>\r\n                        <option value=\"high\">High</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"health\">Select pet health condition:</InputLabel>\r\n                    <Select\r\n                        native\r\n                        onChange={this.handleInput}\r\n                        inputProps={{\r\n                            name: \"health\",\r\n                        }}>\r\n                        <option aria-label=\"None\" value=\"\" />\r\n                        <option value=\"helathy\">Healthy</option>\r\n                        <option value=\"notHealthy\">Not Healthy</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <button>SAVE</button>\r\n            </form >\r\n        )\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    savePet,\r\n    loadPets\r\n}\r\n\r\nexport const PetEdit = connect(mapStateToProps, mapDispatchToProps)(_PetEdit)\r\n","import httpService from './httpService.js'\r\nconst BASE_URL = '/chat'\r\n\r\n\r\nexport const chatService = {\r\n    query,\r\n    getById,\r\n    getByUserId,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query(filterBy={}, filterName) {\r\n    if (filterBy) {\r\n        const queryStr = (filterBy) ? `?${filterName}=${filterBy}` : '';\r\n        const res = await httpService.get(`${BASE_URL}${queryStr}`, {\r\n            params: filterBy\r\n        });\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function getById(id) {    \r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\nasync function getByUserId(userId) {    \r\n    const res = await httpService.get(`${BASE_URL}/member/${userId}`);\r\n    return res;\r\n}\r\n\r\nasync function save(chat) {\r\n    if (chat._id) {\r\n        chat.updatedAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${chat._id}`, chat)\r\n        return res;\r\n\r\n    } else {\r\n        chat.createdAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.post(`${BASE_URL}`, chat)\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function remove(chatId) {\r\n    await httpService.delete(`${BASE_URL}/${chatId}`)\r\n}\r\n\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n","import { chatService } from \"../../services/chatService.js\"\r\n\r\nexport function loadChats(filterBy, filterName) {\r\n    return async dispatch => {\r\n        const chats = await chatService.query(filterBy, filterName);\r\n        dispatch({ type: 'LOAD_CHATS', chats });\r\n    }\r\n}\r\n\r\n\r\nexport function getChatsByUserId(userId) {\r\n    console.log('chatId',userId);\r\n    return async dispatch => {\r\n        try {\r\n            const chat = await chatService.getByUserId(userId);\r\n            console.log(chat);\r\n            dispatch({ type: 'LOAD_CHATS', chat });\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err);\r\n        }  \r\n    }\r\n}\r\nexport function getChatById(chatId) {\r\n    console.log('chatId',chatId);\r\n    return async dispatch => {\r\n        try {\r\n            const chat = await chatService.getById(chatId);\r\n            dispatch({ type: 'GET_CHAT', chat });\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err);\r\n        }  \r\n    }\r\n}\r\n\r\nexport function saveChat(chat) {\r\n    return async dispatch => {\r\n        const chatToSave = await chatService.save(chat);\r\n        if (chat._id) dispatch({ type: 'EDIT_CHAT', chatToSave });\r\n        else dispatch({ type: 'ADD_CHAT', chatToSave });\r\n    }\r\n}\r\n\r\nexport function removeChat(chatId) {\r\n    return async dispatch => {\r\n       await chatService.remove(chatId);\r\n       dispatch({ type: 'REMOVE_CHAT', chatId })\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy){\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_FILTER', filterBy })\r\n    }\r\n}\r\n\r\nexport function toggleChat(chatInfo=null){\r\n    return dispatch => {\r\n        dispatch({ type: 'TOGGLE_CHAT', chatInfo })\r\n    }\r\n}\r\n","import httpService from './httpService.js'\r\nconst BASE_URL = '/order'\r\n\r\n\r\nexport const orderService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove\r\n}\r\n\r\nasync function query(filterBy={}, filterName) {\r\n    if (filterBy) {\r\n        const queryStr = (filterBy) ? `?${filterName}=${filterBy}` : '';\r\n        const res = await httpService.get(`${BASE_URL}${queryStr}`, {\r\n            params: filterBy\r\n        });\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function getById(id) {\r\n    const res = await httpService.get(`${BASE_URL}/${id}`);\r\n    return res;\r\n}\r\n\r\nasync function save(order) {\r\n    console.log('order', order);\r\n    if (order._id) {\r\n\r\n        order.updatedAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.put(`${BASE_URL}/${order._id}`, order)\r\n        return res;\r\n\r\n    } else {\r\n        order.createdAt = new Date(Date.now()).toLocaleString();\r\n        const res = await httpService.post(`${BASE_URL}`, order)\r\n        return res;\r\n    }\r\n}\r\n\r\nasync function remove(orderId) {\r\n    await httpService.delete(`${BASE_URL}/${orderId}`)\r\n}\r\n\r\n\r\nfunction _makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n","import { orderService } from \"../../services/orderService.js\"\r\n\r\nexport function loadOrders(filterBy, filterName) {\r\n    return async dispatch => {\r\n        const orders = await orderService.query(filterBy, filterName);\r\n        dispatch({ type: 'LOAD_ORDERS', orders });\r\n    }\r\n}\r\n\r\nexport function saveOrder(order) {\r\n    return async dispatch => {\r\n        const orderToSave = await orderService.save(order);\r\n        if (order._id) dispatch({ type: 'EDIT_ORDER', orderToSave });\r\n        else dispatch({ type: 'ADD_ORDER', orderToSave });\r\n    }\r\n}\r\n\r\nexport function removeOrder(orderId) {\r\n    return async dispatch => {\r\n       await orderService.remove(orderId);\r\n       dispatch({ type: 'REMOVE_ORDER', orderId })\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy){\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_FILTER', filterBy })\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nexport function AdoptionMsgModal() {\r\n    return (\r\n        <div className=\"adoption-modal-msg\">\r\n        <p className=\"msg-content\">Your Adoption Request Has Been Sent.</p>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport { toggleChat } from '../store/actions/chatActions.js';\r\nimport { shopService } from '../services/shopService.js';\r\nimport userService from '../services/userService.js';\r\nimport { loadPets, savePet, removePet } from '../store/actions/petActions.js';\r\nimport { saveOrder } from '../store/actions/orderActions.js';\r\n\r\n\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { faExpandArrowsAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { faVenusMars } from '@fortawesome/free-solid-svg-icons'\r\nimport { faAlignLeft } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\r\nimport { TextField } from '@material-ui/core';\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport { WhatsappShareButton, WhatsappIcon, FacebookShareButton, FacebookIcon, TwitterShareButton, TwitterIcon } from 'react-share'\r\nimport { AdoptionMsgModal } from '../cmps/AdoptionMsgModal.jsx';\r\n\r\n\r\nclass _PetDetails extends Component {\r\n\r\n    state = {\r\n        pet: {},\r\n        isOwnerOfPet: false,\r\n        adoptButton: 'Adopt',\r\n        currComment: '',\r\n        AdoptionModalMsg: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getComponentData();\r\n        scroll.scrollToTop();\r\n    }\r\n\r\n    async getComponentData() {\r\n        await this.getCurrPet();\r\n        await this.getUserId();\r\n        await this.isOwnerOfPet();\r\n    }\r\n\r\n    getCurrPet = async () => {\r\n        await this.props.loadPets();\r\n        const petId = this.props.match.params.id\r\n        const petToShow = this.props.pets.find(pet => pet._id === petId)\r\n        this.setState({ pet: { ...petToShow } });\r\n    }\r\n\r\n    isOwnerOfPet = async () => {\r\n        const { loggedInUser } = this.props\r\n        const pet = this.state.pet\r\n        if (loggedInUser && pet.shop) {\r\n            const shopId = pet.shop._id\r\n            const shop = await shopService.getById(shopId)\r\n            this.setState({ isOwnerOfPet: loggedInUser._id === shop.owner._id })\r\n        }\r\n    }\r\n\r\n    onAdopt = async () => {\r\n        const { loggedInUser } = this.props\r\n        if (loggedInUser.isGuest) return\r\n        \r\n        const pet = this.state.pet\r\n        const shopId = pet.shop._id\r\n        const shop = await shopService.getById(shopId)\r\n        const order = {\r\n            msg: \"Hi, I saw your lovely pet and really wish to adopt it!\",\r\n            buyer: {\r\n                _id: loggedInUser._id,\r\n                fullName: loggedInUser.fullName,\r\n                imgUrl: loggedInUser.imgUrl\r\n            },\r\n            shop: {\r\n                _id: shop._id,\r\n                name: shop.name,\r\n                type: shop.type,\r\n                imgUrl: shop.imgUrl\r\n            },\r\n            pet: {\r\n                _id: pet._id,\r\n                name: pet.name,\r\n            },\r\n            status: \"Pending\",\r\n        }\r\n        this.props.saveOrder(order)\r\n        this.setState({ AdoptionModalMsg: !this.state.AdoptionModalMsg })\r\n        setTimeout(() => {\r\n            this.setState({ AdoptionModalMsg: !this.state.AdoptionModalMsg })\r\n          }, 1000);\r\n        this.setState({ adoptButton: 'Request Sent' })\r\n    }\r\n\r\n    onRemovePet = (petId) => {\r\n        console.log('petId', petId);\r\n        // this.props.removePet(petId)\r\n    }\r\n\r\n     onToggleChat = async() => {\r\n \r\n        const shop = await shopService.getById(this.state.pet.shop._id);\r\n        await this.props.toggleChat({'userId':shop.owner._id})\r\n    }\r\n\r\n    onUpdateReaction = (reaction) => {\r\n        const pet = this.state.pet;\r\n        pet.reacts.map(react => {\r\n            if (react.type === reaction) react.count++\r\n            return react\r\n        })\r\n        this.props.savePet(pet)\r\n        this.getCurrPet()\r\n    }\r\n\r\n    handleCommentInput = ({ target }) => {\r\n        const value = target.value;\r\n        this.setState({ currComment: value })\r\n    }\r\n\r\n    onComment = async () => {\r\n        const pet = this.state.pet;\r\n        const user = this.props.loggedInUser\r\n        const comment = {\r\n            id: `c${100 + pet.comments.length + 1}`,\r\n            txt: this.state.currComment,\r\n            by: {\r\n                id: user._id,\r\n                fullName: user.fullName,\r\n                imgUrl: user.imgUrl\r\n            },\r\n        }\r\n\r\n        pet.comments.unshift(comment);\r\n        await this.props.savePet(pet);\r\n        this.getComponentData();\r\n        this.setState({ cuurComment: '' })\r\n    }\r\n\r\n    getTimeToString = () => {\r\n        var time = new Date();\r\n        var dd = String(time.getDate()).padStart(2, '0');\r\n        var mm = String(time.getMonth() + 1).padStart(2, '0');\r\n        var yyyy = time.getFullYear();\r\n\r\n        time = mm + '/' + dd + '/' + yyyy;\r\n        return time\r\n    }\r\n\r\n    getUserId = async _ => {\r\n        console.log(this.state.pet);\r\n        const shop = await shopService.getById(this.state.pet.shop._id);\r\n        const ownerId = await shop.owner._id;\r\n        this.setState({ ownerId })\r\n    }\r\n\r\n    render() {\r\n        const pet = this.state.pet;\r\n        const loggedInUser = this.props.loggedInUser\r\n\r\n        if (!pet) return <h1>Loading...</h1>\r\n        return (\r\n            <section className=\"pet-details-main-container\">\r\n                <div className=\"pet-details-box\">\r\n                    <div className=\"pet-details-header\">\r\n                        <h2 className=\"pet-details-heading\">{pet.name}</h2>\r\n                        <div className=\"share-box\">\r\n                            {/* <h4 className=\"share-heading\">Share {pet.name} With Your Friends</h4> */}\r\n                            <FacebookShareButton\r\n                                url={\"http://www.camperstribe.com\"}\r\n                                quote={\"See this cute pet I saw on Friendly\"}\r\n                                hashtag=\"#Friendly\">\r\n                                <FacebookIcon size={30} />\r\n                            </FacebookShareButton>\r\n                            <WhatsappShareButton\r\n                                url={\"http://www.camperstribe.com\"}\r\n                                quote={\"See this cute pet I saw on Friendly\"}>\r\n                                <WhatsappIcon size={30} />\r\n                            </WhatsappShareButton>\r\n                            <TwitterShareButton\r\n                                url={\"http://www.camperstribe.com\"}\r\n                                quote={\"See this cute pet I saw on Friendly\"}>\r\n                                <TwitterIcon size={30} />\r\n                            </TwitterShareButton>\r\n\r\n                        </div>\r\n                    </div>\r\n                    {pet.isAdopted && <div class=\"ribbon-details ribbon-top\"><span>Adopted</span></div>}\r\n                    <div className=\"pet-details-img-box\">\r\n                        {\r\n                            (pet.imgUrls) ?\r\n                                pet.imgUrls.map((imgUrl, index) => {\r\n                                    return <img className={`pet-details-img-${index}`} src={imgUrl} />\r\n                                })\r\n                                : ''\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <ul className=\"reactions-list\">\r\n                            {\r\n                                (pet.reacts) ?\r\n                                    pet.reacts.map(react => {\r\n                                        if (react.type === 'love') {\r\n                                            return <li className=\"react-count\"><FontAwesomeIcon onClick={() => { this.onUpdateReaction('love') }}\r\n                                                className=\"heart-icon\" icon={faHeart} /> {`${react.count}`}</li>\r\n                                        }\r\n                                        // else if ((react.type === 'feed')) return <li><FontAwesomeIcon onClick={() => { this.onUpdateReaction('feed') }}\r\n                                        //     className=\"bone-icon\" icon={faBone} /> ({`${react.count}`})</li>\r\n                                        // else if ((react.type === 'pet')) return <li><FontAwesomeIcon onClick={() => { this.onUpdateReaction('pet') }}\r\n                                        //     className=\"hand-sparkles-icon\" icon={faHandSparkles} /> ({`${react.count}`})</li>\r\n                                    })\r\n                                    : ''\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"shop-and-pet-info\">\r\n\r\n\r\n                        <div className=\"pet-info\">\r\n                            <div className=\"pet-info-up\">\r\n                                <div className=\"age info-box\">\r\n                                    <FontAwesomeIcon className=\"age-icon info-icon\" icon={faCalendarAlt} />\r\n\r\n                                    <p><span>Age: </span>\r\n                                        {`${parseFloat((Date.now() - new Date(pet.bDate)) / (1000 * 60 * 60 * 24 * 30 * 12)).toFixed(1)}`}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"size info-box\">\r\n                                    <FontAwesomeIcon className=\"size-icon info-icon\" icon={faExpandArrowsAlt} />\r\n                                    <p><span>Size:</span> {pet.size}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"pet-info-down \">\r\n                                <FontAwesomeIcon className=\"gender-icon info-icon\" icon={faVenusMars} />\r\n                                <div className=\"gender info-box\">\r\n\r\n                                    <p><span>Gender:</span> {pet.gender}</p>\r\n                                </div>\r\n                                <div className=\"breed info-box\">\r\n                                    <FontAwesomeIcon className=\"breed-icon info-icon\" icon={faAlignLeft} />\r\n                                    <p><span>Breed:</span> {pet.breed}</p>\r\n                                </div>\r\n                            </div>\r\n                            {/* <h4> {pet.summary}</h4> */}\r\n                        </div>\r\n\r\n\r\n\r\n                        <div className=\"shop-details\">\r\n                            <div className=\"shop-details-up\">\r\n                                {pet.shop && <img className=\"shop-img\" src={`${pet.shop.imgUrl}`} alt=\"\" />}\r\n                                {pet.shop && <Link to={`/shop/${pet.shop._id}`}><p>{pet.shop.fullName}</p></Link>}\r\n                            </div>\r\n                            <div className=\"shop-details-bottom\">\r\n                                <div className=\"shop-rate-box\">\r\n                                    <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                                    {pet.shop && <p className=\"shop-rate-rating\">{pet.shop.rate.rating}  </p>}\r\n                                    {pet.shop && <p className=\"shop-rate-count\">({pet.shop.rate.count})  </p>}\r\n                                </div>\r\n                                {pet.shop && !this.state.isOwnerOfPet && <button onClick={this.onToggleChat}>Message {pet.shop.fullName}</button>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"tags-and-adopt-btn-box\">\r\n\r\n                        <div className=\"tags-list-box\">\r\n                            <ul className=\"tags-list\">\r\n                                {\r\n                                    (pet.tags) ?\r\n                                        pet.tags.map(tag => {\r\n                                            return <li> {tag} </li>\r\n                                        })\r\n                                        : ''\r\n                                }\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <button  onClick={this.onAdopt} className={`adoption-btn ${pet.isAdopted ? 'adopted' : 'adopt'}`}>{pet.isAdopted ? 'Already Adopted' : 'Adopt'} </button>\r\n                        {this.state.AdoptionModalMsg && <AdoptionMsgModal />}\r\n\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"description-box\">\r\n                        <p>{pet.description}</p>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"comments-box\">\r\n                        <div className=\"comment-input-box\">\r\n                            <TextField autocomplete=\"off\" name=\"txt\" fullWidth=\"true\" value={this.state.currComment} placeholder=\"Add Comment Here\" onChange={this.handleCommentInput} />\r\n\r\n                            <button className=\"add-comment-btn\" onClick={this.onComment}>Add</button>\r\n                        </div>\r\n                        <ul className=\"comment-list\">\r\n                            {\r\n                                (pet.comments) ?\r\n                                    pet.comments.map(comment => {\r\n                                        return <li className=\"single-comment-box\">\r\n                                            <div className=\"flex comment-box\">\r\n                                                {(comment.by.imgUrl) ? <img src={comment.by.imgUrl} alt=\"\" /> : \"\"}\r\n\r\n                                                {(comment.by.id === 'guest') ? <img src={\"https://images.macrumors.com/t/x_zUFqghBUNBxVUZN_dYoKF3D9g=/1600x0/article-new/2019/04/guest-user-250x250.jpg\"} alt=\"\" /> : \"\"}\r\n\r\n                                                <p><span>{comment.by.fullName}: </span> </p>\r\n                                                <p><span>{comment.createdAt}</span> </p>\r\n                                                <p>{comment.txt} </p>\r\n                                            </div>\r\n                                        </li>\r\n                                    })\r\n                                    : ''\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"actions-box\">\r\n                    {\r\n                        this.state.isOwnerOfPet ?\r\n                            <div className=\"actions-box-edit\">\r\n                                <Link to={`/edit/${pet._id}`}><button onClick={this.onGoToEdit} className=\"edit-btn\">Edit Pet</button></Link>\r\n                                <button onClick={() => { this.onRemovePet(pet._id) }} className=\"remove-btn\">Delete Pet</button>\r\n                            </div>\r\n                            :\r\n                            <div className=\"actions-box-adopt\">\r\n                                <h3>Reasons To Adopt</h3>\r\n                                <p>You save a life. </p>\r\n                                <p>You adopt a pet, and find a friend.</p>\r\n                                <p>You help stop cruelty in mass breeding facilities.</p>\r\n                                <button onClick={this.onAdopt} className=\"adopt-btn\">{this.state.adoptButton}</button>\r\n                            </div>\r\n\r\n                    }\r\n\r\n\r\n                </div> */}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadPets,\r\n    savePet,\r\n    saveOrder,\r\n    removePet,\r\n    toggleChat\r\n\r\n}\r\n\r\n\r\nexport const PetDetails = connect(mapStateToProps, mapDispatchToProps)(_PetDetails)","import React from 'react'\r\n\r\nexport function UserData({ user, display }) {\r\n    return (\r\n        <div className={`user-data ${display}`}>\r\n                <div className=\"header flex space-between\">\r\n                    <img src={user.imgUrl} alt=\"\" />\r\n                </div>\r\n                <div className=\"user-profile-details flex column\">\r\n                    <h2>{user.fullName}</h2>\r\n                    {user.phone && <p><span>Phone: </span>{user.phone}</p>}\r\n                    {user.email && <p><span>Email: </span>{user.email}</p>}\r\n                    {user.birthDate && <p><span>Age: </span>\r\n                        {parseInt((Date.now() - new Date(user.birthDate)) / (1000 * 60 * 60 * 24 * 30 * 12))}</p>}\r\n                    {user.familyStatus && <p><span>Family Status: </span>{user.familyStatus}</p>}\r\n                    {user.numberOfKds && <p><span>Number of Kids: </span>{user.numberOfKds}</p>}\r\n                    {user.residence && <p><span>Residence Type: </span>{user.residence}</p>}\r\n                    {user.petCondition && <p><span>Pet Designated Living conditions: </span>{user.petCondition}</p>}\r\n                    {user.currrenPets && <p><span>Current Pets at home: </span>{user.currrenPets}</p>}\r\n                    {user.prevExperince && <p><span>Previous experience with animals: </span>{user.prevExperince}</p>}\r\n                    {/* <button className=\"close-user-modal-btn\" onClick={closeModal}>Close</button> */}\r\n                </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faInfoCircle, faComment, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport userService from '../services/userService';\r\nimport { UserData } from './UserData.jsx';\r\nimport { toggleChat } from '../store/actions/chatActions.js';\r\n\r\n\r\n class _OrderPreview extends Component {\r\n\r\n\r\n    state = {\r\n        showUserModal: false,\r\n        user: null,\r\n        isUndreadMsg:false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setUnreadCount();\r\n    }\r\n    componentDidUpdate(preProps){\r\n        if (preProps!==this.props){\r\n        this.setUnreadCount();\r\n\r\n        }\r\n    }\r\n\r\n    setUnreadCount=()=>{\r\n        console.log('Chats:',this.props.chats);\r\n        const chat= this.props.chats.find(chat => {\r\n            return (chat.members.includes(this.props.loggedInUser._id) && chat.members.includes(this.props.order.buyer._id))\r\n        }) \r\n        console.log(chat);\r\n        if (!chat || chat.length>0) return\r\n        const isUndreadMsg = chat.msgs.some(msg=>{\r\n            console.log(!msg.isRead );\r\n            console.log((msg.authorId !== this.props.loggedInUser._id));\r\n            return !msg.isRead && (msg.authorId !== this.props.loggedInUser._id)\r\n        });\r\n        this.setState({isUndreadMsg})\r\n        console.log(this.state);\r\n    }\r\n    onToggleModal = async () => {\r\n        this.setState({ showUserModal: !this.state.showUserModal })\r\n        const user = await userService.getById(this.props.order.buyer._id)\r\n        await this.setState({ user })\r\n    }\r\n    onToggleChat = () => {\r\n        console.log(this.props);\r\n        this.props.toggleChat({'userId':this.props.order.buyer._id})\r\n    }\r\n\r\n    orderClass = () => {\r\n        let orderClass;\r\n        if (this.props.order.status === 'accepted') orderClass = 'accepted';\r\n        else if (this.props.order.status === 'denied') orderClass = 'denied';\r\n        else orderClass = 'pending';\r\n        return orderClass;\r\n    }\r\n\r\n    render() {\r\n        const { order, onSave, onRemove, isShop, loggedInUser } = this.props\r\n        const isModalClass = (this.props.inModal) ? 'modal-order-preview' : '';\r\n        const display = (this.state.showUserModal) ? \"grid\" : \"hidden\";\r\n        const btnIcon = (this.state.showUserModal) ? faTimesCircle : faInfoCircle;\r\n        const user = this.state.user;\r\n        if (!order) return <h3 style={{ display: 'none' }}>loading...</h3>\r\n        return (\r\n            <div className={`order-preview ${isModalClass} ${this.orderClass}`}>\r\n                {\r\n                    isShop &&\r\n                    <div className=\"order-preview-details\">\r\n                        <p>{order.buyer.fullName} <span>Wants to Adopt</span> {order.pet.name}</p>\r\n                        <div className=\"contact-user-actions-btns\">\r\n                                <button className=\"order-data-btn\" onClick={this.onToggleModal}>\r\n                                    <FontAwesomeIcon icon={btnIcon} />\r\n                                </button>\r\n                            <div>\r\n                                <button className=\"order-data-btn\" onClick={this.onToggleChat}>\r\n                                    <FontAwesomeIcon icon={faComment} />\r\n                                </button>\r\n                                {/* {this.state.isUndreadMsg && <div className=\"unread-badge\"></div>} */}\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                }\r\n\r\n                {!isShop && loggedInUser._id === order.buyer._id &&\r\n                    <div>\r\n                        <Link to={`/shop/${order.shop._id}`}>\r\n                            {<p> <span>Request to adopt </span> {order.pet.name}\r\n                                <span> from:</span> {order.shop.name} {order.shop.type} </p>}\r\n                        </Link>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"order-actions-btns-box\">\r\n                    {isShop && <button className=\"accept-order-btn order-btn\" onClick={() => { onSave(order, 'accepted') }}>Accept</button>}\r\n                    {isShop && <button className=\"pending-order-btn order-btn\" onClick={() => { onSave(order, 'pending') }}>Pending</button>}\r\n                    {isShop && <button className=\"reject-order-btn order-btn\" onClick={() => { onSave(order, 'denied') }}>Reject</button>}\r\n                    {(isShop || (!isShop && loggedInUser._id === order.buyer._id)) &&\r\n                        <button className=\"remove-order-btn order-btn\" onClick={() => { onRemove(order._id) }}>Remove</button>}\r\n                </div>\r\n\r\n                {isShop && user && <UserData user={user} display={display} />}\r\n\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        chats: state.chatReducer.chats,\r\n        loggedInUser: state.userReducer.loggedInUser\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n    toggleChat\r\n\r\n}\r\nexport const OrderPreview = connect(mapStateToProps, mapDispatchToProps)(_OrderPreview)\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { OrderPreview } from './OrderPreview'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {\r\n    loadOrders,\r\n    saveOrder,\r\n    removeOrder,\r\n    setFilter\r\n} from '../store/actions/orderActions';\r\nimport { savePet } from '../store/actions/petActions';\r\n\r\n\r\n\r\nclass _OrderList extends Component {\r\n\r\n    state = {\r\n        msgDivClass: 'hidden'\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadOrders(this.props.filterById, this.props.orderFilterName);\r\n    }\r\n\r\n    changePetAdoptionStatus = async (order) => {\r\n        const pet = this.props.pets.find(pet => pet._id === order.pet._id)\r\n        pet.isAdopted = true\r\n        this.props.savePet(pet)\r\n        this.props.history.push('/pet')\r\n    }\r\n\r\n    onSave = async (order, status) => {\r\n        const isAcceptedStat = this.props.orders.find(orderCheck => {\r\n            return (orderCheck.status === 'accepted' && orderCheck.pet._id === order.pet._id)\r\n        })\r\n\r\n        if (isAcceptedStat && status === 'accepted') {\r\n            this.setState({ msgDivClass: '' })\r\n            setTimeout(() => { this.setState({ msgDivClass: 'hidden' }) }, 1500);\r\n        } else {\r\n            order.status = status;\r\n            await this.props.saveOrder(order);\r\n            this.props.loadOrders(this.props.filterById, this.props.orderFilterName);\r\n            if (status === 'accepted') {\r\n                console.log('is it?');\r\n                this.changePetAdoptionStatus(order)\r\n            }\r\n        }\r\n    }\r\n\r\n    onRemove = (id) => {\r\n        this.props.removeOrder(id);\r\n    }\r\n\r\n    render() {\r\n        const orders = this.props.orders;\r\n        const inModal = (this.props.inModal)? true : false;\r\n        return (!orders) ? <h1>LOADING...</h1> :\r\n            (\r\n                <div className=\"order-list flex column\" >\r\n                    {/* <h3>Adoption Requests</h3> */}\r\n                    <div className={`doubleAccept ${this.state.msgDivClass}`}>Only one approval please.</div>\r\n                    {orders.map(order =>\r\n                        <OrderPreview isShop={this.props.isShop} order={order} loggedInUser={this.props.loggedInUser}\r\n                        inModal={inModal}  onRemove={this.onRemove} onSave={this.onSave} />)}\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        pets: state.petReducer.pets,\r\n        orders: state.orderReducer.orders,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadOrders,\r\n    saveOrder,\r\n    removeOrder,\r\n    setFilter,\r\n    savePet\r\n}\r\n\r\nexport const OrderList = withRouter(connect(mapStateToProps, mapDispatchToProps)(_OrderList))\r\n","import React from 'react'\r\nimport { OrderList } from './OrderList.jsx';\r\n\r\n\r\nexport function OrderListModal({ isOpen, isShop, orderFilterName, filterById, onToggleOrderModal }) {\r\n    return (\r\n        <div className={`orderlist-modal ${isOpen}`}>\r\n            <h2>My Adoption Requests</h2>\r\n            <OrderList isShop={isShop} orderFilterName={orderFilterName} filterById={filterById} inModal={true} />\r\n            <div className=\"flex column align-center\">\r\n                <button className={\"close-modal\"} onClick={onToggleOrderModal}>Close</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { GoogleApiWrapper, Map, Marker, InfoWindow } from 'google-maps-react';\r\n\r\n\r\nclass _GoogleMap extends React.Component {\r\n\r\n    state = {\r\n        lat: 32.0853,\r\n        lng: 34.7818,\r\n        zoom: 16,\r\n        loc: 'Info Window'\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState(\r\n            {\r\n                lat: this.props.lat,\r\n                lng: this.props.lng,\r\n                zoom: 14,\r\n                loc: this.props.name\r\n            }\r\n        )\r\n    }\r\n\r\n    onMarkerClick = (props, marker, event) => {\r\n    }\r\n\r\n    onMapClicked = (mapProps, map, ev) => {\r\n        this.setState({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\r\n    }\r\n\r\n    onMapPassLoc = () => {\r\n        this.state({ lat: this.props.lat, lng: this.props.lng })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Map className=\"map\" initialCenter={this.state} center={this.state} onClick={this.onMapClicked}\r\n                google={this.props.google} zoom={this.state.zoom} className=\"map\" >\r\n\r\n                <Marker position={this.state}\r\n                    name={'Current location'} />\r\n\r\n                <InfoWindow position={this.state} visible={true}  >\r\n                    <div>\r\n                        <h4>{this.state.loc}</h4>\r\n                    </div>\r\n                </InfoWindow>\r\n            </Map>\r\n        );\r\n    }\r\n}\r\n\r\nexport const GoogleMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyA7wFxeGayDFtxLfft53sDr7sMu9cj7Vio')\r\n})(_GoogleMap)","\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { PetList } from '../cmps/PetList';\r\nimport { OrderList } from '../cmps/OrderList';\r\nimport { OrderListModal } from '../cmps/OrderListModal';\r\nimport { getShopById, saveShop } from '../store/actions/shopActions.js';\r\nimport { savePet, loadPets } from '../store/actions/petActions.js'\r\nimport { GoogleMap } from '../cmps/GoogleMap';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from '@material-ui/core/Select';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleDoubleUp, faEnvelope, faFemale, faMale, faMobileAlt, faStar } from '@fortawesome/free-solid-svg-icons'\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport userService from '../services/userService.js';\r\nimport { shopService } from '../services/shopService.js';\r\n\r\n\r\nclass _ShopDetails extends Component {\r\n\r\n    state = {\r\n        shop: {},\r\n        shopPets: [],\r\n        shopOwner: '',\r\n        isOpenReviews: false,\r\n        isOpenOrders: false,\r\n        currReview: {\r\n            txt: '',\r\n            rate: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.loadShopData();\r\n        scroll.scrollToTop();\r\n    }\r\n\r\n    loadShopData = async () => {\r\n        const shopId = this.props.match.params.id;\r\n        await this.props.loadPets();\r\n        await this.props.getShopById(shopId);\r\n        this.setState({ shop: { ...this.props.currShop } });\r\n        const owner = await userService.getById(this.props.currShop.owner._id);\r\n        console.log('owner from DB', owner);\r\n\r\n        await this.setState({ shopOwner: { ...owner } });\r\n        const shopPets = this.props.pets.filter(pet => {\r\n            if (pet.shop) return pet.shop._id === this.state.shop._id\r\n\r\n        })\r\n        await this.setState({\r\n            shopPets: [...shopPets]\r\n        })\r\n    }\r\n\r\n    onRemove = (id) => {\r\n        this.props.removePet(id)\r\n    }\r\n\r\n    onEdit = () => {\r\n        console.log('edit');\r\n    }\r\n\r\n    handleInput = ({ target }) => {\r\n        const field = target.name;\r\n        const value = target.value;\r\n        this.setState(prevState => {\r\n            return {\r\n                ...prevState,\r\n                currReview: {\r\n                    ...prevState.currReview,\r\n                    [field]: value\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    onAddReview = async (ev) => {\r\n        ev.preventDefault();\r\n        const shop = { ...this.state.shop };\r\n        const review = { ...this.state.currReview };\r\n        review.id = `r${100 + shop.reviews.length + 1}`\r\n        const user = this.props.loggedInUser;\r\n        review.by = {\r\n            _id: user._id,\r\n            fullName: user.fullName,\r\n            imgUrl: user.imgUrl\r\n        }\r\n        shop.reviews.unshift(review);\r\n        await this.props.saveShop(shop);\r\n        this.loadShopData();\r\n    }\r\n\r\n    onToggleOrderModal = () => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                isOpenOrders: !this.state.isOpenOrders\r\n            }\r\n        )\r\n    }\r\n\r\n    onToggleReviewModal = () => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                isOpenReviews: !this.state.isOpenReviews\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    drawStars = (rate) => {\r\n        var stars = '';\r\n        for (var i = 0; i < rate; i++) {\r\n            stars = stars + ''\r\n        }\r\n        return stars;\r\n    }\r\n\r\n    render() {\r\n        const shop = this.state.shop;\r\n        const owner = this.state.shopOwner;\r\n        const isOrderModal = (this.state.isOpenOrders) ? \"\" : \"hidden\";\r\n        const isUserOwner = (Object.keys(this.state.shop).length > 0\r\n            && this.props.loggedInUser._id === this.props.currShop.owner._id)\r\n        // console.log('chats in shop ccc', this.props.loggedInUser.chats);\r\n\r\n        return (\r\n            <section>\r\n                {(!shop.owner || !shop.location || !shop.reviews) ? <h1>Loading...</h1> :\r\n\r\n                    <div className=\"shop-details-main-box\">\r\n                        <div className=\"shop-details-header\">\r\n                            <h2 className=\"shop-details-heading\">{shop.name}</h2>\r\n                            <div className=\"shop-rate-box\">\r\n                                <FontAwesomeIcon className=\"star-icon\" icon={faStar} />\r\n                                {shop && <p className=\"shop-rate-rating\">{shop.rate.rating}  </p>}\r\n                                {shop && <p className=\"shop-rate-count\">({shop.rate.count})  </p>}\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"shop-details-img-box\">\r\n                            {\r\n                                (shop.imgUrls) ?\r\n                                    shop.imgUrls.map((imgUrl, index) => {\r\n                                        return <img className={`shop-details-img-${index}`} src={imgUrl} />\r\n                                    })\r\n                                    : ''\r\n                            }\r\n                        </div>\r\n                        <div className=\"top-screen-box\">\r\n                            <div className=\"shop-details-section\">\r\n                                <div className=\"shop-owner-details\">\r\n                                <img className=\"shop-owner-img\" src={shop.owner.imgUrl} />\r\n                                <div className=\"contact-box\">\r\n                                    {owner.gender && <FontAwesomeIcon className=\"contact-icon\"\r\n                                        icon={(owner.gender === 'Male') ? faMale : faFemale} />}\r\n                                    <p>{shop.owner.fullName}</p>\r\n                                </div>\r\n\r\n                                <div className=\"contact-box\">\r\n                                    <FontAwesomeIcon className=\"contact-icon\" icon={faMobileAlt} />\r\n                                    <p>{shop.owner.contact.phone}</p>\r\n                                </div>\r\n\r\n                                <div className=\"contact-box\">\r\n                                    <FontAwesomeIcon className=\"contact-icon\" icon={faEnvelope} />\r\n                                    <p>{shop.owner.contact.email}</p>\r\n                                </div>\r\n                                </div>\r\n\r\n\r\n                                {this.state.shop.owner._id === this.props.loggedInUser._id && \r\n                             <div className={`order-list-box`}>\r\n                                 {/* <div className=\"red-circle\"></div> */}\r\n                                <button className=\"order-modal-button\" onClick={this.onToggleOrderModal}>Adoption Requests</button>\r\n                                    <OrderListModal isOpen={isOrderModal} isShop={true} orderFilterName={\"shop._id\"}\r\n                                        filterById={this.state.shop._id} onToggleOrderModal={this.onToggleOrderModal} />\r\n                            </div>}\r\n\r\n                            </div>\r\n                            < div className=\"shop-description\">\r\n                                    <p>{shop.desc}</p>\r\n                                </div>\r\n                            </div>\r\n                        <div className=\"bottom-screen-box\">\r\n\r\n                            <div className=\"reviews-box\">\r\n                                <h3>What they say about us</h3>\r\n                                <button className=\"open-reviews-btn\" onClick={this.onToggleReviewModal}>\r\n                                    {(!this.state.isOpenReviews) ? 'Tell Us What You Think' : `Close`}\r\n                                </button>\r\n                                <div className={(this.state.isOpenReviews) ? `review-modal` : `hidden`}>\r\n                                    <form className=\"review-form\">\r\n                                        <div className=\"flex column\">\r\n                                            <TextField\r\n                                                id=\"standard-textarea\"\r\n                                                label=\"Your Review\"\r\n                                                placeholder=\"Write your review\"\r\n                                                multiline\r\n                                                name=\"txt\"\r\n                                                onChange={this.handleInput}\r\n                                            />\r\n                                            <FormControl>\r\n                                                <InputLabel htmlFor=\"rate\">Your rate</InputLabel>\r\n                                                <Select\r\n                                                    native\r\n                                                    onChange={this.handleInput}\r\n                                                    inputProps={{\r\n                                                        name: \"rate\",\r\n                                                    }}>\r\n                                                    <option aria-label=\"None\" value=\"\" />\r\n                                                    <option value=\"5\">5</option>\r\n                                                    <option value=\"4\">4</option>\r\n                                                    <option value=\"3\">3</option>\r\n                                                    <option value=\"2\">2</option>\r\n                                                    <option value=\"1\">1</option>\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                        </div>\r\n                                        <button className=\"add-review-btn\" onClick={this.onAddReview}>Publish</button>\r\n                                    </form>\r\n                                </div>\r\n                                {(!shop.reviews) ? <h1>Loading Reviews...</h1> :\r\n                                    <ul className=\"reviews-list\">\r\n                                        {shop.reviews.map(review => {\r\n                                            return <li className=\"review\">\r\n                                                <p className=\"review-text\">{review.txt}</p>\r\n                                                <p><span>Rate: </span>{this.drawStars(review.rate)}</p>\r\n                                                <p><span>From: </span>{review.by.fullName}</p>\r\n                                            </li>\r\n                                        }\r\n\r\n                                        )}\r\n                                    </ul>}\r\n                            </div>\r\n                            <div className=\"shop-location-box\">\r\n\r\n                                <div className=\"map-container\">\r\n                                    <GoogleMap lat={shop.location.lat} lng={shop.location.lng} name={shop.location.name} />\r\n                                </div>\r\n                                <FontAwesomeIcon className=\"arrow-icon\" icon={faAngleDoubleUp} />\r\n                                <div className=\"shop-location-name\">\r\n                                    <h2>We are located at {shop.location.name}</h2>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"pets-box\" >\r\n                            <h2 className=\"our-pets-heading\">Our Pets</h2>\r\n                            <PetList pets={this.state.shopPets} onRemove={this.onRemove} />\r\n                        </div>\r\n                    </div>\r\n\r\n                }\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        currShop: state.shopReducer.currShop,\r\n        pets: state.petReducer.pets,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n        currChat: state.chatReducer.currChat\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getShopById,\r\n    saveShop,\r\n    loadPets,\r\n    savePet\r\n}\r\n\r\nexport const ShopDetails = connect(mapStateToProps, mapDispatchToProps)(_ShopDetails);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport {\r\n    loadUsers,\r\n    removeUser,\r\n    login,\r\n    logout,\r\n    signup\r\n} from '../store/actions/userActions.js';\r\nimport { getChatById, getChatsByUserId } from '../store/actions/chatActions.js';\r\nimport userService from '../services/userService.js'\r\nclass _LoginModal extends Component {\r\n\r\n    state = {\r\n        msg: '',\r\n        loginCred: {\r\n            userName: '',\r\n            password: ''\r\n        },\r\n        showModal: false\r\n    }\r\n\r\n    loginHandleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState(prevState => ({\r\n            loginCred: {\r\n                ...prevState.loginCred,\r\n                [name]: value\r\n            }\r\n        }));\r\n    };\r\n\r\n    closeModal = () => {\r\n        this.props.onNavBarClick()\r\n    }\r\n\r\n    doLogin = async ev => {\r\n        ev.preventDefault();\r\n        const { userName, password } = this.state.loginCred;\r\n        if (!userName || !password) {\r\n            return this.setState({ msg: 'Please enter user/password' });\r\n        }\r\n        const userCreds = { userName, password };\r\n        await this.props.login(userCreds);\r\n        if (this.props.loggedInUser.chats) {\r\n            this.props.loggedInUser.chats.forEach(async chat => {\r\n                await this.props.getChatById(chat._id);\r\n            })\r\n        }\r\n        console.log(this.props);\r\n       \r\n        this.setState({ loginCred: { userName: '', password: '' } });\r\n        this.props.onNavBarClick()\r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/* <div onClick={()=>{this.props.onNavBarClick()}} className=\"modal-screen\">heyyyyyyyy</div> */}\r\n                <div className=\"login-modal\">\r\n                    <form onSubmit={this.doLogin}>\r\n                        <TextField\r\n                            autoFocus={true}\r\n                            required={true}\r\n                            type=\"text\"\r\n                            name=\"userName\"\r\n                            value={this.state.loginCred.userName}\r\n                            onChange={this.loginHandleChange}\r\n                            placeholder=\"User Name\"\r\n                        />\r\n                        <br />\r\n                        <br />\r\n\r\n                        <TextField\r\n                            required={true}\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={this.state.loginCred.password}\r\n                            onChange={this.loginHandleChange}\r\n                            placeholder=\"Password\"\r\n                        />\r\n                        <br />\r\n                        <br />\r\n\r\n                        <Button onClick={this.doLogin} variant=\"text\" variant=\"outlined\" color=\"primary\" >Login</Button>\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.userReducer.users,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n    };\r\n};\r\nconst mapDispatchToProps = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    removeUser,\r\n    loadUsers,\r\n    getChatsByUserId,\r\n    getChatById\r\n};\r\n\r\n\r\n\r\nexport const LoginModal = connect(mapStateToProps, mapDispatchToProps)(_LoginModal);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { chatService } from \"../services/chatService.js\"\r\nimport userService from '../services/userService.js';\r\nimport { shopService } from '../services/shopService.js'\r\nimport { getChatById, toggleChat } from '../store/actions/chatActions.js';\r\n\r\n\r\nclass _ChatsList extends Component {\r\n\r\n    state = {\r\n        chats: null,\r\n        chatsReady: false,\r\n        usersInfo: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props);\r\n        if (this.props.chats.length > 0) {\r\n            this.setState({ chats: [...this.props.chats] }, () => this.setUsersData())\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (prevProps !== this.props) {\r\n            this.setState({ chats: [...this.props.chats] }, () => this.setUsersData())\r\n        }\r\n    }\r\n    setUsersData = () => {\r\n        this.setState({ chatsReady: true })\r\n        this.state.chats.forEach(async chat => {\r\n            const miniUser = await userService.getMiniById(this.getRecipientId(chat.members))\r\n            this.setRecipientsInfo(miniUser);\r\n        })\r\n\r\n    }\r\n\r\n    async setRecipientsInfo(miniUser) {\r\n        console.log('miniuser:', miniUser);\r\n        let userInfo = {\r\n            [miniUser._id]: {\r\n                imgUrl: miniUser.imgUrl,\r\n                name: miniUser.name\r\n            }\r\n        };\r\n\r\n        if (!miniUser.imgUrl) {\r\n            const name = miniUser.fullName.split(' ');\r\n            userInfo[miniUser._id].imgUrl = `https://ui-avatars.com/api/?name=${name[0]}+${name[1]}`\r\n        }\r\n\r\n        if (miniUser.isOwner) {\r\n            const shop = await shopService.getMiniByUserId(miniUser._id);\r\n            userInfo[miniUser._id].name = shop.name;\r\n            userInfo[miniUser._id].imgUrl = shop.imgUrl\r\n        }\r\n\r\n        this.setState({ usersInfo: { ...this.state.usersInfo, ...userInfo } })\r\n    }\r\n\r\n    onChatListClicked = (chatId) => {\r\n        this.props.toggleChat({ 'chatId': chatId });\r\n        this.props.onToggleChatsList()\r\n    }\r\n\r\n    displayChatDetails = (chat) => {\r\n        console.log(chat);\r\n        const id = this.getRecipientId(chat.members)\r\n        if (!this.state.usersInfo[id]) return\r\n        return (\r\n            <div key={chat._id} className=\"chat-list-row flex\" onClick={() => this.onChatListClicked(chat._id)}>\r\n                <img src={this.state.usersInfo[id].imgUrl} alt=\"\" />\r\n                <div>{this.state.usersInfo[id].name}</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getRecipientId(members) {\r\n        return (members[0] === this.props.loggedInUser._id) ? members[1] : members[0]\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"chat-list-container\">\r\n                {(this.state.chatsReady && this.state.chats.map(chat => this.displayChatDetails(chat))) || <div>No chats to load</div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isChatShown: state.chatReducer.isChatShown,\r\n        chats: state.chatReducer.chats,\r\n        currChat: state.chatReducer.currChat,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getChatById,\r\n    toggleChat\r\n}\r\n\r\nexport const ChatsList = connect(mapStateToProps, mapDispatchToProps)(_ChatsList)\r\n\r\n","import React, { Component } from 'react'\r\nimport { NavLink, Router, withRouter } from 'react-router-dom'\r\nimport { LoginModal } from './LoginModal'\r\nimport { connect } from 'react-redux';\r\nimport { loadShops } from '../store/actions/shopActions'\r\nimport { logout } from '../store/actions/userActions';\r\nimport { ChatsList } from './ChatsList';\r\nimport { toggleChat } from '../store/actions/chatActions.js';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faComments } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nclass _NavBar extends Component {\r\n\r\n    state = {\r\n        showLoginModal: false,\r\n        showChatsList: false,\r\n        shop: '',\r\n        shopId: '',\r\n        pathName: '',\r\n        unReadMsgCount: 0,\r\n        chats:[]\r\n    }\r\n    componentDidMount() {\r\n        this.setState({ pathName: this.props.history.location.pathname })\r\n        // this.setState({chats:this.props.chats},()=>this.setUnreadMsgCount())\r\n        \r\n    }\r\n    componentDidUpdate = async (prevProps) => {\r\n        if (this.props.user && prevProps.user._id !== this.props.user._id) {\r\n            await this.props.loadShops()\r\n            const shops = this.props.shops\r\n            if (this.props.user) {\r\n                const { user } = this.props\r\n                const userId = user._id\r\n                const userShop = shops.find(shop => shop.owner._id === userId)\r\n                if (userShop) this.setState({ shopId: userShop._id, shop: userShop })\r\n            }\r\n        }\r\n        // if (prevProps !== this.props) {\r\n        //     console.log('NavBar updated');\r\n        //     this.setState({chats:this.props.chats},()=>this.setUnreadMsgCount())\r\n        // }\r\n    }\r\n\r\n    onNavBarClick = () => {\r\n        this.setState({ showLoginModal: !this.state.showLoginModal });\r\n        this.setState({ showChatsList: false })\r\n\r\n    }\r\n\r\n    onLogOut = () => {\r\n        this.props.logout();\r\n        this.props.history.push('/');\r\n        this.setState({ showChatsList: false })\r\n        this.props.toggleChat()\r\n\r\n    }\r\n    onToggleChatsList = () => {\r\n        this.setState({ showChatsList: !this.state.showChatsList })\r\n    }\r\n    setUnreadMsgCount() {\r\n        let unReadMsgCount = 0;\r\n        console.log(this.props.chats);\r\n        if (this.state.chats.length === 0) return\r\n\r\n        this.state.chats.forEach(chat => {\r\n            if (chat.msgs.some(msg => !msg.isRead && msg.authorId !== this.props.user._id)) unReadMsgCount++;\r\n        })\r\n        console.log('Unread msgs:', unReadMsgCount);\r\n        this.setState({ unReadMsgCount })\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <div>\r\n\r\n                <div className={this.props.history.location.pathname === '/' ? 'main-nav' : 'main-nav-not-home'}>\r\n                    <div className=\"left-nav\">\r\n                        <NavLink to=\"/\"><img className=\"logo-up\" src={require('../assets/img/logo.png')} alt=\"Home\" /></NavLink>\r\n                        <NavLink className=\"nav-btn\" to=\"/pet\">Gallery</NavLink>\r\n                    </div>\r\n                    <div className=\"right-nav\">\r\n\r\n                        {user && user.isOwner && this.state.shopId && <NavLink className=\"nav-btn shop-btn\" to={`/shop/${this.state.shopId}`}> <img className=\"shop-img\" src={this.state.shop.imgUrls[0]} alt=\"\" /> {this.state.shop.name}</NavLink>}\r\n                        {user && !user.isOwner && !user.isGuest && <NavLink className=\"nav-btn\" to={`/profile/${user._id}`}>{user.fullName}</NavLink>}\r\n\r\n                        {user && !user.isGuest && <div className=\"chats-btn nav-btn\" onClick={this.onToggleChatsList}>\r\n                            <FontAwesomeIcon className=\"send-icon\" icon={faComments} />\r\n                            {this.state.unReadMsgCount > 0 && <div className=\"unread-msgs-count\">{this.state.unReadMsgCount}</div>}\r\n                        </div>}\r\n\r\n                        {user && user.isGuest && <button className=\"login-btn nav-btn\" onClick={() => { this.onNavBarClick() }}>Login</button>}\r\n                        {user && !user.isGuest && <button className=\"logout-btn nav - btn\" onClick={() => { this.onLogOut() }}>Logout</button>}\r\n\r\n                        {this.state.showLoginModal && <LoginModal onNavBarClick={this.onNavBarClick} />}\r\n\r\n                        {user && user.isGuest && <NavLink className=\"nav-btn\" to=\"/signup\">Sign Up</NavLink>}\r\n                    </div>\r\n                </div>\r\n                {this.state.showChatsList && <ChatsList onToggleChatsList={this.onToggleChatsList} />}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.userReducer.loggedInUser,\r\n        shops: state.shopReducer.shops,\r\n        chats: state.chatReducer.chats\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    loadShops,\r\n    logout,\r\n    toggleChat\r\n}\r\n\r\n\r\nexport const NavBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(_NavBar))\r\n\r\n// export const Header = withRouter(connect(mapStateToProps, mapDispatchToProps)(_Header)","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { OrderList } from '../cmps/OrderList.jsx';\r\nimport { UserData } from '../cmps/UserData.jsx';\r\nimport userService from '../services/userService.js';\r\nimport { loadOrders } from '../store/actions/orderActions.js'\r\n\r\n\r\nexport class _userProfile extends Component {\r\n\r\n\r\n    state = {\r\n        user: null\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const userId = this.props.match.params.id\r\n        const user = await userService.getById(userId)\r\n        this.setState({ user: { ...user } });\r\n\r\n    }\r\n\r\n    getUserOrders = () => {\r\n\r\n        const orders = this.props.loadOrders(this.state.user._id, 'buyer._id')\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n        const loggedInUser = this.props.loggedInUser;\r\n        if (!user) return <h3>Loading...</h3>\r\n        return (\r\n            <div className=\"flex column align-center user-profile \"> \r\n                <UserData user={user} display=\"grid\"/>\r\n                <hr/>\r\n                { user._id === loggedInUser._id &&\r\n                    <div className=\"user-profile-adoptions flex column\">\r\n                        <h2>My Adoption Requests</h2>\r\n                        <OrderList isShop={false} orderFilterName={\"buyer._id\"} filterById={user._id} />\r\n                    </div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadOrders\r\n\r\n}\r\n\r\n\r\nexport const userProfile = connect(mapStateToProps, mapDispatchToProps)(_userProfile)","import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport {  FacebookIcon, TwitterIcon } from 'react-share'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\n\r\nexport class Footer extends Component {\r\n\r\n    \r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"footer full\">\r\n                <NavLink to=\"/\"><img className=\"logo-footer\" src={require('../assets/img/logo-with-title.png')} alt=\"Home\" /></NavLink>\r\n                <p>Powered By ADA Systems.</p>\r\n                <div className=\"social\">\r\n                <a href=\"https://www.facebook.com/iHeartDogscom\" target=\"_blank\"><FacebookIcon size={30} /></a>\r\n                <a href=\"https://twitter.com/AdoptCatsDogs\" target=\"_blank\"><TwitterIcon size={30} /></a>\r\n                <a href=\"https://www.instagram.com/charlie_retriever/?hl=en\" target=\"_blank\"><img className=\"insta-logo\" src={require('../assets/img/insta.png')} alt=\"\"/></a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import io from 'socket.io-client';\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3002/'\r\nconst socketService = createSocketService();\r\n// const socketService = createDummySocketService();\r\n\r\nwindow.socketService = socketService;\r\nexport default socketService;\r\n\r\nfunction createSocketService() {\r\n  var socket;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl);\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb);\r\n    },\r\n    off(eventName, cb) {\r\n      socket.off(eventName, cb);\r\n    },\r\n    emit(eventName, data) {\r\n\r\n      console.log('socketservice:',eventName, 'Data', data);\r\n      socket.emit(eventName, data);\r\n    },\r\n    terminate() {\r\n      socket = null;\r\n    }\r\n  }\r\n  return socketService;\r\n}\r\n\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    setup() {\r\n      listenersMap = {}\r\n      window.listenersMap = listenersMap;\r\n    },\r\n    terminate() {\r\n      listenersMap = {}\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return;\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      });\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService;\r\n}\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) {console.log(x)}\r\n// socketService.on('baba', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n","\r\nimport React, { Component } from 'react'\r\nimport socketService from '../services/socketService'\r\nimport { connect } from 'react-redux';\r\nimport { loadPets } from '../store/actions/petActions.js';\r\nimport { saveChat, getChatById, toggleChat } from '../store/actions/chatActions.js';\r\nimport { updateUser } from '../store/actions/userActions.js';\r\nimport userService from '../services/userService.js'\r\nimport { shopService } from '../services/shopService.js'\r\nimport { chatService } from '../services/chatService.js'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport { faTimes, faPaperPlane } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nclass _Chat extends Component {\r\n\r\n    state = {\r\n        chat: {\r\n            topic: '',\r\n            members: [],\r\n            msgs: []\r\n        },\r\n        msg: {\r\n            authorId: '',\r\n            createdAt: '',\r\n            txt: '',\r\n            isRead: false\r\n        },\r\n        recipient: {},\r\n        sender: {}\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var sender = this.props.loggedInUser;\r\n        this.setState({ sender })\r\n\r\n        if (this.props.currChatInfo.chatId) {\r\n            const chat = this.props.chats.find(chat => chat._id === this.props.currChatInfo.chatId);\r\n            this.setState({ chat });\r\n            this.setRecipientInfo(this.getRecipientId(chat.members));\r\n            this.setSocket();\r\n        } else {\r\n            await this.setRecipientInfo(this.props.currChatInfo.userId);\r\n            const chat = this.getChatIfExists() || this.creatNewChat();\r\n            this.setState({ chat },()=>this.setSocket());\r\n            console.log(this.state);\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        socketService.off('chat addMsg', this.addMsg);\r\n        socketService.terminate();\r\n    }\r\n\r\n    getChatIfExists() {\r\n        const chats= this.props.chats.find(chat => {\r\n            return (chat.members.includes(this.state.sender._id) && chat.members.includes(this.state.recipient._id))\r\n        })\r\n        console.log(chats);\r\n        return chats\r\n    }\r\n    setRecipientInfo = async (id) => {\r\n\r\n        let recipient = await userService.getMiniById(id);\r\n        console.log(recipient);\r\n        if (!recipient.imgUrl) {\r\n            const name = recipient.name.split(' ');\r\n            recipient.imgUrl = `https://ui-avatars.com/api/?name=${name[0]}+${name[1]}`\r\n        }\r\n        if (recipient.isOwner) {\r\n            const shop = await shopService.getMiniByUserId(recipient._id);\r\n            recipient.name = shop.name;\r\n            recipient.imgUrl = shop.imgUrl;\r\n        }\r\n        this.setState({ recipient });\r\n    }\r\n\r\n    setSocket =  () => {\r\n        console.log(this.state);\r\n        socketService.setup();\r\n        socketService.emit('chat topic', this.state.chat.topic);\r\n        socketService.on('chat addMsg', this.addMsg);\r\n    }\r\n\r\n    creatNewChat = () => {\r\n        const chat = {\r\n            topic: `${this.state.sender._id}__${this.state.recipient._id}`,\r\n            members: [this.state.sender._id, this.state.recipient._id],\r\n            msgs: []\r\n        }\r\n        return chat\r\n    }\r\n\r\n    getRecipientId(members) {\r\n        const id=  members.find(member=>member!==this.props.loggedInUser._id)\r\n        return id\r\n    }\r\n\r\n    addMsg = async newMsg => {\r\n        this.setState({\r\n            chat: {\r\n                ...this.state.chat,\r\n                msgs: [...this.state.chat.msgs, newMsg]\r\n            }\r\n        }, () => this.props.saveChat(this.state.chat));\r\n    }\r\n\r\n    sendMsg = async (ev) => {\r\n        ev.preventDefault();\r\n        const msg = {\r\n            authorId: this.props.loggedInUser._id,\r\n            createdAt: new Date(),\r\n            txt: this.state.msg.txt,\r\n            isRead: false\r\n        }\r\n        await this.setState({ msg: { ...msg } });\r\n        socketService.emit('chat newMsg', this.state.msg);\r\n        this.setState({ msg: { authorId: '', createdAt: '', txt: '', isRead: false } });\r\n    }\r\n\r\n    msgHandleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState(prevState => {\r\n            return {\r\n                msg: {\r\n                    ...prevState.msg,\r\n                    [name]: value\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    onClose = () => {\r\n        this.props.toggleChat();\r\n    }\r\n\r\n    displayMsg = (msg, idx) => {\r\n        let classTxt = 'message-row ';\r\n        const time = new Date(msg.createdAt);   \r\n        const isAuthor = msg.authorId === this.state.sender._id;\r\n        classTxt += isAuthor ? 'sender' : 'recipient';\r\n        return (\r\n            <div className={classTxt} key={idx}>\r\n                {!isAuthor && <img src={this.state.recipient.imgUrl} alt=\"\" />}\r\n                <div className=\"message-content\">\r\n                    <div className=\"txt\">{msg.txt}</div>\r\n                    <div className=\"date\" >{time.getHours() + ':' + time.getMinutes()}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"chat-container\">\r\n                <section className=\"chat-title flex space-evenly\">\r\n                    {this.state.recipient && <span>{this.state.recipient.name}</span>}\r\n                    <button className=\"btn-close btn\" onClick={this.onClose}><FontAwesomeIcon className=\"close-icon\" icon={faTimes} /></button>\r\n                </section>\r\n                <section className=\"msgs-container\">\r\n                    {this.state.chat.msgs && this.state.chat.msgs.slice(0).reverse().map((msg, idx) => (\r\n                        this.displayMsg(msg, idx))\r\n                    )}\r\n                </section>\r\n                <form onSubmit={this.sendMsg}>\r\n                    <section className=\"input-container flex space-around\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={this.state.msg.txt}\r\n                            onChange={this.msgHandleChange}\r\n                            name=\"txt\"\r\n                            autoComplete=\"off\"\r\n                            placeholder=\"Type Message Here\"\r\n                        />\r\n                        <button className=\"btn-send\"><FontAwesomeIcon className=\"send-icon\" icon={faPaperPlane} /></button>\r\n                    </section>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isChatShown: state.chatReducer.isChatShown,\r\n        chats: state.chatReducer.chats,\r\n        currChatInfo: state.chatReducer.currChatInfo,\r\n        pets: state.petReducer.pets,\r\n        loggedInUser: state.userReducer.loggedInUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadPets,\r\n    saveChat,\r\n    getChatById,\r\n    updateUser,\r\n    toggleChat\r\n}\r\n\r\nexport const Chat = connect(mapStateToProps, mapDispatchToProps)(_Chat)","import React, { Component } from 'react'\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Home } from './pages/Home';\r\nimport { SignUp } from './pages/SignUp';\r\nimport { About } from './cmps/About';\r\nimport { PetApp } from './pages/PetApp';\r\nimport { PetEdit } from './pages/PetEdit';\r\nimport { PetDetails } from './pages/PetDetails';\r\nimport { ShopDetails } from './pages/ShopDetails';\r\nimport { NavBar } from './cmps/NavBar';\r\nimport { userProfile } from './pages/userProfile';\r\nimport { Footer } from './cmps/Footer';\r\nimport {Chat} from './cmps/Chat.jsx'\r\nimport { toggleChat } from './store/actions/chatActions.js';\r\n\r\n class _App extends Component {\r\n\r\n  state={\r\n    isChatShown:false\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({isChatShown:this.props.isChatShown})\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(prevProps!==this.props) this.setState({isChatShown:this.props.isChatShown})\r\n    console.log(this.props.isChatShown);\r\n  }\r\n\r\n\r\n  render() {\r\n   \r\n    \r\n\r\n    return (\r\n      <div>\r\n        <header >\r\n          <NavBar  onToggleChatsList={this.onToggleChatsList}/>\r\n        </header>\r\n        <main>\r\n          {this.state.isChatShown && <Chat/>}\r\n          <Switch>\r\n            <Route component={ShopDetails} path=\"/shop/:id\" />\r\n            <Route component={PetDetails}  path=\"/details/:id?\" />\r\n            <Route component={PetEdit} path=\"/edit/:id?\" />\r\n            <Route component={SignUp} path=\"/signup/:type?\" />\r\n            <Route component={userProfile} path=\"/profile/:id\" />\r\n            <Route component={PetApp} path=\"/pet/:filterType?\" />\r\n            <Route component={Home} path=\"/\" /> \r\n          </Switch>\r\n        </main>\r\n        <footer>\r\n          <Footer />\r\n        </footer>\r\n      </div >\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      isChatShown: state.chatReducer.isChatShown,\r\n     \r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  toggleChat\r\n}\r\n\r\nexport const App = connect(mapStateToProps)(_App)","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialState = {\r\n    pets: [],\r\n    filterBy: {\r\n        type: '',\r\n        gender: '',\r\n        breed: '',\r\n        size: '',\r\n        txt: '',\r\n        distance: {\r\n            lat: 0,\r\n            lon: 0,\r\n            range: 0\r\n        }\r\n    }\r\n}\r\n\r\nexport function petReducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case 'LOAD_PETS':\r\n            return {\r\n                ...state,\r\n                pets: [...action.pets]\r\n            }\r\n            case 'ADD_PET':\r\n                return {\r\n                    ...state,\r\n                    pets: [...state.pets, action.petToSave]\r\n                }\r\n                case 'EDIT_PET':\r\n                    console.log(action.petToSave);\r\n                    return {\r\n                        ...state,\r\n                        pets: state.pets.map(pet => {\r\n                            if (pet._id === action.petToSave._id) return action.petToSave\r\n                            return pet\r\n                        })\r\n                    }\r\n                    case 'REMOVE_PET':\r\n                        return {\r\n                            ...state,\r\n                            pets: state.pets.filter(pet => pet._id !== action.petId)\r\n                        }\r\n                        case 'SET_FILTER':\r\n                            console.log(action.filterBy);\r\n                            return {\r\n                                ...state,\r\n                                filterBy: {\r\n                                    ...state.filterBy,\r\n                                    ...action.filterBy\r\n                                }\r\n                            }\r\n                            default:\r\n                                return state;\r\n    }\r\n}","const initialState = {\r\n    shops: [],\r\n    currShop: {}\r\n}\r\n\r\nexport function shopReducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case 'LOAD_SHOPS':\r\n            return {\r\n                ...state,\r\n                shops: [...action.shops]\r\n            }\r\n        case 'GET_SHOP':\r\n            return {\r\n                ...state,\r\n                currShop: JSON.parse(JSON.stringify(action.shop))\r\n            }\r\n        case 'ADD_SHOP':\r\n            return {\r\n                ...state,\r\n                shops: [...state.shops, action.shopToSave]\r\n            }\r\n        case 'EDIT_SHOP':\r\n            return {\r\n                ...state,\r\n                shops: state.shops.map(shop => {\r\n                    if (shop._id === action.shopToSave._id) return action.shopToSave;\r\n                    return shop;\r\n                })\r\n            }\r\n        case 'REMOVE_SHOP':\r\n            return {\r\n                ...state,\r\n                shops: state.shops.filter(shop => shop._id !== action.shopId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","let localLoggedinUser = {_id: 'guest', fullName: 'guest', isGuest: true};\r\n\r\nconst initialState = {\r\n    loggedInUser: localLoggedinUser,\r\n    users: []\r\n};\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            // console.log('action.user', action.user);\r\n            return {\r\n                ...state, loggedInUser: action.user\r\n            };\r\n        // case 'UPDATE_USER':\r\n        //     return {\r\n        //         ...state,\r\n        //         users: state.users.map(user => {\r\n        //             if (user._id === action.userToSave._id) return action.userToSave;\r\n        //             return user;\r\n        //         })\r\n        //     }\r\n        case 'UPDATE_USER':\r\n            return {\r\n                ...state,\r\n                loggedInUser: action.userToSave\r\n            }\r\n        case 'USER_REMOVE':\r\n            return {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            };\r\n        case 'SET_USERS':\r\n            return {\r\n                ...state, users: action.users\r\n            };\r\n        case 'LOGOUT':\r\n            return {\r\n                ...state, loggedInUser: localLoggedinUser\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    orders: [],\r\n    filterBy: {\r\n        shop:''\r\n    }\r\n}\r\n\r\nexport function orderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'LOAD_ORDERS':\r\n            return {\r\n                ...state,\r\n                orders: [...action.orders]\r\n            }\r\n        case 'ADD_ORDER':\r\n            return {\r\n                ...state,\r\n                orders: [...state.orders, action.orderToSave]\r\n            }\r\n        case 'EDIT_ORDER':\r\n            return {\r\n                ...state,\r\n                orders: state.orders.map(order => {\r\n                    if (order._id === action.orderToSave._id) return action.orderToSave;\r\n                    return order;\r\n                })\r\n            }\r\n        case 'REMOVE_ORDER':\r\n            return {\r\n                ...state,\r\n                orders: state.orders.filter(order => order._id !== action.orderId)\r\n            }\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: { ...state.filterBy, ...action.filterBy }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","const initialState = {\r\n    isChatShown:false,\r\n    currChatInfo:null,\r\n    chats: [],\r\n    currChatId:'',\r\n    filterBy: {}\r\n}\r\n\r\nexport function chatReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'TOGGLE_CHAT':\r\n            if (!action.chatInfo){\r\n                return {\r\n                    ...state,\r\n                    isChatShown: false,\r\n                    currChatInfo: {...action.chatInfo}\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                isChatShown: true,\r\n                currChatInfo: {...action.chatInfo}\r\n            }\r\n        case 'LOAD_CHATS':\r\n            return {\r\n                ...state,\r\n                chats: [...action.chats]\r\n            }\r\n        case 'GET_CHAT':\r\n            return {\r\n                ...state,\r\n                chats: [...state.chats,action.chat]\r\n            }\r\n        case 'ADD_CHAT':\r\n            console.log('IN REDUCER',action.chatToSave);\r\n            return {\r\n                ...state,\r\n                chats: [...state.chats, action.chatToSave],\r\n            }\r\n        case 'EDIT_CHAT':\r\n            return {\r\n                ...state,\r\n                chats: state.chats.map(chat => {\r\n                    if (chat._id === action.chatToSave._id) return action.chatToSave;\r\n                    return chat;\r\n                }),\r\n            }\r\n        case 'REMOVE_CHAT':\r\n            return {\r\n                ...state,\r\n                chats: state.chats.filter(chat => chat._id !== action.chatId)\r\n            }\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: { ...state.filterBy, ...action.filterBy }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, applyMiddleware, compose, combineReducers } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { petReducer } from './reducers/petReducer';\r\nimport { shopReducer } from './reducers/shopReducer';\r\nimport { userReducer } from './reducers/userReducer'\r\nimport { orderReducer } from './reducers/orderReducer'\r\nimport { chatReducer } from './reducers/chatReducer';\r\n// import { reviewReducer } from './reducers/reviewReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    petReducer,\r\n    shopReducer,\r\n    userReducer,\r\n    orderReducer,\r\n    chatReducer\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/scss/global.scss'\r\nimport { App } from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from 'react-redux'\r\nimport {store} from './store/store'\r\nimport {HashRouter as Router} from 'react-router-dom'\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}> \r\n    <Router>\r\n    <App />\r\n    </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}